<!DOCTYPE html>
<html lang="en">
 <head>
  <script>
   var LOCALE = 'en\u002DCA'; var BASE_URL = 'https\u003A\u002F\u002Fwww.lcbo.com\u002Fen\u002F'; var require = { 'baseUrl': 'https\u003A\u002F\u002Fwww.lcbo.com\u002Fstatic\u002Fversion1706846107\u002Ffrontend\u002FLcbo\u002Fdefault\u002Fen_CA' };
  </script>
  <meta charset="utf-8"/>
  <script type="text/javascript">
   (window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:true},ajax:{deny_list:["bam.nr-data.net"]},distributed_tracing:{enabled:true}};(window.NREUM||(NREUM={})).loader_config={agentID:"1028008692",accountID:"3202131",trustKey:"1322840",xpid:"VwQHU1dQCRAJU1NUAgMEUFQ=",licenseKey:"NRJS-8e25409fe505fc54578",applicationID:"972652360"};;/*! For license information please see nr-loader-spa-1.252.0.min.js.LICENSE.txt */
(()=>{var e,t,r={234:(e,t,r)=>{"use strict";r.d(t,{P_:()=>m,Mt:()=>b,C5:()=>s,DL:()=>w,OP:()=>D,lF:()=>O,Yu:()=>E,Dg:()=>v,CX:()=>c,GE:()=>x,sU:()=>N});var n=r(8632),i=r(9567);const o={beacon:n.ce.beacon,errorBeacon:n.ce.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},a={};function s(e){if(!e)throw new Error("All info objects require an agent identifier!");if(!a[e])throw new Error("Info for ".concat(e," was never set"));return a[e]}function c(e,t){if(!e)throw new Error("All info objects require an agent identifier!");a[e]=(0,i.D)(t,o);const r=(0,n.ek)(e);r&&(r.info=a[e])}const u=e=>{if(!e||"string"!=typeof e)return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0};var d=r(7056),l=r(50);const f="[data-nr-mask]",h=()=>{const e={mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{feature_flags:[],proxy:{assets:void 0,beacon:void 0},privacy:{cookies_enabled:!0},ajax:{deny_list:void 0,block_internal:!0,enabled:!0,harvestTimeSeconds:10,autoStart:!0},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},session:{domain:void 0,expiresMs:d.oD,inactiveMs:d.Hb},ssl:void 0,obfuscate:void 0,jserrors:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},metrics:{enabled:!0,autoStart:!0},page_action:{enabled:!0,harvestTimeSeconds:30,autoStart:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,harvestTimeSeconds:30,long_task:!1,autoStart:!0},session_trace:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},harvest:{tooManyRequestsDelay:60},session_replay:{autoStart:!0,enabled:!1,harvestTimeSeconds:60,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,inline_stylesheet:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(t){u(t)?e.mask_selector="".concat(t,",").concat(f):""===t||null===t?e.mask_selector=f:(0,l.Z)("An invalid session_replay.mask_selector was provided. '*' will be used.",t)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(t){u(t)?e.block_selector+=",".concat(t):""!==t&&(0,l.Z)("An invalid session_replay.block_selector was provided and will not be used",t)},get mask_input_options(){return e.mask_input_options},set mask_input_options(t){t&&"object"==typeof t?e.mask_input_options={...t,password:!0}:(0,l.Z)("An invalid session_replay.mask_input_option was provided and will not be used",t)}},spa:{enabled:!0,harvestTimeSeconds:10,autoStart:!0}}},p={},g="All configuration objects require an agent identifier!";function m(e){if(!e)throw new Error(g);if(!p[e])throw new Error("Configuration for ".concat(e," was never set"));return p[e]}function v(e,t){if(!e)throw new Error(g);p[e]=(0,i.D)(t,h());const r=(0,n.ek)(e);r&&(r.init=p[e])}function b(e,t){if(!e)throw new Error(g);var r=m(e);if(r){for(var n=t.split("."),i=0;i<n.length-1;i++)if("object"!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}const y={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},A={};function w(e){if(!e)throw new Error("All loader-config objects require an agent identifier!");if(!A[e])throw new Error("LoaderConfig for ".concat(e," was never set"));return A[e]}function x(e,t){if(!e)throw new Error("All loader-config objects require an agent identifier!");A[e]=(0,i.D)(t,y);const r=(0,n.ek)(e);r&&(r.loader_config=A[e])}const E=(0,n.mF)().o;var _=r(385),T=r(6818);const S={buildEnv:T.Re,customTransaction:void 0,disabled:!1,distMethod:T.gF,isolatedBacklog:!1,loaderType:void 0,maxBytes:3e4,offset:Math.floor(_._A?.performance?.timeOrigin||_._A?.performance?.timing?.navigationStart||Date.now()),onerror:void 0,origin:""+_._A.location,ptid:void 0,releaseIds:{},session:void 0,xhrWrappable:"function"==typeof _._A.XMLHttpRequest?.prototype?.addEventListener,version:T.q4,denyList:void 0},R={};function D(e){if(!e)throw new Error("All runtime objects require an agent identifier!");if(!R[e])throw new Error("Runtime for ".concat(e," was never set"));return R[e]}function N(e,t){if(!e)throw new Error("All runtime objects require an agent identifier!");R[e]=(0,i.D)(t,S);const r=(0,n.ek)(e);r&&(r.runtime=R[e])}function O(e){return function(e){try{const t=s(e);return!!t.licenseKey&&!!t.errorBeacon&&!!t.applicationID}catch(e){return!1}}(e)}},9567:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(50);function i(e,t){try{if(!e||"object"!=typeof e)return(0,n.Z)("Setting a Configurable requires an object as input");if(!t||"object"!=typeof t)return(0,n.Z)("Setting a Configurable requires a model to set its initial properties");const r=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),o=0===Object.keys(r).length?e:r;for(let a in o)if(void 0!==e[a])try{Array.isArray(e[a])&&Array.isArray(t[a])?r[a]=Array.from(new Set([...e[a],...t[a]])):"object"==typeof e[a]&&"object"==typeof t[a]?r[a]=i(e[a],t[a]):r[a]=e[a]}catch(e){(0,n.Z)("An error occurred while setting a property of a Configurable",e)}return r}catch(e){(0,n.Z)("An error occured while setting a Configurable",e)}}},6818:(e,t,r)=>{"use strict";r.d(t,{Re:()=>i,gF:()=>o,lF:()=>a,q4:()=>n});const n="1.252.0",i="PROD",o="CDN",a="2.0.0-alpha.11"},385:(e,t,r)=>{"use strict";r.d(t,{FN:()=>c,IF:()=>l,LW:()=>a,Nk:()=>h,Tt:()=>u,_A:()=>o,cv:()=>p,iS:()=>s,il:()=>n,ux:()=>d,v6:()=>i,w1:()=>f});const n="undefined"!=typeof window&&!!window.document,i="undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),o=n?window:"undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis),a="complete"===o?.document?.readyState,s=Boolean("hidden"===o?.document?.visibilityState),c=""+o?.location,u=/iPad|iPhone|iPod/.test(o.navigator?.userAgent),d=u&&"undefined"==typeof SharedWorker,l=(()=>{const e=o.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),f=Boolean(n&&window.document.documentMode),h=!!o.navigator?.sendBeacon,p=Math.floor(o?.performance?.timeOrigin||o?.performance?.timing?.navigationStart||Date.now())},1117:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var n=r(50);const i={agentIdentifier:"",ee:void 0};class o{constructor(e){try{if("object"!=typeof e)return(0,n.Z)("shared context requires an object as input");this.sharedContext={},Object.assign(this.sharedContext,i),Object.entries(e).forEach((e=>{let[t,r]=e;Object.keys(i).includes(t)&&(this.sharedContext[t]=r)}))}catch(e){(0,n.Z)("An error occured while setting SharedContext",e)}}}},8e3:(e,t,r)=>{"use strict";r.d(t,{L:()=>d,R:()=>c});var n=r(8325),i=r(1284),o=r(4322),a=r(3325);const s={};function c(e,t){const r={staged:!1,priority:a.p[t]||0};u(e),s[e].get(t)||s[e].set(t,r)}function u(e){e&&(s[e]||(s[e]=new Map))}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feature",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(u(e),!e||!s[e].get(t)||r)return c(t);s[e].get(t).staged=!0;const a=[...s[e]];function c(t){const r=e?n.ee.get(e):n.ee,a=o.X.handlers;if(r.backlog&&a){var s=r.backlog[t],c=a[t];if(c){for(var u=0;s&&u<s.length;++u)l(s[u],c);(0,i.D)(c,(function(e,t){(0,i.D)(t,(function(t,r){r[0].on(e,r[1])}))}))}delete a[t],r.backlog[t]=null,r.emit("drain-"+t,[])}}a.every((e=>{let[t,r]=e;return r.staged}))&&(a.sort(((e,t)=>e[1].priority-t[1].priority)),a.forEach((t=>{let[r]=t;s[e].delete(r),c(r)})))}function l(e,t){var r=e[1];(0,i.D)(t[r],(function(t,r){var n=e[0];if(r[0]===n){var i=r[1],o=e[3],a=e[2];i.apply(o,a)}}))}},8325:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,ee:()=>u});var n=r(8632),i=r(2210),o=r(234);class a{constructor(e){this.contextId=e}}var s=r(3117);const c="nr@context:".concat(s.a),u=function e(t,r){var n={},s={},d={},f=!1;try{f=16===r.length&&(0,o.OP)(r).isolatedBacklog}catch(e){}var h={on:g,addEventListener:g,removeEventListener:function(e,t){var r=n[e];if(!r)return;for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)},emit:function(e,r,n,i,o){!1!==o&&(o=!0);if(u.aborted&&!i)return;t&&o&&t.emit(e,r,n);for(var a=p(n),c=m(e),d=c.length,l=0;l<d;l++)c[l].apply(a,r);var f=b()[s[e]];f&&f.push([h,e,r,a]);return a},get:v,listeners:m,context:p,buffer:function(e,t){const r=b();if(t=t||"feature",h.aborted)return;Object.entries(e||{}).forEach((e=>{let[n,i]=e;s[i]=t,t in r||(r[t]=[])}))},abort:l,aborted:!1,isBuffering:function(e){return!!b()[s[e]]},debugId:r,backlog:f?{}:t&&"object"==typeof t.backlog?t.backlog:{}};return h;function p(e){return e&&e instanceof a?e:e?(0,i.X)(e,c,(()=>new a(c))):new a(c)}function g(e,t){n[e]=m(e).concat(t)}function m(e){return n[e]||[]}function v(t){return d[t]=d[t]||e(h,t)}function b(){return h.backlog}}(void 0,"globalEE"),d=(0,n.fP)();function l(){u.aborted=!0,Object.keys(u.backlog).forEach((e=>{delete u.backlog[e]}))}d.ee||(d.ee=u)},5546:(e,t,r)=>{"use strict";r.d(t,{E:()=>n,p:()=>i});var n=r(8325).ee.get("handle");function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},4322:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(5546);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.E,i,e,t,r)}function a(e,t,r,i,o){o||(o="feature"),e||(e=n.E);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},3239:(e,t,r)=>{"use strict";r.d(t,{bP:()=>s,iz:()=>c,m$:()=>a});var n=r(385);let i=!1,o=!1;try{const e={get passive(){return i=!0,!1},get signal(){return o=!0,!1}};n._A.addEventListener("test",null,e),n._A.removeEventListener("test",null,e)}catch(e){}function a(e,t){return i||o?{capture:!!e,passive:i,signal:t}:!!e}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;window.addEventListener(e,t,a(r,n))}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;document.addEventListener(e,t,a(r,n))}},3117:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});const n=(0,r(4402).Rl)()},4402:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>u,M:()=>c,Rl:()=>a,ky:()=>s});var n=r(385);const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function o(e,t){return e?15&e[t]:16*Math.random()|0}function a(){const e=n._A?.crypto||n._A?.msCrypto;let t,r=0;return e&&e.getRandomValues&&(t=e.getRandomValues(new Uint8Array(30))),i.split("").map((e=>"x"===e?o(t,r++).toString(16):"y"===e?(3&o()|8).toString(16):e)).join("")}function s(e){const t=n._A?.crypto||n._A?.msCrypto;let r,i=0;t&&t.getRandomValues&&(r=t.getRandomValues(new Uint8Array(e)));const a=[];for(var s=0;s<e;s++)a.push(o(r,i++).toString(16));return a.join("")}function c(){return s(16)}function u(){return s(32)}},7056:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>n,Hb:()=>o,IK:()=>c,oD:()=>i,uT:()=>s,wO:()=>a});const n="NRBA",i=144e5,o=18e5,a={PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},s={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},c={OFF:0,FULL:1,ERROR:2}},7894:(e,t,r)=>{"use strict";function n(){return Math.round(performance.now())}r.d(t,{z:()=>n})},7243:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(385);function i(e){if(0===(e||"").indexOf("data:"))return{protocol:"data"};try{const t=new URL(e,location.href),r={port:t.port,hostname:t.hostname,pathname:t.pathname,search:t.search,protocol:t.protocol.slice(0,t.protocol.indexOf(":")),sameOrigin:t.protocol===n._A?.location?.protocol&&t.host===n._A?.location?.host};return r.port&&""!==r.port||("http:"===t.protocol&&(r.port="80"),"https:"===t.protocol&&(r.port="443")),r.pathname&&""!==r.pathname?r.pathname.startsWith("/")||(r.pathname="/".concat(r.pathname)):r.pathname="/",r}catch(e){return{}}}},50:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof console.warn&&(console.warn("New Relic: ".concat(e)),t&&console.warn(t))}r.d(t,{Z:()=>n})},2825:(e,t,r)=>{"use strict";r.d(t,{N:()=>d,T:()=>l});var n=r(8325),i=r(5546),o=r(3325),a=r(385);const s="newrelic";const c={stn:[o.D.sessionTrace],err:[o.D.jserrors,o.D.metrics],ins:[o.D.pageAction],spa:[o.D.spa],sr:[o.D.sessionReplay,o.D.sessionTrace]},u=new Set;function d(e,t){const r=n.ee.get(t);e&&"object"==typeof e&&(u.has(t)||(Object.entries(e).forEach((e=>{let[t,n]=e;c[t]?c[t].forEach((e=>{n?(0,i.p)("feat-"+t,[],void 0,e,r):(0,i.p)("block-"+t,[],void 0,e,r),(0,i.p)("rumresp-"+t,[Boolean(n)],void 0,e,r)})):n&&(0,i.p)("feat-"+t,[],void 0,void 0,r),l[t]=Boolean(n)})),Object.keys(c).forEach((e=>{void 0===l[e]&&(c[e]?.forEach((t=>(0,i.p)("rumresp-"+e,[!1],void 0,t,r))),l[e]=!1)})),u.add(t),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{a._A.dispatchEvent(new CustomEvent(s,{detail:e}))}catch(e){}}({loaded:!0})))}const l={}},2210:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},1284:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});const n=(e,t)=>Object.entries(e||{}).map((e=>{let[r,n]=e;return t(r,n)}))},4351:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(8325);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function o(e){try{return JSON.stringify(e,i())}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}}}},3960:(e,t,r)=>{"use strict";r.d(t,{KB:()=>a,b2:()=>o});var n=r(3239);function i(){return"undefined"==typeof document||"complete"===document.readyState}function o(e,t){if(i())return e();(0,n.bP)("load",e,t)}function a(e){if(i())return e();(0,n.iz)("DOMContentLoaded",e)}},8632:(e,t,r)=>{"use strict";r.d(t,{EZ:()=>d,ce:()=>o,ek:()=>u,fP:()=>a,gG:()=>l,h5:()=>c,mF:()=>s});var n=r(7894),i=r(385);const o={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function a(){return i._A.NREUM||(i._A.NREUM={}),void 0===i._A.newrelic&&(i._A.newrelic=i._A.NREUM),i._A.NREUM}function s(){let e=a();return e.o||(e.o={ST:i._A.setTimeout,SI:i._A.setImmediate,CT:i._A.clearTimeout,XHR:i._A.XMLHttpRequest,REQ:i._A.Request,EV:i._A.Event,PR:i._A.Promise,MO:i._A.MutationObserver,FETCH:i._A.fetch}),e}function c(e,t){let r=a();r.initializedAgents??={},t.initializedAt={ms:(0,n.z)(),date:new Date},r.initializedAgents[e]=t}function u(e){let t=a();return t.initializedAgents?.[e]}function d(e,t){a()[e]=t}function l(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},7956:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(3239);function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;(0,n.iz)("visibilitychange",(function(){if(t)return void("hidden"===document.visibilityState&&e());e(document.visibilityState)}),r,i)}},1214:(e,t,r)=>{"use strict";r.d(t,{em:()=>b,u5:()=>R,QU:()=>O,_L:()=>P,Gm:()=>M,Lg:()=>L,BV:()=>Z,Kf:()=>Y});var n=r(8325),i=r(3117);const o="nr@original:".concat(i.a);var a=Object.prototype.hasOwnProperty,s=!1;function c(e,t){return e||(e=n.ee),r.inPlace=function(e,t,n,i,o){n||(n="");const a="-"===n.charAt(0);for(let s=0;s<t.length;s++){const c=t[s],u=e[c];d(u)||(e[c]=r(u,a?c+n:n,i,c,o))}},r.flag=o,r;function r(t,r,n,s,c){return d(t)?t:(r||(r=""),nrWrapper[o]=t,function(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})})),t}catch(e){u([e],r)}for(var n in e)a.call(e,n)&&(t[n]=e[n])}(t,nrWrapper,e),nrWrapper);function nrWrapper(){var o,a,d,l;try{a=this,o=[...arguments],d="function"==typeof n?n(o,a):n||{}}catch(t){u([t,"",[o,a,s],d],e)}i(r+"start",[o,a,s],d,c);try{return l=t.apply(a,o)}catch(e){throw i(r+"err",[o,a,e],d,c),e}finally{i(r+"end",[o,a,l],d,c)}}}function i(r,n,i,o){if(!s||t){var a=s;s=!0;try{e.emit(r,n,i,t,o)}catch(t){u([t,r,n,i],e)}s=a}}}function u(e,t){t||(t=n.ee);try{t.emit("internal-error",e)}catch(e){}}function d(e){return!(e&&"function"==typeof e&&e.apply&&!e[o])}var l=r(2210),f=r(385);const h={},p=f._A.XMLHttpRequest,g="addEventListener",m="removeEventListener",v="nr@wrapped:".concat(n.A);function b(e){var t=function(e){return(e||n.ee).get("events")}(e);if(h[t.debugId]++)return t;h[t.debugId]=1;var r=c(t,!0);function i(e){r.inPlace(e,[g,m],"-",o)}function o(e,t){return e[1]}return"getPrototypeOf"in Object&&(f.il&&y(document,i),y(f._A,i),y(p.prototype,i)),t.on(g+"-start",(function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var i=(0,l.X)(n,v,(function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n}));this.wrapped=e[1]=i}})),t.on(m+"-start",(function(e){e[1]=this.wrapped||e[1]})),t}function y(e,t){let r=e;for(;"object"==typeof r&&!Object.prototype.hasOwnProperty.call(r,g);)r=Object.getPrototypeOf(r);for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r&&t(r,...i)}var A="fetch-",w=A+"body-",x=["arrayBuffer","blob","json","text","formData"],E=f._A.Request,_=f._A.Response,T="prototype";const S={};function R(e){const t=function(e){return(e||n.ee).get("fetch")}(e);if(!(E&&_&&f._A.fetch))return t;if(S[t.debugId]++)return t;function r(e,r,i){var o=e[r];"function"==typeof o&&(e[r]=function(){var e,r=[...arguments],a={};t.emit(i+"before-start",[r],a),a[n.A]&&a[n.A].dt&&(e=a[n.A].dt);var s=o.apply(this,r);return t.emit(i+"start",[r,e],s),s.then((function(e){return t.emit(i+"end",[null,e],s),e}),(function(e){throw t.emit(i+"end",[e],s),e}))})}return S[t.debugId]=1,x.forEach((e=>{r(E[T],e,w),r(_[T],e,w)})),r(f._A,"fetch",A),t.on(A+"end",(function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(A+"done",[null,r],n)}else t.emit(A+"done",[e],n)})),t}const D={},N=["pushState","replaceState"];function O(e){const t=function(e){return(e||n.ee).get("history")}(e);return!f.il||D[t.debugId]++||(D[t.debugId]=1,c(t).inPlace(window.history,N,"-")),t}var I=r(3239);const j={},C=["appendChild","insertBefore","replaceChild"];function P(e){const t=function(e){return(e||n.ee).get("jsonp")}(e);if(!f.il||j[t.debugId])return t;j[t.debugId]=!0;var r=c(t),i=/[?&](?:callback|cb)=([^&#]+)/,o=/(.*)\.([^.]+)/,a=/^(\w+)(\.|$)(.*)$/;function s(e,t){if(!e)return t;const r=e.match(a),n=r[1];return s(r[3],t[n])}return r.inPlace(Node.prototype,C,"dom-"),t.on("dom-start",(function(e){!function(e){if(!e||"string"!=typeof e.nodeName||"script"!==e.nodeName.toLowerCase())return;if("function"!=typeof e.addEventListener)return;var n=(a=e.src,c=a.match(i),c?c[1]:null);var a,c;if(!n)return;var u=function(e){var t=e.match(o);if(t&&t.length>=3)return{key:t[2],parent:s(t[1],window)};return{key:e,parent:window}}(n);if("function"!=typeof u.parent[u.key])return;var d={};function l(){t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,I.m$)(!1)),e.removeEventListener("error",f,(0,I.m$)(!1))}function f(){t.emit("jsonp-error",[],d),t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,I.m$)(!1)),e.removeEventListener("error",f,(0,I.m$)(!1))}r.inPlace(u.parent,[u.key],"cb-",d),e.addEventListener("load",l,(0,I.m$)(!1)),e.addEventListener("error",f,(0,I.m$)(!1)),t.emit("new-jsonp",[e.src],d)}(e[0])})),t}const k={};function M(e){const t=function(e){return(e||n.ee).get("mutation")}(e);if(!f.il||k[t.debugId])return t;k[t.debugId]=!0;var r=c(t),i=f._A.MutationObserver;return i&&(window.MutationObserver=function(e){return this instanceof i?new i(r(e,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype),t}const H={};function L(e){const t=function(e){return(e||n.ee).get("promise")}(e);if(H[t.debugId])return t;H[t.debugId]=!0;var r=t.context,i=c(t),a=f._A.Promise;return a&&function(){function e(r){var n=t.context(),o=i(r,"executor-",n,null,!1);const s=Reflect.construct(a,[o],e);return t.context(s).getCtx=function(){return n},s}f._A.Promise=e,Object.defineProperty(e,"name",{value:"Promise"}),e.toString=function(){return a.toString()},Object.setPrototypeOf(e,a),["all","race"].forEach((function(r){const n=a[r];e[r]=function(e){let i=!1;[...e||[]].forEach((e=>{this.resolve(e).then(a("all"===r),a(!1))}));const o=n.apply(this,arguments);return o;function a(e){return function(){t.emit("propagate",[null,!i],o,!1,!1),i=i||!e}}}})),["resolve","reject"].forEach((function(r){const n=a[r];e[r]=function(e){const r=n.apply(this,arguments);return e!==r&&t.emit("propagate",[e,!0],r,!1,!1),r}})),e.prototype=a.prototype;const n=a.prototype.then;a.prototype.then=function(){var e=this,o=r(e);o.promise=e;for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];s[0]=i(s[0],"cb-",o,null,!1),s[1]=i(s[1],"cb-",o,null,!1);const u=n.apply(this,s);return o.nextPromise=u,t.emit("propagate",[e,!0],u,!1,!1),u},a.prototype.then[o]=n,t.on("executor-start",(function(e){e[0]=i(e[0],"resolve-",this,null,!1),e[1]=i(e[1],"resolve-",this,null,!1)})),t.on("executor-err",(function(e,t,r){e[1](r)})),t.on("cb-end",(function(e,r,n){t.emit("propagate",[n,!0],this.nextPromise,!1,!1)})),t.on("propagate",(function(e,r,n){this.getCtx&&!r||(this.getCtx=function(){if(e instanceof Promise)var r=t.context(e);return r&&r.getCtx?r.getCtx():this})}))}(),t}const z={},F="setTimeout",B="setInterval",U="clearTimeout",V="-start",q="-",G=[F,"setImmediate",B,U,"clearImmediate"];function Z(e){const t=function(e){return(e||n.ee).get("timer")}(e);if(z[t.debugId]++)return t;z[t.debugId]=1;var r=c(t);return r.inPlace(f._A,G.slice(0,2),F+q),r.inPlace(f._A,G.slice(2,3),B+q),r.inPlace(f._A,G.slice(3),U+q),t.on(B+V,(function(e,t,n){e[0]=r(e[0],"fn-",null,n)})),t.on(F+V,(function(e,t,n){this.method=n,this.timerDuration=isNaN(e[1])?0:+e[1],e[0]=r(e[0],"fn-",this,n)})),t}var W=r(50);const X={},K=["open","send"];function Y(e){var t=e||n.ee;const r=function(e){return(e||n.ee).get("xhr")}(t);if(X[r.debugId]++)return r;X[r.debugId]=1,b(t);var i=c(r),o=f._A.XMLHttpRequest,a=f._A.MutationObserver,s=f._A.Promise,u=f._A.setInterval,d="readystatechange",l=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],h=[],p=f._A.XMLHttpRequest=function(e){const t=new o(e),n=r.context(t);try{r.emit("new-xhr",[t],n),t.addEventListener(d,(a=n,function(){var e=this;e.readyState>3&&!a.resolved&&(a.resolved=!0,r.emit("xhr-resolved",[],e)),i.inPlace(e,l,"fn-",w)}),(0,I.m$)(!1))}catch(e){(0,W.Z)("An error occurred while intercepting XHR",e);try{r.emit("internal-error",[e])}catch(e){}}var a;return t};function g(e,t){i.inPlace(t,["onreadystatechange"],"fn-",w)}if(function(e,t){for(var r in e)t[r]=e[r]}(o,p),p.prototype=o.prototype,i.inPlace(p.prototype,K,"-xhr-",w),r.on("send-xhr-start",(function(e,t){g(e,t),function(e){h.push(e),a&&(m?m.then(A):u?u(A):(v=-v,y.data=v))}(t)})),r.on("open-xhr-start",g),a){var m=s&&s.resolve();if(!u&&!s){var v=1,y=document.createTextNode(v);new a(A).observe(y,{characterData:!0})}}else t.on("fn-end",(function(e){e[0]&&e[0].type===d||A()}));function A(){for(var e=0;e<h.length;e++)g(0,h[e]);h.length&&(h=[])}function w(e,t){return t}return r}},7825:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.ajax},6660:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.jserrors},3081:(e,t,r)=>{"use strict";r.d(t,{gF:()=>o,mY:()=>i,t9:()=>n,vz:()=>s,xS:()=>a});const n=r(3325).D.metrics,i="sm",o="cm",a="storeSupportabilityMetrics",s="storeEventMetrics"},4649:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.pageAction},7633:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.pageViewEvent},9251:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.pageViewTiming},7144:(e,t,r)=>{"use strict";r.d(t,{J0:()=>l,Mi:()=>d,Vb:()=>o,Ye:()=>s,fm:()=>c,i9:()=>a,t9:()=>i,u0:()=>u});var n=r(7056);const i=r(3325).D.sessionReplay,o=.12,a={DomContentLoaded:0,Load:1,FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Custom:5},s=1e6,c=64e3,u={[n.IK.ERROR]:15e3,[n.IK.FULL]:3e5,[n.IK.OFF]:0},d={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},l=5e3},3614:(e,t,r)=>{"use strict";r.d(t,{BST_RESOURCE:()=>i,END:()=>s,FEATURE_NAME:()=>n,FN_END:()=>u,FN_START:()=>c,PUSH_STATE:()=>d,RESOURCE:()=>o,START:()=>a});const n=r(3325).D.sessionTrace,i="bstResource",o="resource",a="-start",s="-end",c="fn"+a,u="fn"+s,d="pushState"},7836:(e,t,r)=>{"use strict";r.d(t,{BODY:()=>x,CB_END:()=>E,CB_START:()=>u,END:()=>w,FEATURE_NAME:()=>i,FETCH:()=>T,FETCH_BODY:()=>v,FETCH_DONE:()=>m,FETCH_START:()=>g,FN_END:()=>c,FN_START:()=>s,INTERACTION:()=>f,INTERACTION_API:()=>d,INTERACTION_EVENTS:()=>o,JSONP_END:()=>b,JSONP_NODE:()=>p,JS_TIME:()=>_,MAX_TIMER_BUDGET:()=>a,REMAINING:()=>l,SPA_NODE:()=>h,START:()=>A,originalSetTimeout:()=>y});var n=r(234);const i=r(3325).D.spa,o=["click","submit","keypress","keydown","keyup","change"],a=999,s="fn-start",c="fn-end",u="cb-start",d="api-ixn-",l="remaining",f="interaction",h="spaNode",p="jsonpNode",g="fetch-start",m="fetch-done",v="fetch-body-",b="jsonp-end",y=n.Yu.ST,A="-start",w="-end",x="-body",E="cb"+w,_="jsTime",T="fetch"},5938:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(8325);class i{constructor(e,t,r){this.agentIdentifier=e,this.aggregator=t,this.ee=n.ee.get(e),this.featureName=r,this.blocked=!1}}},7530:(e,t,r)=>{"use strict";r.d(t,{j:()=>b});var n=r(3325),i=r(234),o=r(5546),a=r(8325),s=r(7894),c=r(8e3),u=r(3960),d=r(385),l=r(50),f=r(3081),h=r(8632);function p(){const e=(0,h.gG)();["setErrorHandler","finished","addToTrace","addRelease","addPageAction","setCurrentRouteName","setPageViewName","setCustomAttribute","interaction","noticeError","setUserId","setApplicationVersion","start","recordReplay","pauseReplay"].forEach((t=>{e[t]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];let o=[];return Object.values(e.initializedAgents).forEach((e=>{e.exposed&&e.api[t]&&o.push(e.api[t](...n))})),o.length>1?o:o[0]}(t,...n)}}))}var g=r(2825);const m=e=>{const t=e.startsWith("http");e+="/",r.p=t?e:"https://"+e};let v=!1;function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=arguments.length>2?arguments[2]:void 0,y=arguments.length>3?arguments[3]:void 0,{init:A,info:w,loader_config:x,runtime:E={loaderType:b},exposed:_=!0}=t;const T=(0,h.gG)();w||(A=T.init,w=T.info,x=T.loader_config),(0,i.Dg)(e.agentIdentifier,A||{}),(0,i.GE)(e.agentIdentifier,x||{}),w.jsAttributes??={},d.v6&&(w.jsAttributes.isWorker=!0),(0,i.CX)(e.agentIdentifier,w);const S=(0,i.P_)(e.agentIdentifier),R=[w.beacon,w.errorBeacon];v||(S.proxy.assets&&(m(S.proxy.assets),R.push(S.proxy.assets)),S.proxy.beacon&&R.push(S.proxy.beacon),p(),(0,h.EZ)("activatedFeatures",g.T)),E.denyList=[...S.ajax.deny_list||[],...S.ajax.block_internal?R:[]],(0,i.sU)(e.agentIdentifier,E),void 0===e.api&&(e.api=function(e,t){t||(0,c.R)(e,"api");const h={};var p=a.ee.get(e),g=p.get("tracer"),m="api-",v=m+"ixn-";function b(t,r,n,o){const a=(0,i.C5)(e);return null===r?delete a.jsAttributes[t]:(0,i.CX)(e,{...a,jsAttributes:{...a.jsAttributes,[t]:r}}),w(m,n,!0,o||null===r?"session":void 0)(t,r)}function y(){}["setErrorHandler","finished","addToTrace","addRelease"].forEach((e=>{h[e]=w(m,e,!0,"api")})),h.addPageAction=w(m,"addPageAction",!0,n.D.pageAction),h.setCurrentRouteName=w(m,"routeName",!0,n.D.spa),h.setPageViewName=function(t,r){if("string"==typeof t)return"/"!==t.charAt(0)&&(t="/"+t),(0,i.OP)(e).customTransaction=(r||"http://custom.transaction")+t,w(m,"setPageViewName",!0)()},h.setCustomAttribute=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e){if(["string","number","boolean"].includes(typeof t)||null===t)return b(e,t,"setCustomAttribute",r);(0,l.Z)("Failed to execute setCustomAttribute.\nNon-null value must be a string, number or boolean type, but a type of <".concat(typeof t,"> was provided."))}else(0,l.Z)("Failed to execute setCustomAttribute.\nName must be a string type, but a type of <".concat(typeof e,"> was provided."))},h.setUserId=function(e){if("string"==typeof e||null===e)return b("enduser.id",e,"setUserId",!0);(0,l.Z)("Failed to execute setUserId.\nNon-null value must be a string type, but a type of <".concat(typeof e,"> was provided."))},h.setApplicationVersion=function(e){if("string"==typeof e||null===e)return b("application.version",e,"setApplicationVersion",!1);(0,l.Z)("Failed to execute setApplicationVersion. Expected <String | null>, but got <".concat(typeof e,">."))},h.start=e=>{try{const t=e?"defined":"undefined";(0,o.p)(f.xS,["API/start/".concat(t,"/called")],void 0,n.D.metrics,p);const r=Object.values(n.D);if(void 0===e)e=r;else{if((e=Array.isArray(e)&&e.length?e:[e]).some((e=>!r.includes(e))))return(0,l.Z)("Invalid feature name supplied. Acceptable feature names are: ".concat(r));e.includes(n.D.pageViewEvent)||e.push(n.D.pageViewEvent)}e.forEach((e=>{p.emit("".concat(e,"-opt-in"))}))}catch(e){(0,l.Z)("An unexpected issue occurred",e)}},h.recordReplay=function(){(0,o.p)(f.xS,["API/recordReplay/called"],void 0,n.D.metrics,p),(0,o.p)("recordReplay",[],void 0,n.D.sessionReplay,p)},h.pauseReplay=function(){(0,o.p)(f.xS,["API/pauseReplay/called"],void 0,n.D.metrics,p),(0,o.p)("pauseReplay",[],void 0,n.D.sessionReplay,p)},h.interaction=function(){return(new y).get()};var A=y.prototype={createTracer:function(e,t){var r={},i=this,a="function"==typeof t;return(0,o.p)(f.xS,["API/createTracer/called"],void 0,n.D.metrics,p),(0,o.p)(v+"tracer",[(0,s.z)(),e,r],i,n.D.spa,p),function(){if(g.emit((a?"":"no-")+"fn-start",[(0,s.z)(),i,a],r),a)try{return t.apply(this,arguments)}catch(e){throw g.emit("fn-err",[arguments,this,e],r),e}finally{g.emit("fn-end",[(0,s.z)()],r)}}}};function w(e,t,r,i){return function(){return(0,o.p)(f.xS,["API/"+t+"/called"],void 0,n.D.metrics,p),i&&(0,o.p)(e+t,[(0,s.z)(),...arguments],r?null:this,i,p),r?void 0:this}}function x(){r.e(111).then(r.bind(r,7438)).then((t=>{let{setAPI:r}=t;r(e),(0,c.L)(e,"api")})).catch((()=>{(0,l.Z)("Downloading runtime APIs failed..."),(0,c.L)(e,"api",!0)}))}return["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach((e=>{A[e]=w(v,e,void 0,n.D.spa)})),h.noticeError=function(e,t){"string"==typeof e&&(e=new Error(e)),(0,o.p)(f.xS,["API/noticeError/called"],void 0,n.D.metrics,p),(0,o.p)("err",[e,(0,s.z)(),!1,t],void 0,n.D.jserrors,p)},d.il?(0,u.b2)((()=>x()),!0):x(),h}(e.agentIdentifier,y)),void 0===e.exposed&&(e.exposed=_),v=!0}},1926:(e,t,r)=>{r.nc=(()=>{try{return document?.currentScript?.nonce}catch(e){}return""})()},3325:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,p:()=>i});const n={ajax:"ajax",jserrors:"jserrors",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",spa:"spa"},i={[n.pageViewEvent]:1,[n.pageViewTiming]:2,[n.metrics]:3,[n.jserrors]:4,[n.ajax]:5,[n.sessionTrace]:6,[n.pageAction]:7,[n.spa]:8,[n.sessionReplay]:9}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>({111:"nr-spa",164:"nr-spa-compressor",433:"nr-spa-recorder"}[e]+"-1.252.0.min.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="NRBA-1.252.0.PROD:",i.l=(r,n,o,a)=>{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+o){s=l;break}}if(!s){c=!0;var f={111:"sha512-EIHTFh/PyMHLspjr+lbpdxFHzJXOF7HH8nedLZZTJSO0SyJ4rECM57ibYM67sib1O2FH0nhyrm4QKgl30mtD8w==",433:"sha512-wCJ0jwoj4FyJOrl6z7VLilNolSSxqqm/5L08FBzY2sXjVPFpnyu6p3obblBOv9lj2u9awQrvcEGqvjyYflheow==",164:"sha512-we5lwLCaVV8XgmWsFLhIuQ0Ja0mW9HH9YHLBzjhalvM84n3Rpvmg1iFz7BOZeYnHrjU5dcWOHrtqxvdjDNy2ag=="};(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=r,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous"),f[a]&&(s.integrity=f[a])}e[r]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://js-agent.newrelic.com/",(()=>{var e={801:0,92:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,c]=r,u=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)c(i)}for(t&&t(r);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self["webpackChunk:NRBA-1.252.0.PROD"]=self["webpackChunk:NRBA-1.252.0.PROD"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";i(1926);var e=i(50);class t{#e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if("function"==typeof this.api?.[t])return this.api[t](...n);(0,e.Z)("Call to agent api ".concat(t," failed. The API is not currently initialized."))}addPageAction(e,t){return this.#e("addPageAction",e,t)}setPageViewName(e,t){return this.#e("setPageViewName",e,t)}setCustomAttribute(e,t,r){return this.#e("setCustomAttribute",e,t,r)}noticeError(e,t){return this.#e("noticeError",e,t)}setUserId(e){return this.#e("setUserId",e)}setApplicationVersion(e){return this.#e("setApplicationVersion",e)}setErrorHandler(e){return this.#e("setErrorHandler",e)}finished(e){return this.#e("finished",e)}addRelease(e,t){return this.#e("addRelease",e,t)}start(e){return this.#e("start",e)}recordReplay(){return this.#e("recordReplay")}pauseReplay(){return this.#e("pauseReplay")}addToTrace(e){return this.#e("addToTrace",e)}setCurrentRouteName(e){return this.#e("setCurrentRouteName",e)}interaction(){return this.#e("interaction")}}var r=i(3325),n=i(234);const o=Object.values(r.D);function a(e){const t={};return o.forEach((r=>{t[r]=function(e,t){return!1!==(0,n.Mt)(t,"".concat(e,".enabled"))}(r,e)})),t}var s=i(7530);var c=i(8e3),u=i(5938),d=i(3960),l=i(385);class f extends u.W{constructor(e,t,r){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];super(e,t,r),this.auto=i,this.abortHandler=void 0,this.featAggregate=void 0,this.onAggregateImported=void 0,!1===(0,n.Mt)(this.agentIdentifier,"".concat(this.featureName,".autoStart"))&&(this.auto=!1),this.auto&&(0,c.R)(e,r)}importAggregator(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.featAggregate)return;if(!this.auto)return void this.ee.on("".concat(this.featureName,"-opt-in"),(()=>{(0,c.R)(this.agentIdentifier,this.featureName),this.auto=!0,this.importAggregator()}));const r=l.il&&!0===(0,n.Mt)(this.agentIdentifier,"privacy.cookies_enabled");let o;this.onAggregateImported=new Promise((e=>{o=e}));const a=async()=>{let n;try{if(r){const{setupAgentSession:e}=await i.e(111).then(i.bind(i,1656));n=e(this.agentIdentifier)}}catch(t){(0,e.Z)("A problem occurred when starting up session manager. This page will not start or extend any session.",t)}try{if(!this.shouldImportAgg(this.featureName,n))return(0,c.L)(this.agentIdentifier,this.featureName),void o(!1);const{lazyFeatureLoader:e}=await i.e(111).then(i.bind(i,8582)),{Aggregate:r}=await e(this.featureName,"aggregate");this.featAggregate=new r(this.agentIdentifier,this.aggregator,t),o(!0)}catch(t){(0,e.Z)("Downloading and initializing ".concat(this.featureName," failed..."),t),this.abortHandler?.(),(0,c.L)(this.agentIdentifier,this.featureName,!0),o(!1)}};l.il?(0,d.b2)((()=>a()),!0):a()}shouldImportAgg(e,t){return e!==r.D.sessionReplay||!!n.Yu.MO&&(!1!==(0,n.Mt)(this.agentIdentifier,"session_trace.enabled")&&(!!t?.isNew||!!t?.state.sessionReplayMode))}}var h=i(7633);class p extends f{static featureName=h.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,h.t,r),this.importAggregator()}}var g=i(1117),m=i(1284);class v extends g.w{constructor(e){super(e),this.aggregatedData={}}store(e,t,r,n,i){var o=this.getBucket(e,t,r,i);return o.metrics=function(e,t){t||(t={count:0});return t.count+=1,(0,m.D)(e,(function(e,r){t[e]=b(r,t[e])})),t}(n,o.metrics),o}merge(e,t,r,n,i){var o=this.getBucket(e,t,n,i);if(o.metrics){var a=o.metrics;a.count+=r.count,(0,m.D)(r,(function(e,t){if("count"!==e){var n=a[e],i=r[e];i&&!i.c?a[e]=b(i.t,n):a[e]=function(e,t){if(!t)return e;t.c||(t=y(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(i,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.getBucket(e,t,r);return i.stats=b(n,i.stats),i}getBucket(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&&(i.custom=n)),i}get(e,t){return t?this.aggregatedData[e]&&this.aggregatedData[e][t]:this.aggregatedData[e]}take(e){for(var t={},r="",n=!1,i=0;i<e.length;i++)t[r=e[i]]=A(this.aggregatedData[r]),t[r].length&&(n=!0),delete this.aggregatedData[r];return n?t:null}}function b(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=y(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e>t.max&&(t.max=e),e<t.min&&(t.min=e),t):{t:e}}function y(e){return{t:e,min:e,max:e,sos:e*e,c:1}}function A(e){return"object"!=typeof e?[]:(0,m.D)(e,w)}function w(e,t){return t}var x=i(8632),E=i(4402),_=i(4351);var T=i(5546),S=i(7956),R=i(3239),D=i(7894),N=i(9251);class O extends f{static featureName=N.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,N.t,r),l.il&&((0,S.N)((()=>(0,T.p)("docHidden",[(0,D.z)()],void 0,N.t,this.ee)),!0),(0,R.bP)("pagehide",(()=>(0,T.p)("winPagehide",[(0,D.z)()],void 0,N.t,this.ee))),this.importAggregator())}}var I=i(3081);class j extends f{static featureName=I.t9;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,I.t9,r),this.importAggregator()}}var C=i(6660);class P{constructor(e,t,r,n){this.name="UncaughtError",this.message=e,this.sourceURL=t,this.line=r,this.column=n}}class k extends f{static featureName=C.t;#t=new Set;constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,C.t,n);try{this.removeOnAbort=new AbortController}catch(e){}this.ee.on("fn-err",((e,t,n)=>{this.abortHandler&&!this.#t.has(n)&&(this.#t.add(n),(0,T.p)("err",[this.#r(n),(0,D.z)()],void 0,r.D.jserrors,this.ee))})),this.ee.on("internal-error",(e=>{this.abortHandler&&(0,T.p)("ierr",[this.#r(e),(0,D.z)(),!0],void 0,r.D.jserrors,this.ee)})),l._A.addEventListener("unhandledrejection",(e=>{this.abortHandler&&(0,T.p)("err",[this.#n(e),(0,D.z)(),!1,{unhandledPromiseRejection:1}],void 0,r.D.jserrors,this.ee)}),(0,R.m$)(!1,this.removeOnAbort?.signal)),l._A.addEventListener("error",(e=>{this.abortHandler&&(this.#t.has(e.error)?this.#t.delete(e.error):(0,T.p)("err",[this.#i(e),(0,D.z)()],void 0,r.D.jserrors,this.ee))}),(0,R.m$)(!1,this.removeOnAbort?.signal)),this.abortHandler=this.#o,this.importAggregator()}#o(){this.removeOnAbort?.abort(),this.#t.clear(),this.abortHandler=void 0}#r(e){return e instanceof Error?e:void 0!==e?.message?new P(e.message,e.filename||e.sourceURL,e.lineno||e.line,e.colno||e.col):new P("string"==typeof e?e:(0,_.P)(e))}#n(e){let t="Unhandled Promise Rejection: ";if(e?.reason instanceof Error)try{return e.reason.message=t+e.reason.message,e.reason}catch(t){return e.reason}if(void 0===e.reason)return new P(t);const r=this.#r(e.reason);return r.message=t+r.message,r}#i(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const t=new P(e.message,e.filename,e.lineno,e.colno);return t.name=SyntaxError.name,t}return e.error instanceof Error?e.error:new P(e.message,e.filename,e.lineno,e.colno)}}var M=i(2210);let H=1;const L="nr@id";function z(e){const t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===l._A?0:(0,M.X)(e,L,(function(){return H++}))}function F(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,_.P)(e).length}catch(e){return}}}var B=i(1214),U=i(7243);class V{constructor(e){this.agentIdentifier=e}generateTracePayload(e){if(!this.shouldGenerateTrace(e))return null;var t=(0,n.DL)(this.agentIdentifier);if(!t)return null;var r=(t.accountID||"").toString()||null,i=(t.agentID||"").toString()||null,o=(t.trustKey||"").toString()||null;if(!r||!i)return null;var a=(0,E.M)(),s=(0,E.Ht)(),c=Date.now(),u={spanId:a,traceId:s,timestamp:c};return(e.sameOrigin||this.isAllowedOrigin(e)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(a,s),u.traceContextStateHeader=this.generateTraceContextStateHeader(a,c,r,i,o)),(e.sameOrigin&&!this.excludeNewrelicHeader()||!e.sameOrigin&&this.isAllowedOrigin(e)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(a,s,c,r,i,o)),u}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof l._A?.btoa))return null;var a={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(a.d.tk=o),btoa((0,_.P)(a))}shouldGenerateTrace(e){return this.isDtEnabled()&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var t=!1,r={};if((0,n.Mt)(this.agentIdentifier,"distributed_tracing")&&(r=(0,n.P_)(this.agentIdentifier).distributed_tracing),e.sameOrigin)t=!0;else if(r.allowed_origins instanceof Array)for(var i=0;i<r.allowed_origins.length;i++){var o=(0,U.e)(r.allowed_origins[i]);if(e.hostname===o.hostname&&e.protocol===o.protocol&&e.port===o.port){t=!0;break}}return t}isDtEnabled(){var e=(0,n.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.enabled}excludeNewrelicHeader(){var e=(0,n.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=(0,n.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=(0,n.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.cors_use_tracecontext_headers}}var q=i(7825),G=["load","error","abort","timeout"],Z=G.length,W=n.Yu.REQ,X=n.Yu.XHR;class K extends f{static featureName=q.t;constructor(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(super(e,t,q.t,i),(0,n.OP)(e).xhrWrappable){this.dt=new V(e),this.handler=(e,t,r,n)=>(0,T.p)(e,t,r,n,this.ee);try{const e={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};l._A?.performance?.getEntriesByType("resource").forEach((t=>{if(t.initiatorType in e&&0!==t.responseStatus){const n={status:t.responseStatus},i={rxSize:t.transferSize,duration:Math.floor(t.duration),cbTime:0};Y(n,t.name),this.handler("xhr",[n,i,t.startTime,t.responseEnd,e[t.initiatorType]],void 0,r.D.ajax)}}))}catch(e){}(0,B.u5)(this.ee),(0,B.Kf)(this.ee),function(e,t,i,o){function a(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=x,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},e.addEventListener("load",(function(r){E(t,e)}),(0,R.m$)(!1)),l.IF||e.addEventListener("progress",(function(e){t.lastSize=e.loaded}),(0,R.m$)(!1))}function s(e){this.params={method:e[0]},Y(this,e[1]),this.metrics={}}function c(t,r){var i=(0,n.DL)(e);i.xpid&&this.sameOrigin&&r.setRequestHeader("X-NewRelic-ID",i.xpid);var a=o.generateTracePayload(this.parsedOrigin);if(a){var s=!1;a.newrelicHeader&&(r.setRequestHeader("newrelic",a.newrelicHeader),s=!0),a.traceContextParentHeader&&(r.setRequestHeader("traceparent",a.traceContextParentHeader),a.traceContextStateHeader&&r.setRequestHeader("tracestate",a.traceContextStateHeader),s=!0),s&&(this.dt=a)}}function u(e,r){var n=this.metrics,i=e[0],o=this;if(n&&i){var a=F(i);a&&(n.txSize=a)}this.startTime=(0,D.z)(),this.body=i,this.listener=function(e){try{"abort"!==e.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==e.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof r.onload)&&"function"==typeof o.end)&&o.end(r)}catch(e){try{t.emit("internal-error",[e])}catch(e){}}};for(var s=0;s<Z;s++)r.addEventListener(G[s],this.listener,(0,R.m$)(!1))}function d(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function f(e,t){var r=""+z(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function h(e,t){var r=""+z(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function p(){this.endTime=(0,D.z)()}function g(e,r){r instanceof X&&"load"===e[0]&&t.emit("xhr-load-added",[e[1],e[2]],r)}function m(e,r){r instanceof X&&"load"===e[0]&&t.emit("xhr-load-removed",[e[1],e[2]],r)}function v(e,t,r){t instanceof X&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,D.z)()))}function b(e,r){this.xhrCbStart&&t.emit("xhr-cb-time",[(0,D.z)()-this.xhrCbStart,this.onload,r],r)}function y(e){var t,r=e[1]||{};if("string"==typeof e[0]?0===(t=e[0]).length&&l.il&&(t=""+l._A.location.href):e[0]&&e[0].url?t=e[0].url:l._A?.URL&&e[0]&&e[0]instanceof URL?t=e[0].href:"function"==typeof e[0].toString&&(t=e[0].toString()),"string"==typeof t&&0!==t.length){t&&(this.parsedOrigin=(0,U.e)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var n=o.generateTracePayload(this.parsedOrigin);if(n&&(n.newrelicHeader||n.traceContextParentHeader))if(e[0]&&e[0].headers)s(e[0].headers,n)&&(this.dt=n);else{var i={};for(var a in r)i[a]=r[a];i.headers=new Headers(r.headers||{}),s(i.headers,n)&&(this.dt=n),e.length>1?e[1]=i:e.push(i)}}function s(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function A(e,t){this.params={},this.metrics={},this.startTime=(0,D.z)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r,n=this.opts||{},i=this.target;"string"==typeof i?r=i:"object"==typeof i&&i instanceof W?r=i.url:l._A?.URL&&"object"==typeof i&&i instanceof URL&&(r=i.href),Y(this,r);var o=(""+(i&&i instanceof W&&i.method||n.method||"GET")).toUpperCase();this.params.method=o,this.body=n.body,this.txSize=F(n.body)||0}function w(e,t){var n;this.endTime=(0,D.z)(),this.params||(this.params={}),this.params.status=t?t.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);var o={txSize:this.txSize,rxSize:n,duration:(0,D.z)()-this.startTime};i("xhr",[this.params,o,this.startTime,this.endTime,"fetch"],this,r.D.ajax)}function x(e){var t=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var o=0;o<Z;o++)e.removeEventListener(G[o],this.listener,!1);t.aborted||(n.duration=(0,D.z)()-this.startTime,this.loadCaptureCalled||4!==e.readyState?null==t.status&&(t.status=0):E(this,e),n.cbTime=this.cbTime,i("xhr",[t,n,this.startTime,this.endTime,"xhr"],this,r.D.ajax))}}function E(e,n){e.params.status=n.status;var i=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?F(e.response):"text"===r||""===r||void 0===r?F(e.responseText):void 0}(n,e.lastSize);if(i&&(e.metrics.rxSize=i),e.sameOrigin){var o=n.getResponseHeader("X-NewRelic-App-Data");o&&((0,T.p)(I.mY,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,r.D.metrics,t),e.params.cat=o.split(", ").pop())}e.loadCaptureCalled=!0}t.on("new-xhr",a),t.on("open-xhr-start",s),t.on("open-xhr-end",c),t.on("send-xhr-start",u),t.on("xhr-cb-time",d),t.on("xhr-load-added",f),t.on("xhr-load-removed",h),t.on("xhr-resolved",p),t.on("addEventListener-end",g),t.on("removeEventListener-end",m),t.on("fn-end",b),t.on("fetch-before-start",y),t.on("fetch-start",A),t.on("fn-start",v),t.on("fetch-done",w)}(e,this.ee,this.handler,this.dt),this.importAggregator()}}}function Y(e,t){var r=(0,U.e)(t),n=e.params||e;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}var J=i(3614);const{BST_RESOURCE:Q,RESOURCE:ee,START:te,END:re,FEATURE_NAME:ne,FN_END:ie,FN_START:oe,PUSH_STATE:ae}=J;var se=i(7056),ce=i(7144);class ue extends f{static featureName=ce.t9;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,ce.t9,r);try{const e=JSON.parse(localStorage.getItem("NRBA_SESSION"));e.sessionReplayMode!==se.IK.OFF?this.#a(e.sessionReplayMode):this.importAggregator({})}catch(e){this.importAggregator({})}}async#a(e){const{Recorder:t}=await Promise.all([i.e(111),i.e(433)]).then(i.bind(i,4136));this.recorder=new t({mode:e,agentIdentifier:this.agentIdentifier}),this.recorder.startRecording(),this.importAggregator({recorder:this.recorder})}}var de=i(7836);const{FEATURE_NAME:le,START:fe,END:he,BODY:pe,CB_END:ge,JS_TIME:me,FETCH:ve,FN_START:be,CB_START:ye,FN_END:Ae}=de;var we=i(4649);class xe extends f{static featureName=we.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,we.t,r),this.importAggregator()}}new class extends t{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,E.ky)(16);super(),l._A?(this.agentIdentifier=r,this.sharedAggregator=new v({agentIdentifier:this.agentIdentifier}),this.features={},(0,x.h5)(r,this),this.desiredFeatures=new Set(t.features||[]),this.desiredFeatures.add(p),(0,s.j)(this,t,t.loaderType||"agent"),this.run()):(0,e.Z)("Failed to initial the agent. Could not determine the runtime environment.")}get config(){return{info:(0,n.C5)(this.agentIdentifier),init:(0,n.P_)(this.agentIdentifier),loader_config:(0,n.DL)(this.agentIdentifier),runtime:(0,n.OP)(this.agentIdentifier)}}run(){try{const t=a(this.agentIdentifier),n=[...this.desiredFeatures];n.sort(((e,t)=>r.p[e.featureName]-r.p[t.featureName])),n.forEach((n=>{if(t[n.featureName]||n.featureName===r.D.pageViewEvent){const i=function(e){switch(e){case r.D.ajax:return[r.D.jserrors];case r.D.sessionTrace:return[r.D.ajax,r.D.pageViewEvent];case r.D.sessionReplay:return[r.D.sessionTrace];case r.D.pageViewTiming:return[r.D.pageViewEvent];default:return[]}}(n.featureName);i.every((e=>t[e]))||(0,e.Z)("".concat(n.featureName," is enabled but one or more dependent features has been disabled (").concat((0,_.P)(i),"). This may cause unintended consequences or missing data...")),this.features[n.featureName]=new n(this.agentIdentifier,this.sharedAggregator)}}))}catch(t){(0,e.Z)("Failed to initialize all enabled instrument classes (agent aborted) -",t);for(const e in this.features)this.features[e].abortHandler?.();const r=(0,x.fP)();return delete r.initializedAgents[this.agentIdentifier]?.api,delete r.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator,r.ee?.abort(),delete r.ee?.get(this.agentIdentifier),!1}}}({features:[K,p,O,class extends f{static featureName=ne;constructor(e,t){if(super(e,t,ne,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),!l.il)return;const n=this.ee;let i;(0,B.QU)(n),this.eventsEE=(0,B.em)(n),this.eventsEE.on(oe,(function(e,t){this.bstStart=(0,D.z)()})),this.eventsEE.on(ie,(function(e,t){(0,T.p)("bst",[e[0],t,this.bstStart,(0,D.z)()],void 0,r.D.sessionTrace,n)})),n.on(ae+te,(function(e){this.time=(0,D.z)(),this.startPath=location.pathname+location.hash})),n.on(ae+re,(function(e){(0,T.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,r.D.sessionTrace,n)}));try{i=new PerformanceObserver((e=>{const t=e.getEntries();(0,T.p)(Q,[t],void 0,r.D.sessionTrace,n)})),i.observe({type:ee,buffered:!0})}catch(e){}this.importAggregator({resourceObserver:i})}},ue,j,xe,k,class extends f{static featureName=le;constructor(e,t){if(super(e,t,le,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),!l.il)return;if(!(0,n.OP)(e).xhrWrappable)return;try{this.removeOnAbort=new AbortController}catch(e){}let r,i=0;const o=this.ee.get("tracer"),a=(0,B._L)(this.ee),s=(0,B.Lg)(this.ee),c=(0,B.BV)(this.ee),u=(0,B.Kf)(this.ee),d=this.ee.get("events"),f=(0,B.u5)(this.ee),h=(0,B.QU)(this.ee),p=(0,B.Gm)(this.ee);function g(e,t){h.emit("newURL",[""+window.location,t])}function m(){i++,r=window.location.hash,this[be]=(0,D.z)()}function v(){i--,window.location.hash!==r&&g(0,!0);var e=(0,D.z)();this[me]=~~this[me]+e-this[be],this[Ae]=e}function b(e,t){e.on(t,(function(){this[t]=(0,D.z)()}))}this.ee.on(be,m),s.on(ye,m),a.on(ye,m),this.ee.on(Ae,v),s.on(ge,v),a.on(ge,v),this.ee.buffer([be,Ae,"xhr-resolved"],this.featureName),d.buffer([be],this.featureName),c.buffer(["setTimeout"+he,"clearTimeout"+fe,be],this.featureName),u.buffer([be,"new-xhr","send-xhr"+fe],this.featureName),f.buffer([ve+fe,ve+"-done",ve+pe+fe,ve+pe+he],this.featureName),h.buffer(["newURL"],this.featureName),p.buffer([be],this.featureName),s.buffer(["propagate",ye,ge,"executor-err","resolve"+fe],this.featureName),o.buffer([be,"no-"+be],this.featureName),a.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"],this.featureName),b(f,ve+fe),b(f,ve+"-done"),b(a,"new-jsonp"),b(a,"jsonp-end"),b(a,"cb-start"),h.on("pushState-end",g),h.on("replaceState-end",g),window.addEventListener("hashchange",g,(0,R.m$)(!0,this.removeOnAbort?.signal)),window.addEventListener("load",g,(0,R.m$)(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",(function(){g(0,i>1)}),(0,R.m$)(!0,this.removeOnAbort?.signal)),this.abortHandler=this.#o,this.importAggregator()}#o(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}],loaderType:"spa"})})()})();
  </script>
  <meta content="White Wine | LCBO" name="title"/>
  <meta content="Discover our assortment of White Wine at LCBO. Compare products, read reviews, and shop online for in-store pickup and delivery at your convienence." name="description"/>
  <meta content="INDEX,FOLLOW" name="robots"/>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0" name="viewport"/>
  <meta content="telephone=no" name="format-detection"/>
  <title>
   White Wine | LCBO
  </title>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/mage/calendar.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/css/styles-m.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Amasty_Label/vendor/tooltipster/css/tooltipster.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Amasty_Storelocator/vendor/chosen/chosen.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Experius_DonationProduct/css/donation.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magezon_Core/css/fontawesome5.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magezon_ScrollToTop/css/animate.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magezon_Core/css/styles.min.css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/css/styles-l.min.css" media="screen and (min-width: 768px)" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/css/print.min.css" media="print" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/WeltPixel_NavigationLinks/css/navigation_mobile.min.css" media="screen and (max-width: 768px)" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/WeltPixel_NavigationLinks/css/navigation_desktop.min.css" media="screen and (min-width: 769px)" rel="stylesheet" type="text/css"/>
  <link href="https://static.cloud.coveo.com/searchui/v2.10090/css/CoveoFullSearch.min.css" media="all" rel="stylesheet" type="text/css"/>
  <script class="coveo-script" src="https://static.cloud.coveo.com/searchui/v2.10095/js/CoveoJsSearch.Lazy.min.js">
  </script>
  <script src="https://static.cloud.coveo.com/searchui/v2.10091/js/cultures/fr.js">
  </script>
  <script src="https://unpkg.com/@coveops/counted-tabs@1.3.0/dist/index.js">
  </script>
  <script src="https://unpkg.com/@coveops/facet-slider-dynamic-range@1.7.0/dist/index.js">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/requirejs/require.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/requirejs-min-resolver.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/js/bundle/bundle0.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/js/bundle/bundle1.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/js/bundle/bundle2.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/js/bundle/bundle3.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/js/bundle/bundle4.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/mage/requirejs/static.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/mage/requirejs/mixins.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/requirejs-config.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Mageplaza_SocialShare/js/thankskit.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/trap_focus.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/form.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/script.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/scrolltop.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/lcbo_base.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/resize.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/smartresize.min.js" type="text/javascript">
  </script>
  <script src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Theme/js/rum.min.js" type="text/javascript">
  </script>
  <script src="https://static.addtoany.com/menu/page.js" type="text/javascript">
  </script>
  <link as="font" crossorigin="anonymous" href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/fonts/opensans/light/opensans-300.woff2" rel="preload"/>
  <link as="font" crossorigin="anonymous" href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/fonts/opensans/regular/opensans-400.woff2" rel="preload"/>
  <link as="font" crossorigin="anonymous" href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/fonts/opensans/semibold/opensans-600.woff2" rel="preload"/>
  <link as="font" crossorigin="anonymous" href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/fonts/opensans/bold/opensans-700.woff2" rel="preload"/>
  <link as="font" crossorigin="anonymous" href="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/fonts/Luma-Icons.woff2" rel="preload"/>
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&amp;display=swap" rel="stylesheet"/>
  <link href="https://use.typekit.net/jrk2hpe.css" rel="stylesheet"/>
  <link href="https://www.lcbo.com/media/favicon/stores/1/favicon.png" rel="icon" type="image/x-icon"/>
  <link href="https://www.lcbo.com/media/favicon/stores/1/favicon.png" rel="shortcut icon" type="image/x-icon"/>
  <link href="https://www.lcbo.com/en/amstorepickup/map/update/p/2/" rel="next"/>
  <link href="https://www.lcbo.com/en/products/wine/white-wine" rel="canonical"/>
  <meta content="aExSkaAIFhv4z24uFyrYb1kzfmgo4cUMVsvZIBJz0ts" name="google-site-verification"/>
  <meta content="cd8d0292620a6ecb444ce413501f02e5" name="p:domain_verify"/>
  <script src="https://www.googleoptimize.com/optimize.js?id=OPT-N5CK854">
  </script>
  <style>
   .message.global.cookie {background:#ebebeb;} .message.global.cookie a {color: #333;}
  </style>
  <link href="https://use.typekit.net/nlh8ord.css" rel="stylesheet"/>
  <link href="https://use.typekit.net/ebr5osd.css" rel="stylesheet"/>
  <meta content="no-referrer-when-downgrade" name="referrer"/>
  <meta content="mSSuLscQlFgGrh9OeucRaXkPBEKQH4G7" name="p:domain_verify"/>
  <!-- Google tag (gtag.js) -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HH23XDN489">
  </script>
  <script>
   window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-HH23XDN489');
  </script>
  <script async="" src="https://assets.adobedtm.com/37524775a72e/bbbd87a885ff/launch-aa6895b9c93b.min.js">
  </script>
  <script type="text/x-magento-init">
   {
            "*": {
                "Magento_PageCache/js/form-key-provider": {
                    "isPaginationCacheEnabled":
                        0                }
            }
        }
  </script>
  <script>
   require(['magentoStorefrontEvents'], function (magentoStorefrontEvents) {
        if(!magentoStorefrontEvents) return;

        window.magentoStorefrontEvents = magentoStorefrontEvents;
        magentoStorefrontEvents.context.setStorefrontInstance(
            {"storeUrl":"https:\/\/www.lcbo.com\/","websiteId":1,"websiteCode":"base","storeId":1,"storeCode":"main_website_store","storeViewId":1,"storeViewCode":"en","websiteName":"LCBO Website","storeName":"LCBO Store","storeViewName":"English","baseCurrencyCode":"CAD","storeViewCurrencyCode":"CAD","catalogExtensionVersion":"101.4.0","environmentId":"27c4caa6-5bfd-4a69-88c2-17d5c7b4f3d2","environment":"Production"}        );
        magentoStorefrontEvents.context.setMagentoExtension({
            magentoExtensionVersion: "7.2.0",
        });
        magentoStorefrontEvents.context.setDataServicesExtension({
            version: "7.2.0",
        });
        magentoStorefrontEvents.context.setPage({
            pageType: "Default"
        });
        magentoStorefrontEvents.context.setContext("pageExtended", {
            action: "page-view"
        });
         });
  </script>
  <script type="text/x-magento-init">
   {
        "*": {
            "dataServicesBase": {
                "isCookieRestrictionModeEnabled": 1,
                "isEnabled": 1            },
            "magentoStorefrontEventCollector": {}
        }
    }
  </script>
  <!-- BEGIN GOOGLE UNIVERSAL ANALYTICS CODE -->
  <script type="text/x-magento-init">
   {
                "*": {
                    "Magento_GoogleAnalytics/js/google-analytics": {
                        "isCookieRestrictionModeEnabled": 1,
                        "currentWebsite": 1,
                        "cookieName": "user_allowed_save_cookie",
                        "ordersTrackingData": [],
                        "pageTrackingData": {"optPageUrl":"","isAnonymizedIpActive":false,"accountId":"UA-553500-44"}                    }
                }
            }
  </script>
  <!-- END GOOGLE UNIVERSAL ANALYTICS CODE -->
  <link href="https://aem.lcbo.com/etc.clientlibs/lcbo/clientlibs/clientlib-experience-fragment.min.css" rel="stylesheet" type="text/css"/>
  <link href="https://www.lcbo.com/en/products/wine/white-wine" hreflang="en-ca" rel="alternate">
   <link href="https://www.lcbo.com/fr/vin-blanc" hreflang="fr-ca" rel="alternate">
    <script src="https://resources.digital-cloud.medallia.ca/wdccan/752/onsite/embed.js">
    </script>
    <script src="https://static.queue-it.net/script/queueclient.min.js">
    </script>
    <script data-queueit-c="lcbo" src="https://static.queue-it.net/script/queueconfigloader.min.js">
    </script>
   </link>
  </link>
 </head>
 <body class="coveosearchinterface page-with-filter page-products categorypath-products-wine-white-wine category-white-wine catalog-category-view page-layout-2columns-left" data-container="body" data-enable-history="true" data-mage-init='{"loaderAjax": {}, "loader": { "icon": "https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/loader-2.gif"}}' id="html-body">
  <div aria-live="assertive">
   <span class="sr-only loading-label">
   </span>
  </div>
  <div aria-live="assertive">
   <span class="sr-only loaded-label">
   </span>
  </div>
  <div class="skip-content-block">
   <a class="action skip contentarea" href="#contentarea">
    <span>
     Skip to Content
    </span>
   </a>
  </div>
  <script type="text/x-magento-init">
   {
        "*": {
            "Magento_PageBuilder/js/widget-initializer": {
                "config": {"[data-content-type=\"slider\"][data-appearance=\"default\"]":{"Magento_PageBuilder\/js\/content-type\/slider\/appearance\/default\/widget":false},"[data-content-type=\"map\"]":{"Magento_PageBuilder\/js\/content-type\/map\/appearance\/default\/widget":false},"[data-content-type=\"row\"]":{"Magento_PageBuilder\/js\/content-type\/row\/appearance\/default\/widget":false},"[data-content-type=\"tabs\"]":{"Magento_PageBuilder\/js\/content-type\/tabs\/appearance\/default\/widget":false},"[data-content-type=\"slide\"]":{"Magento_PageBuilder\/js\/content-type\/slide\/appearance\/default\/widget":{"buttonSelector":".pagebuilder-slide-button","showOverlay":"hover","dataRole":"slide"}},"[data-content-type=\"banner\"]":{"Magento_PageBuilder\/js\/content-type\/banner\/appearance\/default\/widget":{"buttonSelector":".pagebuilder-banner-button","showOverlay":"hover","dataRole":"banner"}},"[data-content-type=\"buttons\"]":{"Magento_PageBuilder\/js\/content-type\/buttons\/appearance\/inline\/widget":false},"[data-content-type=\"products\"][data-appearance=\"carousel\"]":{"Magento_PageBuilder\/js\/content-type\/products\/appearance\/carousel\/widget":false},"[data-content-type=\"product_recommendations\"]":{"Magento_PageBuilderProductRecommendations\/js\/content-type\/product-recommendations\/appearance\/default\/widget":false}},
                "breakpoints": {"desktop":{"label":"Desktop","stage":true,"default":true,"class":"desktop-switcher","icon":"Magento_PageBuilder::css\/images\/switcher\/switcher-desktop.svg","conditions":{"min-width":"1024px"},"options":{"products":{"default":{"slidesToShow":"5"}}}},"tablet":{"conditions":{"max-width":"1024px","min-width":"768px"},"options":{"products":{"default":{"slidesToShow":"4"},"continuous":{"slidesToShow":"3"}}}},"mobile":{"label":"Mobile","stage":true,"class":"mobile-switcher","icon":"Magento_PageBuilder::css\/images\/switcher\/switcher-mobile.svg","media":"only screen and (max-width: 768px)","conditions":{"max-width":"300px","min-width":"640px"},"options":{"products":{"default":{"slidesToShow":"3"}}}},"mobile-small":{"conditions":{"max-width":"768px"},"options":{"products":{"default":{"slidesToShow":"1"},"continuous":{"slidesToShow":"1"}}}},"mobile-medium":{"conditions":{"min-width":"769px","max-width":"1024px"},"options":{"products":{"default":{"slidesToShow":"5"},"continuous":{"slidesToShow":"1"}}}}}            }
        }
    }
  </script>
  <div class="cookie-status-message" id="cookie-status">
   The store will not work correctly in the case when cookies are disabled.
  </div>
  <script type="text/javascript">
   document.querySelector("#cookie-status").style.display = "none";
  </script>
  <script type="text/x-magento-init">
   {
        "*": {
            "cookieStatus": {}
        }
    }
  </script>
  <script type="text/x-magento-init">
   {
        "*": {
            "mage/cookies": {
                "expires": null,
                "path": "\u002F",
                "domain": ".www.lcbo.com",
                "secure": true,
                "lifetime": "86400"
            }
        }
    }
  </script>
  <noscript>
   <div class="message global noscript">
    <div class="content">
     <p>
      <strong>
       JavaScript seems to be disabled in your browser.
      </strong>
      <span>
       For the best experience on our site, be sure to turn on Javascript in your browser.
      </span>
     </p>
    </div>
   </div>
  </noscript>
  <script>
   require.config({
        map: {
            '*': {
                wysiwygAdapter: 'mage/adminhtml/wysiwyg/tiny_mce/tinymce5Adapter'
            }
        }
    });
  </script>
  <div aria-label="Cookie Notice" class="message global cookie" id="notice-cookie-block" role="region" tabindex="-1">
   <h5>
    Cookies on LCBO.com
   </h5>
   <div class="content" role="document" tabindex="-1">
    <div class="cookie-content">
     <p class="main cookie content">
      We use cookies and similar technologies to improve user experience, and analyse activities and performance. For more information, please see our
      <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/privacy.html" target="_blank">
       Privacy Policy.
       <img alt="(opens in a new tab)" class="open-in-new-window fa fa-external-link" src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/new-window.png"/>
      </a>
     </p>
    </div>
    <div class="actions">
     <button class="action allow primary" id="btn-cookie-allow">
      <span>
       Close
      </span>
     </button>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   var elemVhDcEAjr = document.querySelector('div#notice-cookie-block');
if (elemVhDcEAjr) {
elemVhDcEAjr.style.display = 'none';
}
  </script>
  <script type="text/x-magento-init">
   {
            "#notice-cookie-block": {
                "cookieNotices": {
                    "cookieAllowButtonSelector": "#btn-cookie-allow",
                    "cookieName": "user_allowed_save_cookie",
                    "cookieValue": {"1":1},
                    "cookieLifetime": 31536000,
                    "noCookiesUrl": "https\u003A\u002F\u002Fwww.lcbo.com\u002Fen\u002Fcookie\u002Findex\u002FnoCookies\u002F"
                }
            }
        }
  </script>
  <script>
   window.cookiesConfig = window.cookiesConfig || {}; window.cookiesConfig.secure = true;
  </script>
  <script>
   require.config({
        paths: {
            googleMaps: 'https\u003A\u002F\u002Fmaps.googleapis.com\u002Fmaps\u002Fapi\u002Fjs\u003Fv\u003D3\u0026key\u003DAIzaSyA_KFvSAoGiOweuOGtmBo7I5pW\u002DCXafHFE'
        },
        config: {
            'Magento_PageBuilder/js/utils/map': {
                style: ''
            },
            'Magento_PageBuilder/js/content-type/map/preview': {
                apiKey: 'AIzaSyA_KFvSAoGiOweuOGtmBo7I5pW\u002DCXafHFE',
                apiKeyErrorMessage: 'You\u0020must\u0020provide\u0020a\u0020valid\u0020\u003Ca\u0020href\u003D\u0027https\u003A\u002F\u002Fwww.lcbo.com\u002Fen\u002Fadminhtml\u002Fsystem_config\u002Fedit\u002Fsection\u002Fcms\u002F\u0023cms_pagebuilder\u0027\u0020target\u003D\u0027_blank\u0027\u003EGoogle\u0020Maps\u0020API\u0020key\u003C\u002Fa\u003E\u0020to\u0020use\u0020a\u0020map.'
            },
            'Magento_PageBuilder/js/form/element/map': {
                apiKey: 'AIzaSyA_KFvSAoGiOweuOGtmBo7I5pW\u002DCXafHFE',
                apiKeyErrorMessage: 'You\u0020must\u0020provide\u0020a\u0020valid\u0020\u003Ca\u0020href\u003D\u0027https\u003A\u002F\u002Fwww.lcbo.com\u002Fen\u002Fadminhtml\u002Fsystem_config\u002Fedit\u002Fsection\u002Fcms\u002F\u0023cms_pagebuilder\u0027\u0020target\u003D\u0027_blank\u0027\u003EGoogle\u0020Maps\u0020API\u0020key\u003C\u002Fa\u003E\u0020to\u0020use\u0020a\u0020map.'
            },
        }
    });
  </script>
  <script>
   require.config({
        shim: {
            'Magento_PageBuilder/js/utils/map': {
                deps: ['googleMaps']
            }
        }
    });
  </script>
  <script type="text/x-magento-init">
   {
        "*": {
            "Magento_GoogleTagManager/js/google-tag-manager-cart": {
                "blockNames": ["category.products.list","product.info.upsell","catalog.product.related","checkout.cart.crosssell","search_result_list"],
                "cookieAddToCart": "add_to_cart",
                "cookieRemoveFromCart":
                    "remove_from_cart",
                "advancedAddToCart": "add_to_cart_advanced"
            }
        }
    }
  </script>
  <!--suppress HtmlUnknownTarget -->
  <!-- BV | Magento Extension 9.1.5 -->
  <script async="" src="//apps.bazaarvoice.com/deployments/lcbo/main_site/production/en_CA/bv.js" type="text/javascript">
  </script>
  <div class="widget block block-banners" data-banner-id="3b16c68d7037358137704eb38e39b1f2abb5346f8e5f877f79d05c5d51876a46" data-banner-name="Notification" data-banner-status="Enabled" data-bind="scope: 'banner'" data-display-mode="fixed" data-ids="3" data-rotate="" data-store-id="1" data-types="">
   <ul class="banner-items" data-bind="afterRender: registerBanner">
    <!-- ko foreach: getItems3b16c68d7037358137704eb38e39b1f2abb5346f8e5f877f79d05c5d51876a46() -->
    <li class="banner-item" data-bind="attr: {'data-banner-id': $data.bannerId}">
     <div class="banner-item-content" data-bind="bindHtml: $data.html">
     </div>
    </li>
    <!-- /ko -->
   </ul>
  </div>
  <script type="text/x-magento-init">
   {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                    "banner": {
                        "component": "Magento_Banner/js/view/banner"
                    }
                }
            }
        }
    }
  </script>
  <div class="page-wrapper">
   <script>
    require(['magentoStorefrontEvents'], function (magentoStorefrontEvents) {
        window.magentoStorefrontEvents.context.setContext("recsContext", {
            alternateEnvironmentId: ""
        });
    });
   </script>
   <script type="text/x-magento-init">
    {
            "*": {
                "Magento_ProductRecommendationsLayout/js/recsFetcher": {}
            }
        }
   </script>
   <header class="page-header">
    <script type="text/x-magento-init">
     {
        "*":{
            "Magento_Theme/js/initialize_store_info": {
              "currentStoreCode": "en",
              "is_home_page":"catalog_category_view"
            }
        }
    }
    </script>
    <div class="panel wrapper">
     <div class="panel header">
      <div class="lcbo-header-mystore-home-container">
       <div class="my-store-link" id="my_store_header">
        <div class="store_name_on_header">
         <span>
          My Store:
         </span>
         <span id="my_store_loader">
          Loading...
         </span>
        </div>
        <div class="store_name_on_header" style="margin-left: 4px;">
         <a href="javascript:void(0);" id="my_store">
         </a>
        </div>
       </div>
       <div id="my_store_dropdown_wrapper">
        <div class="my_store_details" id="my_store_dropdown_content" style="display: none">
         <button aria-label="Close" class="my_store_close_button" onclick="javascript:document.querySelector('#my_store_dropdown_content').style.display='none'; localStorage.setItem('my-store-popup-opened', null);">
         </button>
         <div id="my_store_store_selected" style="display: none">
          <h2>
           <div class="amlocator-store-title" id="my_store_details_title">
           </div>
          </h2>
          <div class="store_select-status">
           <div class="my_store_amasty_distance" id="my_store_amasty_distance">
            <span class="amasty_distance_number" id="my_store_amasty_distance_number">
            </span>
            <span class="distance-string" id="my_store_amasty_distance_distance_string">
            </span>
           </div>
           <input id="my_store_store_lat" type="hidden" value=""/>
           <input id="my_store_store_lng" type="hidden" value=""/>
           <input id="my_store_browser_lat" type="hidden" value=""/>
           <input id="my_store_browser_lng" type="hidden" value=""/>
           <input id="my_store_storesListLink" type="hidden" value=""/>
           <input id="my_store_base_url" type="hidden" value="https://www.lcbo.com/en/"/>
           <div class="amlocator-schedule-container">
            <span>
             <span class="amlocator-time">
              <span id="my_store_amlocator_time">
              </span>
             </span>
            </span>
           </div>
           <div class="same-day-pickup-main-section" id="my_store_sdp" style="display: none;">
            <span class="same-day-pick-image">
            </span>
            <p same-day-pickup="">
             FREE Same-Day Pickup
            </p>
           </div>
           <div class="no-same-day-pickup-main-section" id="my_store_no_sdp" style="display: none;">
            <span class="same-day-pick-image">
            </span>
            <p same-day-pickup="">
             FREE Same-Day Pickup Not Available
            </p>
           </div>
          </div>
          <div class="amlocator-store-desc" id="my_store_details_desc">
           <div class="lcbo-amlocator-stores-wrapper">
            <div class="amlocator-block">
             <div class="amlocator-store-information">
              <span class="amlocator-info-address" id="my_store_details_desc_address" style="text-transform: capitalize;">
              </span>
              <div class="amlocator-city-div" id="my_store_details_desc_city_zip">
               <span class="amlocator-info-address" id="my_store_details_desc_city" style="text-transform: capitalize;">
               </span>
              </div>
              <div class="amlocator-phone-number">
               <a href="tel:[#]" id="my_store_details_telephone_number">
                <span class="sr-only">
                 Phone Number:
                </span>
                <span id="my_store_details_desc_telephone" style="color:black">
                </span>
               </a>
              </div>
             </div>
            </div>
           </div>
           <div class="my_store_amlocator-store-detail">
            <div class="amlocator-store-get-directions-main-section">
             <a class="action amlocator-store-get-directions-link" id="my_store_details_direction" onclick="storeLocatorPopupReset()" rel="noopener" target="_blank">
              <span>
               Get Directions
              </span>
              <img height="15" src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/external-link.svg" width="15">
               <span class="sr-only">
                Open in new tab
               </span>
              </img>
             </a>
            </div>
            <div class="amlocator-store-detail">
             <a class="action amlocator-store-detail-link" href="https://www.lcbo.com/en/stores/" id="my_store_details_detail" onclick="storeLocatorPopupReset()" rel="noopener" style="margin-left: 5px;" target="_blank">
              <span>
               Store Details
              </span>
              <img height="15" src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/external-link.svg" width="15"/>
              <span class="sr-only">
               Open in new tab
              </span>
             </a>
            </div>
           </div>
           <div class="my_store_amlocator-store-detail">
            <div class="amlocator-store-detail">
             <a class="action amlocator-store-detail-link" href="https://www.lcbo.com/en/products#t=clp-products&amp;sort=relevancy&amp;layout=card&amp;f:@stores_stock=[true]" id="my_store_details_view_product" onclick="viewProductAtThisStoreAction()" style="margin-left: 5px; width: fit-content;">
              <span>
               View Products At This Store
              </span>
             </a>
            </div>
           </div>
           <div id="my_store_action-find" style="display: block">
            <button class="my_store_selectstore-link" id="my_store_change_store" onclick="javascript: document.querySelector('#my_store_dropdown_content').style.display='none'; localStorage.setItem('my-store-popup-opened', null); location.href = findAnotherStoreWithRedirect();" style="margin-left: 5px;">
             Find Another Store
            </button>
            <script>
             function findAnotherStoreWithRedirect(){
                            let storeLink = 'https://www.lcbo.com/en/stores/';
                            let curr_url = window.location.href;
                            let hashInd = curr_url.indexOf("#");
                            return constructUrl(storeLink, curr_url, hashInd);
                        }

                        function constructUrl(pageLink, currLink, hashInd){
                            if(hashInd!= -1) {
                                let hashParam = currLink.substring(hashInd);
                                return pageLink + hashParam;
                            }else{
                                return pageLink;
                            }
                        }
            </script>
            <script>
             function findAnotherStore(stlocUrl){
                            let currentUrl=window.location.href;
                            if (currentUrl==stlocUrl) {
                                document.getElementById('my_store_dropdown_content').style.display='none';
                            }else{
                                location.href(stlocUrl)
                            }
                        }
            </script>
           </div>
          </div>
         </div>
        </div>
        <div class="my_store_details my_store_no_store_center" id="my_store_no_store" style="display: none">
         <div>
          <div id="my_store_your_store">
           Your Store
          </div>
         </div>
         <div>
          <div class="my_store_find_a_store" id="my_store_find_a_store" style="text-align: center; text-transform: capitalize; ">
          </div>
         </div>
         <div id="my_store_auto_selected_store_msg" style="text-align: center">
          We selected this location for you. To improve your location’s accuracy, share your location. Please confirm your preferred store to continue.
         </div>
         <div id="my_store_action">
          <button class="my_store_selectstore-link" id="my_store_find_store_button">
           Select My Store
          </button>
         </div>
        </div>
       </div>
       <div id="my_store_overlay">
       </div>
       <script type="text/x-magento-init">
        {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                    "storeloctor": {
                        "component": "Lcbo_StorePickupWithLocator/js/stores",
                        "ajaxCallUrl": "https://www.lcbo.com/en/amlocator/index/ajax/",
                        "ajaxCallToGetStore": "https://www.lcbo.com/en/storepickup/selection/store/",
                        "useBrowserLocation": "1",
                        "minRadius":"2",
                        "maxRadius":"500",
                        "defaultStLoc":"217",
                        "my_store_storesListLink":"https://www.lcbo.com/en/stores/"
                    }
                }
            }
        }
    }
       </script>
       <!-- popup code start -->
       <div class="modal-body-content storelocator_popup" style="display:none">
        <div class="callfor-popup-storelocator">
         <h3>
          Your selected store was changed to our flagship store at Cooper Street &amp; Queens Quay East.
         </h3>
         <p class="body_M_normal">
          Your selected store is either temporarily or permanently unavailable. To select a new store near you, please use the store locator. Availability may change for products in your cart.
         </p>
         <p class="lcbo_storelocator_button">
          <span class="lcbo_storelocator_accept">
           <span>
            OK
           </span>
          </span>
         </p>
        </div>
       </div>
       <!-- Script to control the locator popup -->
       <script type="text/javascript">
        function acceptDefaultStoreSelected(){
        require([
            'jquery'
        ], function(jQuery){
            (function($) {
                
                storeLocatorPopupReset();
                if (jQuery('div.coveo-error-report-container').is(':visible')) {
                    Coveo.executeQuery(document.body);
                }
            })(jQuery);
        });
    }

    function storeLocatorPopupReset(){
        require([
            'jquery'
        ], function(jQuery){
            (function($) {
                localStorage.setItem('my-store-popup-opened', null);
                $('#my_store_dropdown_wrapper').hide();
                $('#my_store_overlay').hide();
                $("body").css("overflow", "auto");
                $('#loader').hide();
                if (jQuery('div.coveo-error-report-container').is(':visible')) {
                    Coveo.executeQuery(document.body);
                }
            })(jQuery);
        });
    }

    function viewProductAtThisStoreAction(){
        require([
            'jquery'
        ], function(jQuery){
            (function($) {
                document.querySelector('#my_store_dropdown_content').style.display='none';
                localStorage.setItem('my-store-popup-opened', null);
            })(jQuery);
        });
    }

    require([
        'jquery'
    ], function ($) {
        $("#my_store_find_store_button").on("click", function () {
            window.location.href = "https://www.lcbo.com/en/stores/" +
                window.location.hash;
        });
        if (window.location.href.indexOf('/fr/') > -1) {
            $('#my_store_store_selected .my_store_amlocator-store-detail .amlocator-store-detail').css({'flex':'none','margin-right': '4px'});
        }

        
        function detectTabKeyPressed(e){
            return e.which === 9;
        }

        function detectShiftTabKeyPressed(e){
            return e.shiftKey;
        }

        $(document).on('keydown', '#my_store', function(e) {
            if (detectTabKeyPressed(e)) {
                e.preventDefault();
                if (detectShiftTabKeyPressed(e)) {
                    if ($("#notice-cookie-block").is(':visible')) {
                        $("#btn-cookie-allow").focus();
                    } else {
                        $("a.action.skip.contentarea").focus();
                    }
                } else {

                    if ($("div#my_store_dropdown_content.my_store_details").is(':visible')) {
                        $('#my_store_details_telephone_number').focus();
                    } else {
                        if (window.innerWidth <= 768) {
                            $('span.action.nav-toggle').focus();
                        } else {
                            $('.authorization-link a').focus();
                        }
                    }
                }
            }
        });

        $(document).on('keydown', '#my_store_change_store', function(e) {
            if (detectTabKeyPressed(e)) {
                e.preventDefault();
                if (detectShiftTabKeyPressed(e)) {
                    $("#my_store_details_view_product").focus();
                } else {
                    $('.my_store_close_button').focus();
                }
            }
        });

        $(document).on('keydown', '.my_store_close_button', function(e) {
            if (detectTabKeyPressed(e)) {
                e.preventDefault();
                if (detectShiftTabKeyPressed(e)) {
                    $('#my_store_change_store').focus();
                } else {
                    if (window.innerWidth <= 768) {
                        $('span.action.nav-toggle').focus();
                    } else {
                        $('.authorization-link a').focus();
                    }
                }
            }
        });

        $(document).on('keydown', '#my_store_details_telephone_number', function(e) {
            if (detectTabKeyPressed(e) && detectShiftTabKeyPressed(e)) {
                e.preventDefault();
                $('#my_store').focus();
            }
        });

        $(document).on('keydown', '#my_store_details_direction', function(e) { 
            if (detectTabKeyPressed(e)) {
                if (detectShiftTabKeyPressed(e)) {
                    e.preventDefault();
                    $("#my_store_details_telephone_number").focus();
                }
            }
        })

        $(document).on('keydown', '.authorization-link a, span.action.nav-toggle', function(e) {
            if (detectTabKeyPressed(e) && detectShiftTabKeyPressed(e)) {
                e.preventDefault();
                let my_store_popup_visible = $("div#my_store_dropdown_content.my_store_details").is(':visible');
                if (e.target.className === 'action nav-toggle') {
                    if (window.innerWidth <= 768 && my_store_popup_visible) {
                        $('.my_store_close_button').focus();
                    } else if (window.innerWidth <= 768 && (!my_store_popup_visible)) {
                        $("#my_store").focus();
                    }
                } else {
                    if (window.innerWidth > 768 && my_store_popup_visible) {
                        $('.my_store_close_button').focus();
                    } else if (window.innerWidth > 768 && (!my_store_popup_visible)) {
                        $("#my_store").focus();
                    }
                }
            }
        });

    });
       </script>
      </div>
      <ul class="header links">
       <li class="greet welcome" data-bind="scope: 'customer'">
        <!-- ko if: customer().fullname -->
        <span class="logged-in" data-bind="text: new String('Welcome Back, %1').replace('%1', customer().firstname)" tabindex="0">
        </span>
        <!-- /ko -->
        <!-- ko ifnot: customer().fullname -->
        <span class="not-logged-in" data-bind="html: ''">
        </span>
        <!-- /ko -->
       </li>
       <script type="text/x-magento-init">
        {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                    "customer": {
                        "component": "Magento_Customer/js/view/customer"
                    }
                }
            }
        }
    }
       </script>
       <script type="text/javascript">
        require([
            'jquery','Lcbo_StoreLocator/js/storelocator-local-storage'
        ], function ($,storeLocalStorage) {
            $(window).on('load', function() {
                var storeLocatorId=null;
                if (storeLocalStorage.getHasData() && storeLocalStorage.getstoreIdentifier()) {
                    storeLocatorId=storeLocalStorage.getstoreIdentifier();
                    $('.stloc').val(storeLocatorId);
                }
            });
        });
       </script>
       <li class="link authorization-link" data-label="or">
        <a href="https://www.lcbo.com/en/customer/account/login/referer/aHR0cHM6Ly93d3cubGNiby5jb20vZW4vcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l/">
         Sign In
        </a>
       </li>
       <li>
        <a href="https://www.lcbo.com/en/customer/account/create/" id="idDUU8PCGg">
         Create an Account
        </a>
       </li>
       <li>
        <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/faq.html#how-do-i-track-my-order" id="idkZGgwmzR">
         Track an Order
        </a>
       </li>
       <li class="aeroplan">
        <a href="https://www.lcbo.com/en/aeroplan?icid=columnib_aeroplan-program_p3_w1_en" target="_blank">
         Aeroplan
        </a>
       </li>
      </ul>
      <div class="switcher language switcher-language" data-ui-id="language-switcher" id="switcher-language">
       <div class="actions dropdown options switcher-options">
        <div class="action toggle switcher-trigger" data-mage-init='{"dropdown":{}}' data-toggle="dropdown" data-trigger-keypress-button="true" id="switcher-language-trigger">
         <strong class="view-en">
          <span>
           English
          </span>
         </strong>
        </div>
        <ul class="dropdown switcher-dropdown" data-target="dropdown">
         <li class="view-fr switcher-option">
          <a href="https://www.lcbo.com/en/stores/store/redirect/___store/fr/___from_store/en/uenc/aHR0cHM6Ly93d3cubGNiby5jb20vZnIvcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l/">
           Français
          </a>
         </li>
        </ul>
       </div>
       <div class="Language-view-mobile">
        <p class="view active">
         <a href="https://www.lcbo.com/en/stores/store/redirect/___store/en/___from_store/en/uenc/aHR0cHM6Ly93d3cubGNiby5jb20vZW4vcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l/">
          <span class="sr-only">
           Selected language
          </span>
          <span>
           English
          </span>
         </a>
        </p>
        <p class="view">
         <a href="https://www.lcbo.com/en/stores/store/redirect/___store/fr/___from_store/en/uenc/aHR0cHM6Ly93d3cubGNiby5jb20vZnIvcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l/">
          <span>
           Français
          </span>
         </a>
        </p>
       </div>
      </div>
     </div>
    </div>
    <div class="header content">
     <span class="action nav-toggle" data-action="toggle-nav" role="button" tabindex="0">
      <span>
       Toggle Menu
      </span>
     </span>
     <div class="header_logo">
      <a aria-label="Liquor Control Board of Ontario (LCBO)" class="logo" href="https://www.lcbo.com/en/">
       <img alt="Liquor Control Board of Ontario (LCBO)" aria-hidden="true" src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/logo.svg"/>
      </a>
     </div>
     <script>
      var fragmentDomainUrl = "https://aem.lcbo.com/";
    var errorProductImageUrl = fragmentDomainUrl + "content/dam/lcbo/products/default.jpg";
    var errorRecipeImageUrl = fragmentDomainUrl + "content/dam/lcbo/recipe_notfound.jpg.thumb.319.319.png";
    var customerGroupId = "0";

    const advancedExpression = '(@ec_visibility==(3,4)) (@cp_browsing_category_deny<>' + customerGroupId + ')';

    require(["jquery"], function ($) {
        $(document).ready(function () {
            const searchBoxRoot = document.getElementById("searchbox");
            
            Coveo.SearchEndpoint.configureCloudV2Endpoint(
                "lcboproductionx2kwygnc",
                "xx883b5583-07fb-416b-874b-77cce565d927"
            );
            
            if ((!/(en|fr)?\/(catalogsearch)/gi.test(window.location.pathname))) {
                Coveo.initSearchbox(
                    searchBoxRoot,
                    "/en/catalogsearch/result/"
                );
            }
        });
    });
     </script>
     <div class="block block-search">
      <div class="block block-title">
       <strong>
        Search
       </strong>
      </div>
      <div class="block block-content">
       <div id="searchbox">
        <div class="CoveoAnalytics" data-search-hub="Web_Main_Search_EN">
        </div>
        <label class="label" data-role="minisearch-label" id="icon-mobile" role="button" tabindex="0">
         <span>
          search
         </span>
        </label>
        <div class="searchWrapper">
         <div class="searchClose" id="closeButton" tabindex="0">
          <svg fill="none" height="14" viewbox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg">
           <path clip-rule="evenodd" d="M1.6129 0.209705L1.70711 0.292893L7 5.585L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0676 0.653377 14.0953 1.22061 13.7903 1.6129L13.7071 1.70711L8.415 7L13.7071 12.2929C14.0976 12.6834 14.0976 13.3166 13.7071 13.7071C13.3466 14.0676 12.7794 14.0953 12.3871 13.7903L12.2929 13.7071L7 8.415L1.70711 13.7071C1.31658 14.0976 0.683418 14.0976 0.292893 13.7071C-0.0675907 13.3466 -0.0953203 12.7794 0.209705 12.3871L0.292893 12.2929L5.585 7L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683418 0.292893 0.292893C0.653377 -0.0675907 1.22061 -0.0953203 1.6129 0.209705Z" fill="#222222" fill-rule="evenodd">
           </path>
          </svg>
         </div>
         <div class="CoveoSearchbox" data-allow-queries-without-keywords="false" data-clear-filters-on-new-query="true" data-enable-wildcards="true" data-placeholder="What can we help you find today?" data-search-as-you-type-delay="500">
         </div>
         <div aria-live="polite" class="sr-only" id="search-notification">
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="personalDiv" id="div-prior" style="display:none;">
      <div class="searchdiv">
       <div id="recentSearch">
        <p class="populateTitle RecentSearches searchTitle">
         Recent Searches
        </p>
       </div>
       <div id="popularSearches">
        <p class="populateTitle PopularSearches searchTitle">
         Popular Searches
        </p>
        <a class="suggest" tabindex="0">
        </a>
        <a class="suggest" tabindex="0">
        </a>
        <a class="suggest" tabindex="0">
        </a>
        <a class="suggest" tabindex="0">
        </a>
        <a class="suggest" tabindex="0">
        </a>
       </div>
      </div>
      <div class="productdiv">
       <p class="populateTitle">
        Popular Products
       </p>
       <div class="populateContent">
        <div class="productContent" style="display:flex">
         <div class="populate-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
         <div class="populate-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
         <div class="populate-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
         <div class="populate-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
        </div>
       </div>
       <div class="populatediv-heading">
        <p class="populateTitle recipes-div heading-div">
         Popular Recipes
        </p>
        <a class="view-moreCTA recipes-div" id="foodDrink" onclick="showfoodDrink('foodDrink')" tabindex="0">
         Explore Food &amp; Drink
        </a>
       </div>
       <div class="populateContentRecipe">
        <div class="recipeContent">
         <div class="populate-recipe">
          <img alt="" class="populate-thumbnail" onclick="redirect(this,0)" src="" tabindex="0"/>
          <div class="populate-recipe-content">
           <span class="recipe-title populate-title" onclick="redirect(this,0)" tabindex="0">
           </span>
           <span class="recipe-desc prod-quant" tabindex="-1">
           </span>
          </div>
         </div>
         <div class="populate-recipe">
          <img alt="" class="populate-thumbnail" onclick="redirect(this,1)" src="" tabindex="0"/>
          <div class="populate-recipe-content">
           <span class="recipe-title populate-title" onclick="redirect(this,1)" tabindex="0">
           </span>
           <span class="recipe-desc prod-quant" tabindex="-1">
           </span>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="personalDiv" id="div-ontype" style="display:none;">
      <div class="searchdiv">
       <div id="suggestedSearches">
        <p class="populateTitle RecentSearches searchTitle suggestedSearches">
         Suggested Searches
        </p>
        <span class="suggest suggest-bold" onmouseover="triggerQuery(this)" tabindex="0">
        </span>
        <span class="suggest suggest-bold" onmouseover="triggerQuery(this)" tabindex="0">
        </span>
        <span class="suggest suggest-bold" onmouseover="triggerQuery(this)" tabindex="0">
        </span>
       </div>
       <div id="productCategory">
        <p class="populateTitle PopularSearches searchTitle">
         Product Categories
        </p>
        <a class="suggest suggest-bold" tabindex="0">
         Wine
        </a>
        <a class="suggest suggest-bold" tabindex="0">
         Wine|Products
        </a>
        <a class="suggest suggest-bold" tabindex="0">
         Wine|Red Wine
        </a>
        <a class="suggest suggest-bold" tabindex="0">
         Wine|White Wine
        </a>
       </div>
      </div>
      <div class="productdiv">
       <div class="populatediv-heading">
        <p class="populateTitle heading-div">
         Products
        </p>
        <a class="view-moreCTA" id="allResultsproducts" tabindex="0">
         View All Results
        </a>
       </div>
       <p class="suggest" id="noProducts" style="display:none;">
        text
       </p>
       <div class="populateContent">
        <div class="productContent" style="display:flex">
         <div class="populate-products typing-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
         <div class="populate-products typing-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
         <div class="populate-products typing-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
         <div class="populate-products typing-products">
          <div class="img-products">
           <a>
            <img alt="" class="populate-thumbnail" src=""/>
           </a>
          </div>
          <div class="detail-products">
           <a class="prod-title populate-title" tabindex="0">
           </a>
           <p class="prod-quant" tabindex="0">
           </p>
           <p class="prod-price" tabindex="0">
           </p>
          </div>
         </div>
        </div>
       </div>
       <div class="populatediv-heading">
        <p class="populateTitle recipes-div heading-div">
         Recipes
        </p>
        <a class="view-moreCTA recipes-div" id="viewAllReceipe" tabindex="0">
         View All Recipe Results
        </a>
        <a class="view-moreCTA recipes-div" id="foodDrink1" onclick="showfoodDrink('foodDrink1')" tabindex="0">
         Explore Food &amp; Drink
        </a>
       </div>
       <p class="suggest" id="noRecipes" style="display:none;">
        text
       </p>
       <div class="populateContentRecipe">
        <div class="recipeContent">
         <div class="populate-recipe typing-recipe">
          <img alt="" class="populate-thumbnail" onclick="redirect(this,0)" src="" tabindex="0"/>
          <div class="populate-recipe-content">
           <span class="recipe-title populate-title" onclick="redirect(this,0)" tabindex="0">
           </span>
           <span class="recipe-desc prod-quant" tabindex="-1">
           </span>
          </div>
         </div>
         <div class="populate-recipe typing-recipe">
          <img alt="" class="populate-thumbnail" onclick="redirect(this,1)" src="" tabindex="0"/>
          <div class="populate-recipe-content">
           <span class="recipe-title populate-title" onclick="redirect(this,1)" tabindex="0">
           </span>
           <span class="recipe-desc prod-quant" tabindex="-1">
           </span>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="CoveoTriggers">
     </div>
     <script>
      function redirect(eve, i) {
        window.location.href = redirectLink[i];
    }

    function showSearchBlock() {
        const ele = document.getElementsByClassName('CoveoOmnibox')[0].getElementsByTagName('input')[0];
        const suggestionState = {
            popularDataLoaded: false,
            suggestionsType: 'popular'
        };

        function setPopularSuggestionsVisible(visible) {
            document.getElementsByClassName('personalDiv')[0].style.display = visible ? 'flex' : 'none';
        }

        function setQuerySuggestionsVisible(visible) {
            document.getElementById('div-ontype').style.display = visible ? 'flex' : 'none';
        }

        function loadPopularContent() {
            suggestionState.suggestionsType = 'popular';
            if (!suggestionState.popularDataLoaded) {
                getProducts('', 'populate-products');
                getRecipe('', 'populate-recipe');
                suggestSearch('', 'popularSearches');
                suggestionState.popularDataLoaded = true;
            }
            translateLabelsNoInput();
            setQuerySuggestionsVisible(false);
            setPopularSuggestionsVisible(true);
        }

        function loadQuerySuggestions() {
            suggestionState.suggestionsType = 'query';
            suggestionState.popularDataLoaded = false;
            suggestSearch(ele.value, 'suggestedSearches');
        }

        document.addEventListener('CoveoProductsLoaded', () => {
            if (suggestionState.suggestionsType !== 'query') {
                return;
            }
            translateLabelsOnInput();
            setPopularSuggestionsVisible(false)
            setQuerySuggestionsVisible(true);
        });

        ele.addEventListener('click', (e) => {
            e.stopPropagation();
            if (!ele.value) {
                loadPopularContent();
            } else {
                loadQuerySuggestions();
            }
            if (window.innerWidth <= 768) {
                document.getElementsByClassName('searchClose')[0].style.display = 'block';
                closeHandler();
            }
        });
        ele.addEventListener('input', debounce(e => {
            e.stopPropagation();
            if (!ele.value) {
                loadPopularContent();
            } else {
                loadQuerySuggestions();
            }
        }, 250));
        setPopularSuggestionsVisible(false);
        document.addEventListener('click', (e) => {
            e.stopPropagation();
            suggestionState.popularDataLoaded = false;
            setQuerySuggestionsVisible(false);
            setPopularSuggestionsVisible(false);
        });
        showRecentSearch();
    }

    function createElmt(value) {
        let x = document.createElement('span');
        x.classList.add('suggest');
        x.setAttribute("tabindex", 0);
        x.innerText = value;
        x.addEventListener('click', (event) => {
            var ele = document.getElementsByClassName('CoveoOmnibox')[0].getElementsByTagName('input')[0]
            ele.value = value
            event.stopPropagation();
            jQuery('.CoveoSearchButton')[0].click()
        })
        return x
    }

    
    
    
    
    
    
    
    
    
    
    
    function showRecentSearch() {
        document.getElementById('recentSearch').style.display = 'block'
        if (!window.localStorage.getItem('rs')) {
            document.getElementById('recentSearch').style.display = 'none'
        } else {
            let x = window.localStorage.getItem('rs').split(',').reverse();
            let len = x.length < 3 ? x.length : 3;
            for (let i = 0; i < len; i++) {
                document.getElementById('recentSearch').appendChild(createElmt(x[i]))
            }
        }
    }

    function closeHandler() {
        let ele = document.getElementsByClassName('searchClose')[0]
        ele.addEventListener('click', event => {
            document.getElementsByClassName('personalDiv')[0].style.display = 'none'
            document.getElementsByClassName('searchClose')[0].style.display = 'none'
            document.getElementById('div-ontype').style.display = 'none'
            document.getElementsByClassName('CoveoSearchbox')[0].style.display = 'none'
            HidingOnMobile('block')
        })
    }
     </script>
     <script>
      require([
        'jquery',
        'Magento_Ui/js/lib/view/utils/dom-observer',
    ], function ($, $do) {
        'use strict';
        $(document).ready(function () {
            $do.get('.CoveoOmnibox', function (elem) {
                let inputBoxSearch = document.getElementsByClassName('CoveoOmnibox')[0].getElementsByTagName('input')[0];
                inputBoxSearch.title = "What can we help you find today?";
                inputBoxSearch.removeAttribute('aria-autocomplete')
                inputBoxSearch.removeAttribute('aria-expanded')
                if (window.innerWidth > 768) {
                    if (document.getElementsByTagName("input")[0].hasAttribute("form")) {
                        document.getElementsByTagName("input")[0].removeAttribute('title');
                        document.getElementsByTagName("input")[0].removeAttribute('aria-label');
                        document.getElementsByTagName("input")[0].removeAttribute('role');
                    }
                }
                showSearchBlock()
                searchBoxMobileHandler()
            });
        });
    });
     </script>
     <script>
      var showAllProduct = document.getElementById('allResultsproducts');
    showAllProduct.onclick = function (e) {
        let value = document.getElementsByClassName('magic-box-underlay')[0].nextSibling.value;
        let baseUrl = 'https://www.lcbo.com/en/catalogsearch/result/' + '#q=' + value + '&t=Products&sort=relevancy&layout=card';
        document.getElementById('allResultsproducts').setAttribute("href", baseUrl);
    }

    function showfoodDrink(elementId) {
        let baseUrl = window.location.href
        let addOn = ''
        if (baseUrl.includes('/fr/')) {
            addOn = '/fr/a-bon-verre-bonne-table'
        } else {
            addOn = '/en/food-drink'
        }
        baseUrl = window.location.origin
        baseUrl = baseUrl + addOn
        document.getElementById(elementId).setAttribute("href", baseUrl);
    }

    var viewAllReceipe = document.getElementById('viewAllReceipe');
    viewAllReceipe.onclick = function (e) {
        let value = document.getElementsByClassName('magic-box-underlay')[0].nextSibling.value;
        let baseUrl = 'https://www.lcbo.com/en/catalogsearch/result/' + '#q=' + value + '&t=Recipes&sort=relevancy&layout=card';
        document.getElementById('viewAllReceipe').setAttribute("href", baseUrl);
    }
     </script>
     <script>
      function getLanguage() {
        return window.location.href.toLowerCase().includes('/fr/') ? "fr" : "en";
    }
    function logSearchEvent(searchResponse, originContext, searchHub, tab, query) {
        const language = getLanguage();
        const searchEvent = {
            "actionCause": "searchboxSubmit",
            "actionType": "search box",
            "language": language,
            "searchQueryUid": searchResponse.searchUid,
            "queryText": query,
            "originContext": originContext,
            "queryPipeline": searchResponse.pipeline,
            "customdata": {
                "context_uiorigin": originContext,
                "website": 'lcbo',
                "siteName": 'LCBO',
                "language": language,
                "context_website": 'lcbo',
                "context_language": language,
            },
            "anonymous": true,
            "originLevel1": searchHub,
            "originLevel2": tab,
            "originLevel3": document.referrer,
            "responseTime": searchResponse.duration,
            "numberOfResults": searchResponse.totalCount,
            "userAgent": navigator.userAgent
        };
        let orgId = Coveo.SearchEndpoint.defaultEndpoint.options.queryStringArguments.organizationId;
        let url = Coveo.AnalyticsEndpoint.DEFAULT_ANALYTICS_URI + '/' + Coveo.AnalyticsEndpoint.DEFAULT_ANALYTICS_VERSION + "/analytics/search?org=" + orgId;
        fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer ' + Coveo.SearchEndpoint.defaultEndpoint.options.accessToken
            },
            body: JSON.stringify(searchEvent)
        }).then((response) => response.json())
            .then((myJson) => {
            })
            .catch(console.error);
    }

    
    var popularProdGlobal = null;

    function getProducts(q, elementClass) {

        const language = getLanguage();
        const isEmptyQuery = !q;
        var test3 = {
            "searchHub": isEmptyQuery
                ? "Rec - SearchBox - Products"
                : "Web_Main_Search_EN",
            'numberOfResults': 4,
            'locale': language === 'fr' ? 'fr-CA' : 'en-CA',
            'context': {
                'website': 'lcbo',
                'siteName': 'LCBO',
                'language': language
            },
            "q": q
        };
        if (!isEmptyQuery) {
            test3.tab = "Products";
            test3.cq =  getProductCq('Products');
        } else {
            test3.recommendation = "Recommendation";
        }

        async function callToCoveoProducts() {
            let url = Coveo.SearchEndpoint.endpoints.default.options.restUri + '/v2';
            const response3 = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + Coveo.SearchEndpoint.defaultEndpoint.options.accessToken
                },
                body: JSON.stringify(test3)
            });
            const myJson3 = await response3.json();

            
            logSearchEvent(myJson3, "productsSearchBox", test3.searchHub, "Products", test3.q);

            if (elementClass === 'populate-products') {
                popularProdGlobal = myJson3;
            }
            let ele3 = document.getElementsByClassName(elementClass);
            let ele3HTML = ele3;
            for (let i = 0; i < ele3HTML.length; i++) {
                ele3HTML[i].getElementsByTagName('img')[0].removeAttribute("src");
                ele3HTML[i].getElementsByTagName('img')[0].removeAttribute("alt");
                ele3HTML[i].getElementsByTagName('a')[1].innerText = ''
                ele3HTML[i].querySelector('.prod-quant').innerText = ''
                ele3HTML[i].querySelector('.prod-price').innerText = ''
            }
            ele3 = ele3HTML;
            document.getElementsByClassName('view-moreCTA')[1].style.display = "block";
            if (elementClass === 'typing-products' && myJson3.totalCount === 0) {
                document.getElementsByClassName('view-moreCTA')[1].style.display = "none"
                window.sessionStorage.setItem('products', '')
                let no = 'There are no product results for ';
                if (window.location.href.includes('/fr')) {
                    no = "Il n'y a aucun résultat de produits pour ";
                }
                document.getElementById('noProducts').innerText = no + '"' + q + '".';
                document.getElementById('noProducts').style.display = 'block';
                document.getElementsByClassName('populateContent')[1].style.display = 'none';
                return '';
            }
            const len = myJson3.totalCount < 4 ? myJson3.totalCount : 4;
            for (let i = 0; i < len; i++) {
                window.sessionStorage.setItem('products', 'true');
                var test = ele3[i].getElementsByTagName('a')[1];
                var test1 = ele3[i].getElementsByTagName('a')[0];
                let baseUrl = myJson3.results[i].clickUri;
                test.setAttribute("href", baseUrl);
                test1.setAttribute("href", baseUrl);
                ele3[i].getElementsByTagName('img')[0].src = myJson3.results[i].raw.ec_thumbnails
                ele3[i].getElementsByTagName('img')[0].alt = myJson3.results[i].raw.ec_name
                ele3[i].getElementsByTagName('a')[1].innerText = myJson3.results[i].raw.ec_name
                if (myJson3.results[i].raw.lcbo_unit_volume === '0') {
                    ele3[i].getElementsByTagName('p')[0].style.display = "none"
                } else {
                    ele3[i].getElementsByTagName('p')[0].style.display = "block"
                    ele3[i].getElementsByTagName('p')[0].innerText = myJson3.results[i].raw.lcbo_unit_volume + " ml " + myJson3.results[i].raw.lcbo_selling_package_name
                }
                
                let pricePermission = false;
                if (myJson3.results[i].raw.min_cart_qty > 1) {
                    if (myJson3.results[i].raw["ec_promo_price"] === undefined) {
                        var casePrice = (myJson3.results[i].raw.ec_price * myJson3.results[i].raw.lcbo_bottles_per_case);
                        if (typeof myJson3.results[i].raw.cp_display_product_prices_deny !== "undefined") {
                            pricePermission = myJson3.results[i].raw.cp_display_product_prices_deny.includes(customerGroupId);
                        }
                        if(pricePermission) {
                            ele3[i].getElementsByTagName('p')[1].style.display='none';
                        } else {
                            if (window.location.href.includes('/fr')) {
                                var num = parseFloat(casePrice).toFixed(2)
                                if (num.indexOf('.') !== -1) {
                                    num1 = num.replace(".", ",")
                                } else {
                                    num1 = num
                                }
                                ele3[i].getElementsByTagName('p')[1].innerText = num1 + " $";
                            } else {
                                ele3[i].getElementsByTagName('p')[1].innerText = "$" + parseFloat(casePrice).toFixed(2);
                            }
                            ele3[i].getElementsByTagName('p')[1].classList.remove('promoPrice')
                        }
                    } else {
                        var casePrice = (myJson3.results[i].raw.ec_promo_price * myJson3.results[i].raw.lcbo_bottles_per_case);
                        if (typeof myJson3.results[i].raw.cp_display_product_prices_deny !== "undefined") {
                            pricePermission = myJson3.results[i].raw.cp_display_product_prices_deny.includes(customerGroupId);
                        }
                        if(pricePermission) {
                            ele3[i].getElementsByTagName('p')[1].style.display='none';
                        } else {
                            if (window.location.href.includes('/fr')) {
                                var num = parseFloat(casePrice).toFixed(2)
                                if (num.indexOf('.') !== -1) {
                                    num1 = num.replace(".", ",")
                                } else {
                                    num1 = num
                                }
                                ele3[i].getElementsByTagName('p')[1].innerText = num1 + " $";
                            } else {
                                ele3[i].getElementsByTagName('p')[1].innerText = "$" + parseFloat(casePrice).toFixed(2);
                            }
                            ele3[i].getElementsByTagName('p')[1].classList.add('promoPrice');
                        }
                    }
                } else {
                    if (myJson3.results[i].raw["ec_promo_price"] === undefined) {
                        var num = parseFloat(myJson3.results[i].raw.ec_price).toFixed(2);
                        if (typeof myJson3.results[i].raw.cp_display_product_prices_deny !== "undefined") {
                            pricePermission = myJson3.results[i].raw.cp_display_product_prices_deny.includes(customerGroupId);
                        }
                        if(pricePermission) {
                            ele3[i].getElementsByTagName('p')[1].style.display='none';
                        } else {
                            if (window.location.href.includes('/fr')) {
                                if (num.indexOf('.') !== -1) {
                                    num1 = num.replace(".", ",")
                                } else {
                                    num1 = num
                                }
                                ele3[i].getElementsByTagName('p')[1].innerText = num1 + " $";
                            } else {
                                ele3[i].getElementsByTagName('p')[1].innerText = "$" + num;
                            }
                            ele3[i].getElementsByTagName('p')[1].classList.remove('promoPrice')
                        }
                    } else {
                        var num = parseFloat(myJson3.results[i].raw.ec_promo_price).toFixed(2);
                        if (typeof myJson3.results[i].raw.cp_display_product_prices_deny !== "undefined") {
                            pricePermission = myJson3.results[i].raw.cp_display_product_prices_deny.includes(customerGroupId);
                        }
                        if(pricePermission) {
                            ele3[i].getElementsByTagName('p')[1].style.display='none';
                        } else {
                            if (window.location.href.includes('/fr')) {
                                if (num.indexOf('.') !== -1) {
                                    num1 = num.replace(".", ",")
                                } else {
                                    num1 = num
                                }
                                ele3[i].getElementsByTagName('p')[1].innerText = num1 + " $";
                            } else {
                                ele3[i].getElementsByTagName('p')[1].innerText = "$" + num;
                            }
                            ele3[i].getElementsByTagName('p')[1].classList.add('promoPrice');
                        }
                    }
                }

            }
            document.getElementById('noProducts').style.display = 'none'
            document.getElementsByClassName('populateContent')[1].style.display = 'block'
        }

        callToCoveoProducts().then(() => {
            noMatchQuery();
            document.dispatchEvent(new CustomEvent('CoveoProductsLoaded'));
        })
    }
     </script>
     <script>
      var redirectLink = [];

function getRecipe(q, elementClass) {
    const language = getLanguage();
    const isEmptyQuery = !q;
    redirectLink = [];
    var test = {
        "searchHub": isEmptyQuery
            ? "Rec - SearchBox - Recipes"
            : "Web_Main_Search_EN",
        'numberOfResults': 2,
        'locale': language === 'fr' ? 'fr-CA' : 'en-CA',
        'context': {
            'website': 'lcbo',
            'siteName': 'LCBO',
            'language': language,
        },
        'q': q
    }
    if (!isEmptyQuery) {
        test.tab = "Recipes";
        test.cq = getCq('Recipes');
    } else {
        test.recommendation = "Recommendation";
    }

    async function callToCoveoRecipe() {
        let url = Coveo.SearchEndpoint.endpoints.default.options.restUri + '/v2'
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer ' + Coveo.SearchEndpoint.defaultEndpoint.options.accessToken
            },
            body: JSON.stringify(test)
        });
        const myJson = await response.json();

        
        logSearchEvent(myJson, "recipeSearchBox", test.searchHub, "Recipes", test.q);

        let ele1 = document.getElementsByClassName(elementClass)
        document.getElementsByClassName('view-moreCTA')[2].innerText = "View All Recipe Results"
        document.getElementsByClassName('view-moreCTA')[2].style.display = 'block'
        document.getElementsByClassName('view-moreCTA')[3].style.display = 'none'
        if (elementClass === 'typing-recipe' && myJson.totalCount === 0) {
            document.getElementsByClassName('view-moreCTA')[2].style.display = 'none'
            document.getElementsByClassName('view-moreCTA')[3].style.display = 'block'
            window.sessionStorage.setItem('recipe', '')
            let no = 'There are no recipe results for '
            if (window.location.href.includes('/fr')) {
                no = "Il n'y a aucun résultat de recettes pour "
            }
            document.getElementById('noRecipes').innerText = no + '"' + q + '".'
            document.getElementById('noRecipes').style.display = 'block'
            document.getElementsByClassName('populateContentRecipe')[1].style.display = 'none'
            return ''
        } else {
            document.getElementsByClassName('typing-recipe')[0].style.display = 'none'
            document.getElementsByClassName('typing-recipe')[1].style.display = 'none'
        }
        let len = 0;
        if (myJson.totalCount > 1) {
            len = 1
        }
        for (let i = 0; i <= len; i++) {
            window.sessionStorage.setItem('recipe', 'true')
            ele1[i].getElementsByTagName('img')[0].src = myJson.results[i].raw.image_thumbnail
            ele1[i].getElementsByTagName('img')[0].alt = myJson.results[i].raw.systitle
            ele1[i].getElementsByTagName('span')[0].innerText = myJson.results[i].raw.systitle
            document.getElementsByClassName('typing-recipe')[i].style.display = 'flex'
            redirectLink.push(myJson.results[i].clickUri);
            let desc = null;
            try {
                myJson.results[i].raw.description ?
                    desc = myJson.results[i].raw.description.substring(0, myJson.results[i].raw.description.indexOf('.') + 1).toString().replace(/<[^>]*>/g, '') :
                    desc = ''
            } catch {
                desc = ''
            }
            ele1[i].getElementsByTagName('span')[1].innerText = desc
        }
        document.getElementById('noRecipes').style.display = 'none'
        document.getElementsByClassName('populateContentRecipe')[1].style.display = 'block'
        translateLabelsOnInput()
    }

    callToCoveoRecipe().then(() => {
        noMatchQuery()
    });
}
     </script>
     <script>
      let prev = ''

    function suggestSearch(q, element) {
        var elm0 = document.getElementById(element).getElementsByClassName('suggest')[0];
        var elm1 = document.getElementById(element).getElementsByClassName('suggest')[1];
        var elm2 = document.getElementById(element).getElementsByClassName('suggest')[2];
        var clone0 = elm0.cloneNode(true);
        var clone1 = elm1.cloneNode(true);
        var clone2 = elm2.cloneNode(true);
        elm0.parentNode.replaceChild(clone0, elm0);
        elm1.parentNode.replaceChild(clone1, elm1);
        elm2.parentNode.replaceChild(clone2, elm2);

        document.getElementById(element).getElementsByClassName('suggest')[0].style.display = 'none';
        document.getElementById(element).getElementsByClassName('suggest')[1].style.display = 'none';
        document.getElementById(element).getElementsByClassName('suggest')[2].style.display = 'none';
        let currentUrl = window.location.href;



        let locale = ''
        if (currentUrl.includes('/fr/')) {
            locale = 'fr'
        } else {
            locale = 'en'
        }
        var suggestedSearches = {
            "locale": locale,
            "q": q,
            "searchHub": "Web_Main_Search_EN"
        }
        let dataRes = ''
        async function callToCoveo() {
            let url = Coveo.SearchEndpoint.endpoints.default.options.restUri + '/v2/querySuggest'
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + Coveo.SearchEndpoint.defaultEndpoint.options.accessToken
                },
                body: JSON.stringify(suggestedSearches)
            });
            const myJson = await response.json();
            var suggest = myJson.completions
            let length = null
            if (suggest.length > 0) {
                window.sessionStorage.setItem('suggest', 'true')
                suggest.length <= 3 ? length = suggest.length : length = 3
                if (element === 'popularSearches') {
                    length = 5
                }
                for (let i = 0; i < length; i++) {
                    if (element.indexOf('suggestedSearches') >= 0) {
                        var innerHTML = myJson.completions[i].expression;
                        var index = innerHTML.indexOf(q.toLowerCase());
                        if (index >= 0) {
                            innerHTML = innerHTML.substring(0, index) + "<span class='suggest-unbold'>" + innerHTML.substring(index, index + q.length) + "</span>" + innerHTML.substring(index + q.length);
                            document.getElementById(element).getElementsByClassName('suggest')[i].innerHTML = innerHTML
                        } else {
                            document.getElementById(element).getElementsByClassName('suggest')[i].innerHTML = myJson.completions[i].expression
                        }
                        dataRes = myJson.completions[0].expression
                    } else {
                        document.getElementById(element).getElementsByClassName('suggest')[i].innerText = myJson.completions[i].expression
                    }

                    document.getElementById(element).getElementsByClassName('suggest')[i].style.display = 'block';
                    var suggestArr = document.getElementById(element).getElementsByClassName('suggest')[i];
                    suggestArr.addEventListener('click', (event) => {
                        var ele = document.getElementsByClassName('CoveoOmnibox')[0].getElementsByTagName('input')[0]
                        ele.value = document.getElementById(element).getElementsByClassName('suggest')[i].innerText
                        event.stopPropagation();
                        jQuery('.CoveoSearchButton')[0].click()
                    })
                }
                document.querySelector('#search-notification').innerHTML = "";
            } else {
                let currentUrl = window.location.href
                dataRes = q
                window.sessionStorage.setItem('suggest', '')
                if (currentUrl.includes('/fr/')) {
                    document.getElementById(element).getElementsByClassName('suggest')[0].innerHTML =
                        `<span class='suggest-unbold' aria-hidden='true'>Aucun résultat.</span>`
                    document.querySelector('#search-notification').innerHTML = "Aucun résultat";
                    document.getElementById(element).getElementsByClassName('suggest')[0].removeAttribute('href');
                    document.querySelector('#suggestedSearches span.suggest').removeAttribute('onmouseover', '');
                } else {
                    document.getElementById(element).getElementsByClassName('suggest')[0].innerHTML =
                        `<span class='suggest-unbold' aria-hidden='true'>No Results.</span>`;
                    document.querySelector('#search-notification').innerHTML = "No result found";
                    document.getElementById(element).getElementsByClassName('suggest')[0].removeAttribute('href');
                    document.querySelector('#suggestedSearches span.suggest').removeAttribute('onmouseover', '');
                }
                document.getElementById(element).getElementsByClassName('suggest')[0].style.display = 'block';
                document.getElementById(element).getElementsByClassName('suggest')[1].style.display = 'none';
                document.getElementById(element).getElementsByClassName('suggest')[2].style.display = 'none';
            }
            return dataRes;
        }

        callToCoveo().then((dataRes) => {
            if (element !== 'popularSearches' && prev !== dataRes) {
                getProducts(dataRes, 'typing-products');
                getRecipe(dataRes, 'typing-recipe');
                try {
                    getProdCategory(dataRes);
                } catch (e) {
                    console.log(e);
                }
            } else {
                document.dispatchEvent(new CustomEvent('CoveoProductsLoaded'));
            }
            prev = dataRes;
        })
    }
     </script>
     <script>
      function getProdCategory(q) {
        let pattern = 'Products*'
        if (window.location.href.includes('/fr')) {
            pattern = 'Produits*'
        }
        var raw = 'batch=[{"field":"@ec_category","ignoreAccents":true,"maximumNumberOfValues":5,"queryOverride":"' + q + '*","pattern": "' + pattern + '"}]'

        async function callToCoveoContent() {
            let orgId = Coveo.SearchEndpoint.defaultEndpoint.options.queryStringArguments.organizationId
            let url = Coveo.SearchEndpoint.endpoints.default.options.restUri + '/v2/values/batch?organizationId=' + orgId
            const responseCategory = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'text/plain',
                    'Authorization': 'Bearer ' + Coveo.SearchEndpoint.defaultEndpoint.options.accessToken
                },
                body: raw
            });
            const myJsonCategory = await responseCategory.json();
            var prodElement = document.getElementById('productCategory')
            var suggest = prodElement.getElementsByClassName('suggest');
            if (myJsonCategory.batch[0].length > 0) {
                document.getElementById('productCategory').style.display = 'block';
                for (var i = 0; i < suggest.length; i++) {
                    suggest[i].style.display = 'none';
                }
                window.sessionStorage.setItem('productCategory', 'true')
                let len = 5
                myJsonCategory.batch[0].length < len ? len = myJsonCategory.batch[0].length : len = 5
                for (let i = 2; i < len; i++) {
                    let inputText = myJsonCategory.batch[0][i].value.slice(myJsonCategory.batch[0][i].value.lastIndexOf('|') + 1)
                    let innerHTML = inputText;
                    let ind = innerHTML.indexOf(q);
                    let indexOfquery = inputText.toLowerCase().indexOf(q);
                    ind = indexOfquery;
                    let fullVal = splitProdCategory(myJsonCategory.batch[0][i].value)
                    let baseUrl = window.location.origin
                    let currentUrl = window.location.href
                    let locale = ''
                    if (currentUrl.includes('/fr/')) {
                        locale = '/fr/'
                    } else {
                        locale = '/en/'
                    }
                    let finalUrl = baseUrl + locale + fullVal;
                    prodElement.getElementsByClassName('suggest')[i - 1].setAttribute("href", finalUrl);
                    prodElement.getElementsByClassName('suggest')[i - 1].style.display = 'block';

                    if (indexOfquery >= 0) {
                        innerHTML = innerHTML.substring(0, ind) + "<span class='suggest-unbold'>" + innerHTML.substring(ind, ind + q.length) + "</span>" + innerHTML.substring(ind + q.length);
                        
                        prodElement.getElementsByClassName('suggest')[i - 1].innerHTML = innerHTML;
                        prodElement.getElementsByClassName('suggest')[i - 1].style.display = 'block'
                    } else {
                        
                        prodElement.getElementsByClassName('suggest')[i - 1].innerText = myJsonCategory.batch[0][i].value.slice(myJsonCategory.batch[0][i].value.lastIndexOf('|') + 1)
                        prodElement.getElementsByClassName('suggest')[i - 1].style.display = 'block'
                    }
                }
            } else {
                window.sessionStorage.setItem('productCategory', '')
                prodElement.getElementsByTagName('p')[1].innerHTML = "<span class='suggest-unbold'>No Results.</span>"
                document.getElementById('productCategory').style.display = 'none';
                for (var i = 0; i < suggest.length; i++) {
                    suggest[i].style.display = 'none';
                }
            }
        }

        callToCoveoContent().then(() => {
            noMatchQuery()
        })
    }
     </script>
     <script>
      function noMatchQuery() {
        try {
            let eleInput = document.getElementsByClassName('CoveoOmnibox')[0].getElementsByTagName('input')[0]
            let hasfocus = jQuery(eleInput).is(':focus')
            if (hasfocus) {
                if (eleInput.value && (
                    window.sessionStorage.getItem('content') ||
                    window.sessionStorage.getItem('recipe') ||
                    window.sessionStorage.getItem('suggest') ||
                    window.sessionStorage.getItem('productCategory') ||
                    window.sessionStorage.getItem('products'))) {
                    
                } else {
                    
                }
            }
        } catch (error) {
            console.log('Error in noMatchQuery', error);
        }
    }

    function SPecialCharInpFn() {
        jQuery('#searchbox input[type=text]').bind("cut copy paste", function (e) {
            var pastedData = e.originalEvent.clipboardData.getData('text');
            checkRegex(pastedData, e);
        })
        document.querySelector('#searchbox input').addEventListener("keypress", (e) => {
            var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
            checkRegex(str, e);
        });
    }

    function checkRegex(str, e) {
        var regex = new RegExp(/[^a-zA-ZÀ-ÿ0-9 ]/g, ' ');
        if (regex.test(str)) {
            return true;
        }
        e.preventDefault();
        return false;
    }

    function searchBoxMobileHandler() {
        
        var searchIcon = document.getElementById('icon-mobile')
        var inputBox = document.getElementsByClassName('CoveoOmnibox')[0].getElementsByTagName('input')[0]
        var closeBtn = document.getElementById('closeButton');
        closeBtn.setAttribute('aria-label', 'close search button');
        searchIcon.addEventListener('click', (event) => {
            event.stopPropagation();
            document.getElementsByClassName('CoveoSearchbox')[0].style.display = 'flex'
            inputBox.click()
            inputBox.focus()
            HidingOnMobile('none')
        })

        searchIcon.addEventListener('keypress', (event) => {
            if (event.keyCode == 13) {
                event.stopPropagation();
                document.getElementsByClassName('CoveoSearchbox')[0].style.display = 'flex'
                inputBox.click()
                inputBox.focus()
                HidingOnMobile('none')
            }
        })

        closeBtn.addEventListener('keypress', (event) => {
            if (event.keyCode === 13) {
                event.stopPropagation();
                document.getElementsByClassName('CoveoSearchbox')[0].style.display = 'flex'
                closeBtn.click()
                searchIcon.focus()
                HidingOnMobile('block')
            }
        })
        
    }

    function HidingOnMobile(value) {
        document.getElementsByClassName('minicart-wrapper')[0].style.display = value;
        document.getElementsByClassName('header_logo')[0].style.display = value;
        document.getElementsByClassName('nav-toggle')[0].style.display = value;
        if (document.getElementsByClassName('notification_banner').length > 0) {    
            document.getElementsByClassName('notification_banner')[0].style.display = value;
        }
        let ele = document.getElementById('icon-mobile')
        ele.style.setProperty("display", value, "important");
        if (value === 'none') {
            document.getElementsByClassName('CoveoSearchbox')[0].setAttribute('aria-hidden', 'false')
        } else {
            document.getElementsByClassName('CoveoSearchbox')[0].setAttribute('aria-hidden', 'true')
        }
    }
     </script>
     <script>
      function translateLabelsNoInput() {
        const currentUrl = window.location.href;
        if (currentUrl.includes('/fr/')) {
            document.getElementsByClassName('populateTitle')[0].innerText = "Recherches récentes";
            document.getElementsByClassName('populateTitle')[1].innerText = "Recherches fréquentes";
            document.getElementsByClassName('populateTitle')[2].innerText = "Produits populaires";
            document.getElementsByClassName('populateTitle')[3].innerText = "Recettes populaires";
            document.getElementById('foodDrink').innerText = "Parcourir À bon verre, bonne table";
            document.getElementById('foodDrink1').innerText = "Parcourir À bon verre, bonne table";
        }
    }
     </script>
     <script>
      function translateLabelsOnInput() {
        const currentUrl = window.location.href;
        if (currentUrl.includes('/fr/')) {
            document.getElementsByClassName('populateTitle')[4].innerText = "Suggestions de recherche";
            document.getElementsByClassName('populateTitle')[5].innerText = "Catégories de produits";
            document.getElementsByClassName('populateTitle')[6].innerText = "Produits";
            document.getElementsByClassName('populateTitle')[7].innerText = "Recettes";
            document.getElementById('allResultsproducts').innerText = "Voir tous les résultats";
            document.getElementById('viewAllReceipe').innerText = "Voir tous les résultats";
            document.getElementById('foodDrink1').innerText = "Parcourir À bon verre, bonne table";
        }
    }
     </script>
     <script>
      function getCq(cat) {
        try {
            let value = "Web_Main_Search_EN"
            let locale = 'EN'
            if (value.includes('FR')) {
                locale = 'FR'
            }
            if (value.includes('_')) {
                const searchHubPrefix = 'Web_Main_Search_';
                if (value.indexOf(searchHubPrefix) >= 0) {
                    value = value
                        .replace(searchHubPrefix, '')
                        .substring(2);
                } else {
                    value = value.slice(value.indexOf('_'));
                }
                return '@source=="' + cat + locale + value + '"';
            } else {
                return '@source=="' + cat + locale + '"';
            }
        } catch (e) {
            console.log(e)
            return '';
        }
    }
    function getProductCq(cat) {
        try {
            let value = "Web_Main_Search_EN"
            let locale = 'EN'
            if (value.includes('FR')) {
                locale = 'FR'
            }
            if (value.includes('_')) {
                const searchHubPrefix = 'Web_Main_Search_';
                if (value.indexOf(searchHubPrefix) >= 0) {
                    value = value
                        .replace(searchHubPrefix, '')
                        .substring(2);
                } else {
                    value = value.slice(value.indexOf('_'));
                }
                return '@source=="' + cat + locale + value + '"' + advancedExpression;
            } else {
                return '@source=="' + cat + locale + '"' + advancedExpression;
            }
        } catch (e) {
            console.log(e)
            return '';
        }
    }

    function splitProdCategory(param) {
        try {
            let addOnVal = param
            let newArr = addOnVal.split('|')
            newArr.forEach((element, index) => {
                element = element.trim()
                element = element.replace(' & ', '-')
                element = element.replace(/ /g, '-')
                newArr[index] = element
            });
            addOnVal = newArr.join('/')
            addOnVal = addOnVal.replace(/ /g, '')
            return addOnVal.toLowerCase()
        } catch (e) {
            console.log(e)
        }
    }

    const debounce = (fn, delay) => {
        let timeoutId;
        return function (...args) {
            if (timeoutId) {
                clearTimeout(timeoutId)
            }
            timeoutId = setTimeout(() => {
                fn(...args)
            }, delay);
        }

    }

    function triggerQuery(param) {
        try {
            getProducts(param.innerText, 'typing-products')
            getRecipe(param.innerText, 'typing-recipe')
        } catch (e) {
            console.log('error on hover', e)
        }
    }
     </script>
     <div class="minicart-wrapper" data-block="minicart">
      <span class="showcart" data-bind="scope: 'minicart_content'">
       <a class="action showcart itemscart" data-bind="visible: getCartParam('summary_count') &gt; 0" href="https://www.lcbo.com/en/checkout/cart/" style="display: none">
        <span class="text">
         My Cart
        </span>
        <span class="counter qty empty" data-bind="css: { empty: !!getCartParam('summary_count') == false &amp;&amp; !isLoading() }, blockLoader: isLoading">
         <span aria-hidden="true" class="counter-number">
          <!-- ko text: getCartParam('summary_count') -->
          <!-- /ko -->
         </span>
         <span class="counter-label">
          <!-- ko if: getCartParam('summary_count') -->
          <!-- ko text: ' - ' + getCartParam('summary_count') + ' ' -->
          <!-- /ko -->
          <!-- ko if: getCartParam('summary_count') > 1 -->
          <!-- ko text: ' items' -->
          <!-- /ko -->
          <!-- /ko -->
          <!-- ko if: getCartParam('summary_count') == 1 -->
          <!-- ko text: ' item' -->
          <!-- /ko -->
          <!-- /ko -->
          <!-- /ko -->
         </span>
         <!-- span.counter-label.cart-count element is removed in ERPA-17427 due to duplication -->
        </span>
       </a>
      </span>
      <span data-bind="scope: 'minicart_content'">
       <a data-bind="visible: getCartParam('summary_count') == 0 || getCartParam('summary_count') == undefined" href="https://www.lcbo.com/en/checkout/cart/">
        <span class="action showcart">
         <span class="text">
          My Cart
         </span>
        </span>
       </a>
      </span>
      <script>
       require(['jquery'], function ($) {
                $('a.action.showcart').click(function() {
                    $(document.body).trigger('processStart');
                });
            });
      </script>
      <script>
       window.checkout = {"shoppingCartUrl":"https:\/\/www.lcbo.com\/en\/checkout\/cart\/","checkoutUrl":"https:\/\/www.lcbo.com\/en\/checkout\/","updateItemQtyUrl":"https:\/\/www.lcbo.com\/en\/checkout\/sidebar\/updateItemQty\/","removeItemUrl":"https:\/\/www.lcbo.com\/en\/checkout\/sidebar\/removeItem\/","imageTemplate":"Magento_Catalog\/product\/image_with_borders","baseUrl":"https:\/\/www.lcbo.com\/en\/","minicartMaxItemsVisible":3,"websiteId":"1","maxItemsToDisplay":10,"storeId":"1","storeGroupId":"1","agreementIds":["11"],"customerLoginUrl":"https:\/\/www.lcbo.com\/en\/customer\/account\/login\/referer\/aHR0cHM6Ly93d3cubGNiby5jb20vZW4vcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l\/","isRedirectRequired":false,"autocomplete":"off","captcha":{"user_login":{"isCaseSensitive":false,"imageHeight":50,"imageSrc":"","refreshUrl":"https:\/\/www.lcbo.com\/en\/captcha\/refresh\/","isRequired":false,"timestamp":1708051389}}}
      </script>
      <script type="text/x-magento-init">
       {
        "[data-block='minicart']": {
            "Magento_Ui/js/core/app": {"components":{"minicart_content":{"children":{"subtotal.container":{"children":{"subtotal":{"children":{"subtotal.totals":{"config":{"display_cart_subtotal_incl_tax":0,"display_cart_subtotal_excl_tax":1,"template":"Magento_Tax\/checkout\/minicart\/subtotal\/totals"},"component":"Magento_Tax\/js\/view\/checkout\/minicart\/subtotal\/totals","children":{"subtotal.totals.msrp":{"component":"Magento_Msrp\/js\/view\/checkout\/minicart\/subtotal\/totals","config":{"displayArea":"minicart-subtotal-hidden","template":"Magento_Msrp\/checkout\/minicart\/subtotal\/totals"}}}}},"component":"uiComponent","config":{"template":"Magento_Checkout\/minicart\/subtotal"}}},"component":"uiComponent","config":{"displayArea":"subtotalContainer"}},"item.renderer":{"component":"Magento_Checkout\/js\/view\/cart-item-renderer","config":{"displayArea":"defaultRenderer","template":"Magento_Checkout\/minicart\/item\/default"},"children":{"item.image":{"component":"Magento_Catalog\/js\/view\/image","config":{"template":"Magento_Catalog\/product\/image","displayArea":"itemImage"}},"checkout.cart.item.price.sidebar":{"component":"uiComponent","config":{"template":"Magento_Checkout\/minicart\/item\/price","displayArea":"priceSidebar"}}}},"extra_info":{"component":"uiComponent","config":{"displayArea":"extraInfo"}},"promotion":{"component":"uiComponent","config":{"displayArea":"promotion"}}},"config":{"itemRenderer":{"default":"defaultRenderer","simple":"defaultRenderer","virtual":"defaultRenderer"},"template":"Magento_Checkout\/minicart\/content"},"component":"Magento_Checkout\/js\/view\/minicart"}},"types":[]}        },
        "*": {
            "Magento_Ui/js/block-loader": "https\u003A\u002F\u002Fwww.lcbo.com\u002Fstatic\u002Fversion1706846107\u002Ffrontend\u002FLcbo\u002Fdefault\u002Fen_CA\u002Fimages\u002Floader\u002D1.gif"
        }
    }
      </script>
     </div>
    </div>
    <div id="myChatLinkContainer">
     <div id="myChatLink">
      <div id="myChatLinkInfo">
      </div>
     </div>
    </div>
    <script src="https://hellolcbo.com/euf/rightnow/RightNow.Client.js" type="text/javascript">
    </script>
    <script type="text/javascript">
     RightNow.Client.Controller.addComponent(
                        {
                            chat_login_page: "/app/chat/chat_landing",
                            container_element_id: "myChatLinkContainer",
                            enable_availability_check: false,
                            info_element_id: "myChatLinkInfo",
                            link_element_id: "myChatLink",
                            instance_id: "sccl_0",
                            module: "ConditionalChatLink",
                            type: 7
                        },
                        "https://hellolcbo.com/ci/ws/get"
                    );
    </script>
   </header>
   <div class="sections nav-sections">
    <div class="section-items nav-sections-items" data-mage-init='{"tabs":{"openedState":"active"}}'>
     <div class="section-item-title nav-sections-item-title" data-role="collapsible">
      <a class="nav-sections-item-switch" data-toggle="switch" href="#store.menu">
       Menu
      </a>
     </div>
     <div class="section-item-content nav-sections-item-content" data-role="content" id="store.menu">
      <nav class="navigation" data-action="navigation">
       <ul data-mage-init='{"menu":{"responsive":true, "expanded":true, "position":{"my":"left top","at":"left bottom"}}}'>
        <li class="megamenu level-top-fullwidth level0 nav-1 category-item first level-top parent mm-first-item mm-has-children">
         <a class="level-top label-position-center" href="https://www.lcbo.com/en/new-arrivals">
          <span class="mm-subcategory-title underline-megamenu">
           New Arrivals
          </span>
         </a>
         <ul class="level0 submenu fullwidth hide-all-category has-menu-block right-block-child" style="display: none;">
          <li class="submenu-child">
           <div class="fullwidth-wrapper">
            <div class="fullwidth-wrapper-inner">
             <ul class="columns-group starter" style="width: 50%">
              <li class="megamenu level1 nav-1-1 category-item first mm-first-item mm-no-children" data-has-children="1">
               <a class="label-position-center" href="https://www.lcbo.com/en/new-arrivals/wines">
                <span class="mm-subcategory-title underline-megamenu">
                 Wines
                </span>
               </a>
              </li>
              <li class="megamenu level1 nav-1-2 category-item mm-no-children" data-has-children="1">
               <a class="label-position-center" href="https://www.lcbo.com/en/new-arrivals/spirits">
                <span class="mm-subcategory-title underline-megamenu">
                 Spirits
                </span>
               </a>
              </li>
              <li class="megamenu level1 nav-1-3 category-item last parent mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages.html">
                <span class="mm-subcategory-title underline-megamenu">
                 Vintages
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-1-3-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/vintages/vintages-new-arrivals">
                  <span class="mm-subcategory-title underline-megamenu">
                   New Release Collection
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-1-3-2 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/vintages/online-exclusives">
                  <span class="mm-subcategory-title underline-megamenu">
                   Online Exclusives
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
              <span class="close columns-group last">
              </span>
             </ul>
             <ul class="columns-group columns-group-block right-group inner" style="width: 50%">
              <li class="submenu-child right-block-child">
               <div class="menu-block right-block block-container">
                <style>
                 #html-body [data-pb-style=QDXRCI4]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}
                </style>
                <div data-appearance="contained" data-content-type="row" data-element="main">
                 <div data-background-images="{}" data-background-type="image" data-element="inner" data-enable-parallax="0" data-parallax-speed="0.5" data-pb-style="QDXRCI4" data-video-fallback-src="" data-video-lazy-load="true" data-video-loop="true" data-video-play-only-visible="true">
                  <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
                   <div class="promotional-container">
                    <div class="promotional_blk">
                     <a href="https://www.lcbo.com/en/cottage-springs-raspberry-lemonade-flavoured-vodka-36424?icid=ib_cottage-springs-flavoured-vodka_p12_megamenu_en">
                      <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/new-arrivals/MM-New-Arrivals-Cottage-Springs-Vodka.png"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       Cottage Springs Raspberry Lemonade Flavoured Vodka
                      </h4>
                      <a href="ps://www.lcbo.com/en/httcottage-springs-raspberry-lemonade-flavoured-vodka-36424?icid=ib_cottage-springs-flavoured-vodka_p12_megamenu_en">
                       Shop now
                      </a>
                     </div>
                    </div>
                    <div class="promotional_blk">
                     <a href="https://www.lcbo.com/en/vintages/new-release-collection/february-3-2024?icid=ib_vintages-release-feb-3_p12_megamenu_en">
                      <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/new-arrivals/39872_Feb._3_Vintages_release_MegaMenu_New_Release_.jpg"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       Vintages New Release Collection
                      </h4>
                      <a href="https://www.lcbo.com/en/vintages/new-release-collection/february-3-2024?icid=ib_vintages-release-feb-3_p12_megamenu_en">
                       Shop now
                      </a>
                     </div>
                    </div>
                   </div>
                  </div>
                 </div>
                </div>
               </div>
              </li>
             </ul>
            </div>
           </div>
          </li>
          <!-- end submenu-child -->
         </ul>
         <!-- end submenu -->
        </li>
        <li class="megamenu level-top-fullwidth level0 nav-2 category-item level-top parent mm-has-children">
         <a class="level-top label-position-center" href="https://www.lcbo.com/en/products">
          <span class="mm-subcategory-title underline-megamenu">
           Products
          </span>
         </a>
         <ul class="level0 submenu fullwidth hide-all-category has-menu-block right-block-child" style="display: none;">
          <li class="submenu-child">
           <div class="fullwidth-wrapper">
            <div class="fullwidth-wrapper-inner">
             <ul class="columns-group starter" style="width: 25%">
              <li class="megamenu level1 nav-2-1 category-item first parent mm-first-item mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/en/products/wine">
                <span class="mm-subcategory-title underline-megamenu">
                 Wine
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-2-1-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/red-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Red Wine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/white-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   White Wine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-3 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/rose-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Rosé Wine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-4 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/sparkling-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Sparkling Wine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-5 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/champagne">
                  <span class="mm-subcategory-title underline-megamenu">
                   Champagne
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-6 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/fortified-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Fortified Wine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-7 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/beer-cider/specialty-beer/sake-rice-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Sake &amp; Rice Wine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-8 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/icewine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Icewine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-9 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/specialty-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Specialty Wine
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-10 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/wine-gifts-samplers">
                  <span class="mm-subcategory-title underline-megamenu">
                   Gifts and Samplers
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-1-11 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/wine/dealcoholized-wine">
                  <span class="mm-subcategory-title underline-megamenu">
                   Dealcoholized Wine
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
             </ul>
             <ul class="columns-group inner" style="width: 25%">
              <li class="megamenu level1 nav-2-2 category-item parent mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/en/products/spirits">
                <span class="mm-subcategory-title underline-megamenu">
                 Spirits
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-2-2-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/whisky">
                  <span class="mm-subcategory-title underline-megamenu">
                   Whisky
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/liqueur">
                  <span class="mm-subcategory-title underline-megamenu">
                   Liqueur
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-3 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/tequila">
                  <span class="mm-subcategory-title underline-megamenu">
                   Tequila
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-4 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/vodka">
                  <span class="mm-subcategory-title underline-megamenu">
                   Vodka
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-5 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/rum">
                  <span class="mm-subcategory-title underline-megamenu">
                   Rum
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-6 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/gin">
                  <span class="mm-subcategory-title underline-megamenu">
                   Gin
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-7 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/cognac-brandy">
                  <span class="mm-subcategory-title underline-megamenu">
                   Cognac &amp; Brandy
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-8 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/grappa">
                  <span class="mm-subcategory-title underline-megamenu">
                   Grappa
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-9 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/baijiu">
                  <span class="mm-subcategory-title underline-megamenu">
                   Baijiu
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-10 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/soju">
                  <span class="mm-subcategory-title underline-megamenu">
                   Soju
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-2-11 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/spirits/premixed-cocktails">
                  <span class="mm-subcategory-title underline-megamenu">
                   Premixed Cocktails
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
             </ul>
             <ul class="columns-group inner" style="width: 25%">
              <li class="megamenu level1 nav-2-3 category-item parent mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/en/products/coolers-cocktails">
                <span class="mm-subcategory-title underline-megamenu">
                 Coolers
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-2-3-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/coolers-cocktails/seltzers-and-sodas">
                  <span class="mm-subcategory-title underline-megamenu">
                   Seltzers and Sodas
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-3-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/coolers-cocktails/coolers-cocktails">
                  <span class="mm-subcategory-title underline-megamenu">
                   Coolers &amp; Cocktails
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-3-3 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/coolers-cocktails/teas">
                  <span class="mm-subcategory-title underline-megamenu">
                   Teas
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-3-4 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/coolers-cocktails/caesars">
                  <span class="mm-subcategory-title underline-megamenu">
                   Caesars
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
              <li class="megamenu level1 nav-2-4 category-item parent mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/en/products/beer-cider">
                <span class="mm-subcategory-title underline-megamenu">
                 Beer &amp; Cider
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-2-4-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/beer-cider/lager">
                  <span class="mm-subcategory-title underline-megamenu">
                   Lager
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-4-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/beer-cider/ale">
                  <span class="mm-subcategory-title underline-megamenu">
                   Ale
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-4-3 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/beer-cider/cider">
                  <span class="mm-subcategory-title underline-megamenu">
                   Cider
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-4-4 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/beer-cider/non-alcoholic-specialty-beer">
                  <span class="mm-subcategory-title underline-megamenu">
                   Non-Alcoholic &amp; Specialty
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-4-5 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/beer-cider/gifts-and-samplers">
                  <span class="mm-subcategory-title underline-megamenu">
                   Gifts and Samplers
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
             </ul>
             <ul class="columns-group inner" style="width: 25%">
              <li class="megamenu level1 nav-2-5 category-item parent mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages.html">
                <span class="mm-subcategory-title underline-megamenu">
                 Vintages
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-2-5-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/vintages/vintages-new-arrivals">
                  <span class="mm-subcategory-title underline-megamenu">
                   New Release Collection
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-5-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/vintages/online-and-flagship-exclusives">
                  <span class="mm-subcategory-title underline-megamenu">
                   Online &amp; Flagship Exclusives
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-5-3 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/vintages/vintages-essentials-collection">
                  <span class="mm-subcategory-title underline-megamenu">
                   Essentials Collection
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-5-4 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages/classics-collection.html">
                  <span class="mm-subcategory-title underline-megamenu">
                   Cellar Collection
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-5-5 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages/vintages-special-offers.html">
                  <span class="mm-subcategory-title underline-megamenu">
                   Special Offers
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-5-6 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages/bordeaux-futures.html">
                  <span class="mm-subcategory-title underline-megamenu">
                   Bordeaux Futures
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-5-7 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages/vintages-events.html">
                  <span class="mm-subcategory-title underline-megamenu">
                   Events
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-5-8 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products#t=clp-products&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_program=[Vintages]">
                  <span class="mm-subcategory-title underline-megamenu">
                   Shop All Vintages
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
              <li class="megamenu level1 nav-2-6 category-item last parent disabled-link mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="javascript:void(0);">
                <span class="mm-subcategory-title underline-megamenu">
                 Accessories &amp; more
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-2-6-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/aeroplan-summer-contest/gift-bags-and-boxes">
                  <span class="mm-subcategory-title underline-megamenu">
                   Gift Bags &amp; Boxes
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-6-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/aeroplan-summer-contest/accessories">
                  <span class="mm-subcategory-title underline-megamenu">
                   Accessories
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-2-6-3 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/products/aeroplan-summer-contest/reusable-bags">
                  <span class="mm-subcategory-title underline-megamenu">
                   Reusable Bags
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
              <span class="close columns-group last">
              </span>
             </ul>
             <ul class="columns-group columns-group-block right-group inner" style="width: 25%">
              <li class="submenu-child right-block-child">
               <div class="menu-block right-block block-container">
                <style>
                 #html-body [data-pb-style=PM79YP4]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}
                </style>
                <div data-appearance="contained" data-content-type="row" data-element="main">
                 <div data-background-images="{}" data-background-type="image" data-element="inner" data-enable-parallax="0" data-parallax-speed="0.5" data-pb-style="PM79YP4" data-video-fallback-src="" data-video-lazy-load="true" data-video-loop="true" data-video-play-only-visible="true">
                  <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
                   <div class="promotional-container">
                    <div class="promotional_blk">
                     <a href="https://www.lcbo.com/en/events?icid=ib_events-hub_p12_megamenu_en">
                      <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2023/dec31/products/MM_Products_Events.png"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       LCBO Events
                      </h4>
                      <a href="https://www.lcbo.com/en/events?icid=ib_events-hub_p12_megamenu_en">
                       Learn more
                      </a>
                     </div>
                    </div>
                    <div class="promotional_blk">
                     <a href="https://www.lcbo.com/en/johnnie-walker-blue-cny-year-of-the-dragon-34682?icid=ib_jw-blue-cny_p12_megamenu_en">
                      <img alt=" " class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2023/dec31/products/MM-Products-JW-Blue-CNY.png"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       Johnnie Walker Blue CNY Year of the Dragon
                      </h4>
                      <a href="https://www.lcbo.com/en/johnnie-walker-blue-cny-year-of-the-dragon-34682?icid=ib_jw-blue-cny_p12_megamenu_en">
                       Shop now
                      </a>
                     </div>
                    </div>
                   </div>
                  </div>
                 </div>
                </div>
               </div>
              </li>
             </ul>
            </div>
           </div>
          </li>
          <!-- end submenu-child -->
         </ul>
         <!-- end submenu -->
        </li>
        <li class="megamenu level-top-fullwidth level0 nav-3 category-item level-top parent mm-has-children">
         <a class="level-top label-position-center" href="https://www.lcbo.com/en/gift-shop">
          <span class="mm-subcategory-title underline-megamenu">
           Gift Shop
          </span>
         </a>
         <ul class="level0 submenu fullwidth hide-all-category has-menu-block right-block-child" style="display: none;">
          <li class="submenu-child">
           <div class="fullwidth-wrapper">
            <div class="fullwidth-wrapper-inner">
             <ul class="columns-group starter" style="width: 100%">
              <li class="megamenu level1 nav-3-1 category-item first mm-first-item mm-no-children" data-has-children="1">
               <a class="label-position-center" href="https://www.lcbo.com/en/madeira-marsala/gift-bags-boxes">
                <span class="mm-subcategory-title underline-megamenu">
                 Gift Bags &amp; Boxes
                </span>
               </a>
              </li>
              <li class="megamenu level1 nav-3-2 category-item mm-no-children" data-has-children="1">
               <a class="label-position-center" href="https://cws.givex.com/cws4.0/lcbocons/e-gifts/">
                <span class="mm-subcategory-title underline-megamenu">
                 Gift Cards
                </span>
               </a>
              </li>
              <li class="megamenu level1 nav-3-3 category-item last parent disabled-link mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="javascript:void(0);">
                <span class="mm-subcategory-title underline-megamenu">
                 Shop by Price
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-3-3-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/madeira-marsala/shop-by-price/gifts-under-25">
                  <span class="mm-subcategory-title underline-megamenu">
                   Gifts Under $25
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-3-3-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/madeira-marsala/shop-by-price/gifts-under-50">
                  <span class="mm-subcategory-title underline-megamenu">
                   Gifts Under $50
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-3-3-3 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/madeira-marsala/shop-by-price/gifts-under-75">
                  <span class="mm-subcategory-title underline-megamenu">
                   Gifts Under $75
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-3-3-4 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/madeira-marsala/shop-by-price/luxe-gifts">
                  <span class="mm-subcategory-title underline-megamenu">
                   Luxe Gifts
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
              <span class="close columns-group last">
              </span>
             </ul>
             <ul class="columns-group columns-group-block right-group inner" style="width: 100%">
              <li class="submenu-child right-block-child">
               <div class="menu-block right-block block-container">
                <style>
                 #html-body [data-pb-style=H28N41K]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}
                </style>
                <div data-appearance="contained" data-content-type="row" data-element="main">
                 <div data-background-images="{}" data-background-type="image" data-element="inner" data-enable-parallax="0" data-parallax-speed="0.5" data-pb-style="H28N41K" data-video-fallback-src="" data-video-lazy-load="true" data-video-loop="true" data-video-play-only-visible="true">
                  <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
                   <div class="promotional-container">
                    <div class="promotional_blk">
                     <a href="https://cws.givex.com/cws4.0/lcbocons/e-gifts/?icid=ib_gift-cards_p12_megamenu_en">
                      <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/gifts/MM-Gifts-Gift-Cards.png"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       Gift Cards for Every Celebration
                      </h4>
                      <a href="https://cws.givex.com/cws4.0/lcbocons/e-gifts/?icid=ib_gift-cards_p12_megamenu_en">
                       Shop now
                      </a>
                     </div>
                    </div>
                    <div class="promotional_blk">
                     <a href="https://www.lcbo.com/en/gifts/pre-wrapped-gift-sets?icid=ib_corporate-gifting_p12_megamenu_en#t=clp-holiday_gift_shop-pre-wrapped_gift_sets&amp;sort=relevancy&amp;layout=card">
                      <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/gifts/MM-Gift-Shop-Corp-Gifting.png"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       Corporate Gifting
                      </h4>
                      <a href="https://www.lcbo.com/en/gifts/pre-wrapped-gift-sets?icid=ib_corporate-gifting_p12_megamenu_en#t=clp-holiday_gift_shop-pre-wrapped_gift_sets&amp;sort=relevancy&amp;layout=card">
                       Shop now
                      </a>
                     </div>
                    </div>
                   </div>
                  </div>
                 </div>
                </div>
               </div>
              </li>
             </ul>
            </div>
           </div>
          </li>
          <!-- end submenu-child -->
         </ul>
         <!-- end submenu -->
        </li>
        <li class="megamenu level-top-fullwidth level0 nav-4 category-item level-top parent disabled-link mm-has-children">
         <a class="level-top label-position-center" href="javascript:void(0);">
          <span class="mm-subcategory-title underline-megamenu">
           Collections
          </span>
         </a>
         <ul class="level0 submenu fullwidth hide-all-category has-menu-block right-block-child" style="display: none;">
          <li class="submenu-child">
           <div class="fullwidth-wrapper">
            <div class="fullwidth-wrapper-inner">
             <ul class="columns-group starter" style="width: 33.333333333333%">
              <li class="megamenu level1 nav-4-1 category-item first parent mm-first-item mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/content/lcbo/en/homepage/Destination-Collection.html">
                <span class="mm-subcategory-title underline-megamenu">
                 Destination Collection
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-4-1-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/shop-all-destination-collection#t=clp-collections-destination_collection-shop_all_destination_collection&amp;sort=relevancy&amp;layout=card&amp;f:@country_of_manufacture=[Italy]">
                  <span class="mm-subcategory-title underline-megamenu">
                   Italy
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-4-1-2 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/shop-all-destination-collection#t=clp-collections-destination_collection-shop_all_destination_collection&amp;sort=relevancy&amp;layout=card&amp;f:@country_of_manufacture=[Portugal]">
                  <span class="mm-subcategory-title underline-megamenu">
                   Portugal
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-4-1-3 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/shop-all-destination-collection#t=clp-collections-destination_collection-shop_all_destination_collection&amp;sort=relevancy&amp;layout=card&amp;f:@country_of_manufacture=[France]">
                  <span class="mm-subcategory-title underline-megamenu">
                   France
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-4-1-4 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/shop-all-destination-collection#t=clp-collections-destination_collection-shop_all_destination_collection&amp;sort=relevancy&amp;layout=card&amp;f:@country_of_manufacture=[Croatia,Austria,Slovenia,Hungary]">
                  <span class="mm-subcategory-title underline-megamenu">
                   Central Europe
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-4-1-5 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/shop-all-destination-collection#t=clp-collections-destination_collection-shop_all_destination_collection&amp;sort=relevancy&amp;layout=card&amp;f:@country_of_manufacture=[Greece]">
                  <span class="mm-subcategory-title underline-megamenu">
                   Greece
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-4-1-6 category-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/shop-all-destination-collection#t=clp-collections-destination_collection-shop_all_destination_collection&amp;sort=relevancy&amp;layout=card&amp;f:@country_of_manufacture=[Japan,Taiwan,China,South%20Korea]">
                  <span class="mm-subcategory-title underline-megamenu">
                   East Asia
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-4-1-7 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/shop-all-destination-collection">
                  <span class="mm-subcategory-title underline-megamenu">
                   Shop All Destination Collection
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
             </ul>
             <ul class="columns-group inner" style="width: 33.333333333333%">
              <li class="megamenu level1 nav-4-2 category-item parent mm-has-children" data-has-children="1">
               <a class="mm-category-title label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages.html">
                <span class="mm-subcategory-title underline-megamenu">
                 Vintages
                </span>
               </a>
               <ul class="level1 submenu" style="display: none;">
                <li class="megamenu level2 nav-4-2-1 category-item first mm-first-item mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/en/vintages/vintages-essentials-collection">
                  <span class="mm-subcategory-title underline-megamenu">
                   Essentials Collection
                  </span>
                 </a>
                </li>
                <li class="megamenu level2 nav-4-2-2 category-item last mm-no-children">
                 <a class="label-position-center" href="https://www.lcbo.com/content/lcbo/en/vintages/classics-collection.html">
                  <span class="mm-subcategory-title underline-megamenu">
                   Cellar Collection
                  </span>
                 </a>
                </li>
               </ul>
               <!-- end submenu -->
              </li>
             </ul>
             <ul class="columns-group inner" style="width: 33.333333333333%">
              <li class="megamenu level1 nav-4-3 category-item mm-no-children" data-has-children="1">
               <a class="label-position-center" href="https://www.lcbo.com/content/lcbo/en/homepage/lighter-choices.html">
                <span class="mm-subcategory-title underline-megamenu">
                 Lighter Choices
                </span>
               </a>
              </li>
              <li class="megamenu level1 nav-4-4 category-item mm-no-children" data-has-children="1">
               <a class="label-position-center" href="https://www.lcbo.com/en/collections/destination-collection/natural-and-low-intervention-wines">
                <span class="mm-subcategory-title underline-megamenu">
                 Natural and Low Intervention Wines
                </span>
               </a>
              </li>
              <li class="megamenu level1 nav-4-5 category-item last mm-no-children" data-has-children="1">
               <a class="label-position-center" href="https://www.lcbo.com/en/collections/lcbo/celebrity-products">
                <span class="mm-subcategory-title underline-megamenu">
                 Celebrity Products
                </span>
               </a>
              </li>
              <span class="close columns-group last">
              </span>
             </ul>
             <ul class="columns-group columns-group-block right-group inner" style="width: 33.333333333333%">
              <li class="submenu-child right-block-child">
               <div class="menu-block right-block block-container">
                <style>
                 #html-body [data-pb-style=RL2TVLP]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}
                </style>
                <div data-appearance="contained" data-content-type="row" data-element="main">
                 <div data-background-images="{}" data-background-type="image" data-element="inner" data-enable-parallax="0" data-parallax-speed="0.5" data-pb-style="RL2TVLP" data-video-fallback-src="" data-video-lazy-load="true" data-video-loop="true" data-video-play-only-visible="true">
                  <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
                   <div class="promotional-container">
                    <div class="promotional_blk">
                     <a href="https://www.lcbo.com/content/lcbo/en/homepage/Destination-Collection/east-asia.html?icid=ib_dc-east-asia_p12_megamenu_en">
                      <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2023/dec31/collections/MM-Collections-DC-East-Asia.png"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       Shop our Destination Collection
                      </h4>
                      <a href="https://www.lcbo.com/content/lcbo/en/homepage/Destination-Collection/east-asia.html?icid=ib_dc-east-asia_p12_megamenu_en">
                       Shop now
                      </a>
                     </div>
                    </div>
                    <div class="promotional_blk">
                     <a href="https://www.lcbo.com/en/collections/wine/p11/value-wines-under-20?icid=ib_top-wine-under-20_p12_megamenu_en">
                      <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2023/dec31/collections/MM-Collections-Wines-Under-20.png"/>
                     </a>
                     <div class="promotional ui-menu-item">
                      <h4 class="panel-title">
                       Top Wine Picks Under $20
                      </h4>
                      <a href="https://www.lcbo.com/en/collections/wine/p11/value-wines-under-20?icid=ib_top-wine-under-20_p12_megamenu_en">
                       Shop now
                      </a>
                     </div>
                    </div>
                   </div>
                  </div>
                 </div>
                </div>
               </div>
              </li>
             </ul>
            </div>
           </div>
          </li>
          <!-- end submenu-child -->
         </ul>
         <!-- end submenu -->
        </li>
        <li class="megamenu level-top-sectioned level0 nav-5 category-item level-top parent mm-has-children">
         <a class="level-top label-position-center" href="https://www.lcbo.com/en/food-drink">
          <span class="mm-subcategory-title underline-megamenu">
           Food &amp; Drink
          </span>
         </a>
         <ul class="level0 submenu sectioned hide-all-category has-menu-block right-block-child" style="display: none;">
          <li class="submenu-child">
           <ul class="columns-group starter" style="width: auto">
            <li class="megamenu level1 nav-5-1 category-item first parent disabled-link mm-first-item mm-has-children" data-has-children="1" style="width: auto">
             <a class="mm-category-title label-position-center" href="javascript:void(0);">
              <span class="mm-subcategory-title underline-megamenu">
               Read Food &amp; Drink
              </span>
             </a>
             <ul class="level1 submenu" style="display: none;">
              <li class="megamenu level2 nav-5-1-1 category-item first mm-first-item mm-no-children">
               <a class="label-position-center" href="https://lcbofoodanddrink.cld.bz/FD-Holiday2023" target="_blank">
                <span class="mm-subcategory-title underline-megamenu">
                 Latest Issue
                </span>
               </a>
              </li>
              <li class="megamenu level2 nav-5-1-2 category-item last mm-no-children">
               <a class="label-position-center" href="https://lcbofoodanddrink.cld.bz/english" target="_blank">
                <span class="mm-subcategory-title underline-megamenu">
                 Past Issues
                </span>
               </a>
              </li>
             </ul>
             <!-- end submenu -->
            </li>
            <li class="megamenu level1 nav-5-2 category-item parent disabled-link mm-has-children" data-has-children="1" style="width: auto">
             <a class="mm-category-title label-position-center" href="javascript:void(0);">
              <span class="mm-subcategory-title underline-megamenu">
               Search Recipes
              </span>
             </a>
             <ul class="level1 submenu" style="display: none;">
              <li class="megamenu level2 nav-5-2-1 category-item first mm-first-item mm-no-children">
               <a class="label-position-center" href="https://www.lcbo.com/en/catalogsearch/result/#t=Recipes&amp;sort=%40recipe_create_date%20descending&amp;layout=card&amp;f:@recipe_type=[Food]">
                <span class="mm-subcategory-title underline-megamenu">
                 Food
                </span>
               </a>
              </li>
              <li class="megamenu level2 nav-5-2-2 category-item mm-no-children">
               <a class="label-position-center" href="https://www.lcbo.com/en/catalogsearch/result/#t=Recipes&amp;sort=%40recipe_create_date%20descending&amp;layout=card&amp;f:@recipe_type=[Drinks,Non-Alcoholic%20Beverages]">
                <span class="mm-subcategory-title underline-megamenu">
                 Drinks
                </span>
               </a>
              </li>
              <li class="megamenu level2 nav-5-2-3 category-item last mm-no-children">
               <a class="label-position-center" href="https://www.lcbo.com/en/catalogsearch/result/#t=Recipes&amp;sort=%40recipe_create_date%20descending&amp;layout=card">
                <span class="mm-subcategory-title underline-megamenu">
                 Browse All Recipes
                </span>
               </a>
              </li>
             </ul>
             <!-- end submenu -->
            </li>
            <li class="megamenu level1 nav-5-3 category-item last mm-no-children" data-has-children="1" style="width: auto">
             <a class="label-position-center" href="https://www.lcbo.com/content/lcbo/en/food-and-drink/faq.html">
              <span class="mm-subcategory-title underline-megamenu">
               Frequently Asked Questions
              </span>
             </a>
            </li>
            <span class="close columns-group last">
            </span>
           </ul>
          </li>
          <!-- close submenu-child -->
          <li class="submenu-child right-block-child">
           <!-- re-open submenu-child -->
           <div class="menu-block right-block block-container">
            <style>
             #html-body [data-pb-style=FYX3C5T]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}
            </style>
            <div data-appearance="contained" data-content-type="row" data-element="main">
             <div data-background-images="{}" data-background-type="image" data-element="inner" data-enable-parallax="0" data-parallax-speed="0.5" data-pb-style="FYX3C5T" data-video-fallback-src="" data-video-lazy-load="true" data-video-loop="true" data-video-play-only-visible="true">
              <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
               <div class="promotional-container">
                <div class="promotional_blk">
                 <a href="https://www.lcbo.com/en/food-drink?icid=ib_welcome-to-fandd_p12_megamenu_en">
                  <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/f-d/MM-FandD-Welcome-to-fd.png"/>
                 </a>
                 <div class="promotional ui-menu-item">
                  <h4 class="panel-title">
                   Welcome to Food &amp; Drink
                  </h4>
                  <a href="https://www.lcbo.com/en/food-drink?icid=ib_welcome-to-fandd_p12_megamenu_en">
                   Discover more ideas
                  </a>
                 </div>
                </div>
                <div class="promotional_blk">
                 <a href="https://www.lcbo.com/content/lcbo/en/food-and-drink/baked-goods.html?icid=ib_winter-baking_p12_megamenu_en">
                  <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/f-d/MM-FandD-Winter-Baking.png"/>
                 </a>
                 <div class="promotional ui-menu-item">
                  <h4 class="panel-title">
                   Winter Baking Recipes
                  </h4>
                  <a href="https://www.lcbo.com/content/lcbo/en/food-and-drink/baked-goods.html?icid=ib_winter-baking_p12_megamenu_en">
                   Find out more
                  </a>
                 </div>
                </div>
                <div class="promotional_blk">
                 <a href="https://www.lcbo.com/content/lcbo/en/food-and-drink/posters.html?icid=ib_fandd-posters_p12_megamenu_en">
                  <img alt="" class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2023/p10/MM-Fandd-Iconic-Covers.png"/>
                 </a>
                 <div class="promotional ui-menu-item">
                  <h4 class="panel-title">
                   Iconic Covers Reimagined by Local Artists
                  </h4>
                  <a href="https://www.lcbo.com/content/lcbo/en/food-and-drink/posters.html?icid=ib_fandd-posters_p12_megamenu_en">
                   Now only $9.95!
                  </a>
                 </div>
                </div>
               </div>
              </div>
             </div>
            </div>
           </div>
          </li>
          <!-- close submenu-child -->
         </ul>
        </li>
        <!-- end submenu-child -->
       </ul>
       <!-- end submenu -->
       <li class="megamenu level-top-fullwidth level0 nav-6 category-item level-top mm-no-children">
        <a class="level-top label-position-center" href="https://www.lcbo.com/en/taste-and-travel">
         <span class="mm-subcategory-title underline-megamenu">
          Taste and Travel Contest
         </span>
        </a>
       </li>
       <li class="megamenu level-top-sectioned level0 nav-7 category-item level-top parent mm-has-children">
        <a class="level-top label-position-center" href="https://www.lcbo.com/en/on-sale">
         <span class="mm-subcategory-title underline-megamenu">
          Deals
         </span>
        </a>
        <ul class="level0 submenu sectioned has-menu-block right-block-child" style="display: none;">
         <li class="submenu-child">
          <ul class="columns-group starter" style="width: auto">
           <li class="megamenu level1 nav-7-1 category-item first mm-first-item mm-no-children" data-has-children="1" style="width: auto">
            <a class="label-position-center" href="https://www.lcbo.com/en/products#t=clp-products&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_current_offer=[On%20Sale]">
             <span class="mm-subcategory-title underline-megamenu">
              On Sale
             </span>
            </a>
           </li>
           <li class="megamenu level1 nav-7-2 category-item mm-no-children" data-has-children="1" style="width: auto">
            <a class="label-position-center" href="https://www.lcbo.com/en/promotions/clearance">
             <span class="mm-subcategory-title underline-megamenu">
              Clearance
             </span>
            </a>
           </li>
           <li class="megamenu level1 nav-7-3 category-item last parent disabled-link mm-has-children" data-has-children="1" style="width: auto">
            <a class="mm-category-title label-position-center" href="javascript:void(0);">
             <span class="mm-subcategory-title underline-megamenu">
              Aeroplan
             </span>
            </a>
            <ul class="level1 submenu" style="display: none;">
             <li class="megamenu level2 nav-7-3-1 category-item first mm-first-item mm-no-children">
              <a class="label-position-center" href="https://www.lcbo.com/en/products#t=clp-products&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_current_offer=[Aeroplan%20Offers]">
               <span class="mm-subcategory-title underline-megamenu">
                Bonus Offers
               </span>
              </a>
             </li>
             <li class="megamenu level2 nav-7-3-2 category-item mm-no-children">
              <a class="label-position-center" href="http://www.aircanada.com/aeroplan/member/enrolment?lang=en-CA" target="_blank">
               <span class="mm-subcategory-title underline-megamenu">
                Join Now
               </span>
              </a>
             </li>
             <li class="megamenu level2 nav-7-3-3 category-item last mm-no-children">
              <a class="label-position-center" href="https://www.lcbo.com/en/aeroplan">
               <span class="mm-subcategory-title underline-megamenu">
                Learn More
               </span>
              </a>
             </li>
            </ul>
            <!-- end submenu -->
           </li>
           <span class="close columns-group last">
           </span>
          </ul>
         </li>
         <!-- close submenu-child -->
         <li class="submenu-child right-block-child">
          <!-- re-open submenu-child -->
          <div class="menu-block right-block block-container">
           <style>
            #html-body [data-pb-style=JES0WW0]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}
           </style>
           <div data-appearance="contained" data-content-type="row" data-element="main">
            <div data-background-images="{}" data-background-type="image" data-element="inner" data-enable-parallax="0" data-parallax-speed="0.5" data-pb-style="JES0WW0" data-video-fallback-src="" data-video-lazy-load="true" data-video-loop="true" data-video-play-only-visible="true">
             <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
              <div class="promotional-container" style="width:360px;">
               <div class="promotional_blk">
                <a href="https://www.lcbo.com/en/collections/wine/p12/fs-chilean-wines?icid=ib_aeroplan-chilean-wine_p12_megamenu_en#t=clp-collections-free_shipping_mix_and_match_chilean_wines&amp;sort=relevancy&amp;layout=card">
                 <img alt=" " class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/deals/ChileanWines-MegaMenu_ENG.png"/>
                </a>
                <div class="promotional ui-menu-item">
                 <h4 class="panel-title">
                  When You Spend $50 or More on Select Chilean Wines
                 </h4>
                 <a href="https://www.lcbo.com/en/collections/wine/p12/fs-chilean-wines?icid=ib_aeroplan-chilean-wine_p12_megamenu_en#t=clp-collections-free_shipping_mix_and_match_chilean_wines&amp;sort=relevancy&amp;layout=card">
                  Shop now
                 </a>
                </div>
               </div>
               <div class="promotional_blk">
                <a href="https://www.lcbo.com/en/collections/wine/p12/fs-chilean-wines?icid=ib_fs-chilean-wines_p12_megamenu_en#t=clp-collections-chilean_wine_offers%3A_aeroplan_%26_mix_and_match_free_shipping&amp;sort=relevancy&amp;layout=card">
                 <img alt=" " class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/megamenu/2024/p12/deals/Free_Shipping_Chilean_Wine_MegaMenu_ENG.jpg"/>
                </a>
                <div class="promotional ui-menu-item">
                 <h4 class="panel-title">
                  When You Buy 12 Participating Chilean Wines
                 </h4>
                 <a href="https://www.lcbo.com/en/collections/wine/p12/fs-chilean-wines?icid=ib_fs-chilean-wines_p12_megamenu_en#t=clp-collections-chilean_wine_offers%3A_aeroplan_%26_mix_and_match_free_shipping&amp;sort=relevancy&amp;layout=card">
                  Shop now
                 </a>
                </div>
               </div>
               <div class="promotional_blk">
                <a href="https://www.lcbo.com/en/products?icid=ib_family-day-sdpu_p12_megamenu_en#t=clp-products&amp;sort=relevancy&amp;layout=card">
                 <img alt=" " class="promotional" src="https://aem.lcbo.com/content/dam/lcbo/common/app/2024-p12/MegaMenu_ENG.jpg"/>
                </a>
                <div class="promotional ui-menu-item">
                 <h4 class="panel-title">
                  Choose Same-Day Pickup
                 </h4>
                 <a href="https://www.lcbo.com/en/products?icid=ib_family-day-sdpu_p12_megamenu_en#t=clp-products&amp;sort=relevancy&amp;layout=card">
                  Shop now
                 </a>
                </div>
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </li>
         <!-- close submenu-child -->
        </ul>
       </li>
       <!-- end submenu-child -->
       <!-- end submenu -->
       <style>
        body .nav-sections .navigation ul li.megamenu.level0 ul.level0.submenu.fullwidth li a.ui-state-focus{ color:#000 !important;}body .page-wrapper .nav-sections .navigation ul li.megamenu.mm-first-item a.level-top{ padding-left: 0px ;}.nav-sections:not(.nav-mobile) .navigation ul li.level0 > a span:first-child,.nav-sections:not(.nav-mobile) .navigation ul li.level0 > a span:nth-child(2){ font-size: inherit;;}.nav-sections:not(.nav-mobile) .navigation .megamenu.level-top-fullwidth .submenu .columns-group li.level1 > a span,.nav-sections:not(.nav-mobile) .navigation .megamenu.level-top-sectioned .submenu .columns-group li.level1 > a span,.nav-sections:not(.nav-mobile) .navigation .megamenu.level-top-boxed .submenu .columns-group li.level1 > a span{ font-size: inherit;;}.nav-sections:not(.nav-mobile) .navigation .megamenu.level-top-fullwidth .submenu .columns-group li.level2 > a span,.nav-sections:not(.nav-mobile) .navigation .megamenu.level-top-sectioned .submenu .columns-group li.level2 > a span,.nav-sections:not(.nav-mobile) .navigation .megamenu.level-top-boxed .submenu .columns-group li.level2 > a span{ font-size: inherit;;}body .nav-sections .navigation ul li.megamenu.level1 ul.level1.submenu. li a.ui-state-focus{ color:#000 !important;}body .nav-sections .navigation ul li.megamenu.level2 ul.level2.submenu. li a.ui-state-focus{ color:#000 !important;}body .nav-sections .navigation ul li.megamenu.level0 ul.level0.submenu.sectioned li a.ui-state-focus{ color:#000 !important;}body .nav-sections .navigation ul li.megamenu.level0 ul.level0.submenu.sectioned li a.ui-state-focus{ color:#000 !important;}
       </style>
      </nav>
     </div>
     <div class="section-item-title nav-sections-item-title" data-role="collapsible">
      <a class="nav-sections-item-switch" data-toggle="switch" href="#store.links">
       Account
      </a>
     </div>
     <div class="section-item-content nav-sections-item-content" data-role="content" id="store.links">
      <!-- Account links -->
     </div>
     <div class="section-item-title nav-sections-item-title" data-role="collapsible">
      <a class="nav-sections-item-switch" data-toggle="switch" href="#store.settings">
       Language
      </a>
     </div>
     <div class="section-item-content nav-sections-item-content" data-role="content" id="store.settings">
      <div class="switcher language switcher-language" data-ui-id="language-switcher" id="switcher-language-nav">
       <div class="actions dropdown options switcher-options">
        <div class="action toggle switcher-trigger" data-mage-init='{"dropdown":{}}' data-toggle="dropdown" data-trigger-keypress-button="true" id="switcher-language-trigger-nav">
         <strong class="view-en">
          <span>
           English
          </span>
         </strong>
        </div>
        <ul class="dropdown switcher-dropdown" data-target="dropdown">
         <li class="view-fr switcher-option">
          <a href="https://www.lcbo.com/en/stores/store/redirect/___store/fr/___from_store/en/uenc/aHR0cHM6Ly93d3cubGNiby5jb20vZnIvcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l/">
           Français
          </a>
         </li>
        </ul>
       </div>
       <div class="Language-view-mobile">
        <p class="view active">
         <a href="https://www.lcbo.com/en/stores/store/redirect/___store/en/___from_store/en/uenc/aHR0cHM6Ly93d3cubGNiby5jb20vZW4vcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l/">
          <span class="sr-only">
           Selected language
          </span>
          <span>
           English
          </span>
         </a>
        </p>
        <p class="view">
         <a href="https://www.lcbo.com/en/stores/store/redirect/___store/fr/___from_store/en/uenc/aHR0cHM6Ly93d3cubGNiby5jb20vZnIvcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l/">
          <span>
           Français
          </span>
         </a>
        </p>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="top-container">
    <style type="text/css">
     .a2a_svg, .a2a_count { border-radius: 0% !important;  }  .mp_social_share_float {  top: 150px;  right: 0px; background: #FFFFFF; z-index: 10; }  @media only screen and (min-width: 430px) {.navigation { z-index: 1; }}  .footer-bottom .container .logo { z-index: 0;}
    </style>
    <div class="">
     <div class="a2a_kit a2a_floating_style mp_social_share_float a2a_kit_size_32 a2a_vertical_style">
      <span>
       Share
      </span>
      <a class="a2a_button_facebook">
       <img alt="facebook" height="32" src="https://www.lcbo.com/media/mageplaza/socialshare/facebook/default/facebook.png" width="32"/>
      </a>
      <a class="a2a_button_twitter">
       <img alt="twitter" height="32" src="https://www.lcbo.com/media/mageplaza/socialshare/twitter/default/twitter.png" width="32"/>
      </a>
      <a class="a2a_button_pinterest">
       <img alt="pinterest" height="32" src="https://www.lcbo.com/media/mageplaza/socialshare/pinterest/default/pinterest.png" width="32"/>
      </a>
     </div>
    </div>
    <script type="text/javascript">
     var a2a_config = a2a_config || {};

            a2a_config.icon_color ="unset,#FFFFFF";
            a2a_config.num_services = 8;
            a2a_config.onclick = 1;
            a2a_config.thanks = {postShare: false,};
            a2a_config.exclude_services = ["facebook_messenger","linkedin","tumblr"];
    </script>
   </div>
   <div class="breadcrumbs">
    <ul class="items">
     <li class="item home">
      <a href="https://www.lcbo.com/en/" title="Go to Home Page">
       Home
      </a>
     </li>
     <li class="item category3">
      <a href="https://www.lcbo.com/en/products" title="">
       Products
      </a>
     </li>
     <li class="item category42">
      <a href="https://www.lcbo.com/en/products/wine" title="">
       Wine
      </a>
     </li>
     <li class="item category123">
      <strong>
       White Wine
      </strong>
     </li>
    </ul>
   </div>
   <main class="page-main" id="maincontent">
    <div data-bind="scope:'product_recommendations_above-main-content'">
     <!-- ko template: getTemplate() -->
     <!-- /ko -->
    </div>
    <script type="text/x-magento-init">
     {
            "*": {
                "Magento_Ui/js/core/app": {
                    "components": {
                        "product_recommendations_above-main-content": {
                            "component": "Magento_ProductRecommendationsLayout/js/layoutRenderer",
                            "pagePlacement": "above-main-content",
                            "placeholderUrl": "https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Catalog/images/product/placeholder/image.jpg",
                            "priceFormat": {"pattern":"$%s","precision":2,"requiredPrecision":2,"decimalSymbol":".","groupSymbol":",","groupLength":3,"integerRequired":false},
                            "currencyConfiguration": {"currency":"CAD","rate":1},
                            "isAlternateEnvironmentEnabled": false                        }
                    }
                }
            }
        }
    </script>
    <a id="contentarea" tabindex="-1">
    </a>
    <div class="page messages">
     <div data-placeholder="messages">
     </div>
     <div class="main_message" data-bind="scope: 'messages'">
      <!-- ko if: cookieMessages && cookieMessages.length > 0 -->
      <div class="messages" data-bind="foreach: { data: cookieMessages, as: 'message' }">
       <div data-bind="attr: { class: 'message-' + message.type + ' ' + message.type + ' message', 'data-ui-id': 'message-' + message.type }">
        <div class="mess__txt" data-bind="html: $parent.prepareMessageForHtml(message.text)">
        </div>
        <script type="text/javascript">
         require([
                    'jquery',
                    'Magento_Ui/js/lib/view/utils/dom-observer'
                ], function ($,$do) {
                    $(document).ready(function() {
                        if (window.location.href.indexOf('/customer/account') > -1) {
                            $do.get('.text_head', function(elem){
                                $('.message-success.success').attr('role', 'alert');
                            });
                        }
                    });
                });
        </script>
        <a class="close" href="javascript:void(0)" role="button" title="Close">
        </a>
       </div>
      </div>
      <!-- /ko -->
      <!-- ko if: messages().messages && messages().messages.length > 0 -->
      <div class="messages" data-bind="foreach: { data: messages().messages, as: 'message' }">
       <div data-bind="attr: { class: 'message-' + message.type + ' ' + message.type + ' message', 'data-ui-id': 'message-' + message.type }">
        <div class="mess__txt" data-bind="html: $parent.prepareMessageForHtml(message.text)">
        </div>
        <a class="close" href="javascript:void(0)" role="button" title="Close">
        </a>
       </div>
      </div>
      <!-- /ko -->
     </div>
     <script type="text/x-magento-init">
      {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                        "messages": {
                            "component": "Magento_Theme/js/view/messages"
                        }
                    }
                }
            }
    }
     </script>
    </div>
    <div class="page-title-wrapper">
     <h1 aria-labelledby="page-title-heading toolbar-amount" class="page-title" id="page-title-heading">
      <span class="base" data-ui-id="page-title-wrapper">
       White Wine
      </span>
     </h1>
    </div>
    <div class="category-view">
     <div class="category-description">
      <style>
       #html-body [data-pb-style=PLV5V9X]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}
      </style>
      <div data-appearance="contained" data-content-type="row" data-element="main">
       <div data-background-images="{}" data-background-type="image" data-element="inner" data-enable-parallax="0" data-parallax-speed="0.5" data-pb-style="PLV5V9X" data-video-fallback-src="" data-video-lazy-load="true" data-video-loop="true" data-video-play-only-visible="true">
        <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
         <div class="cmp-container" id="container-0866ae8dda">
          <div class="aem-Grid aem-Grid--12 aem-Grid--default--12">
           <div class="contenttilegrid aem-GridColumn aem-GridColumn--default--12">
            <div class="lcbo-container">
             <div class="title moreinfo_title">
              <h2>
               Discover &amp; Shop
              </h2>
             </div>
             <div class="moreinfo_blk-section">
              <div class="food_blk moreinfo_blk">
               <a aria-label="Clearance White Wines" href="https://www.lcbo.com/en/products/wine/white-wine#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_current_offer=%5BClearance%5D" target="_self">
                <img alt="Clearance White Wines" aria-hidden="true" class="vintage" src="https://aem.lcbo.com/content/dam/lcbo/common/l2-pages/2023/clearance/39693_P11_Clearance_Event_HP-4Col_IB_ENG.jpg"/>
               </a>
               <div class="food_tileblk">
                <h3 class="panel-title">
                 Clearance White Wines
                </h3>
                <a aria-label="Shop now on Clearance White Wines" href="https://www.lcbo.com/en/products/wine/white-wine#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_current_offer=%5BClearance%5D" target="_self">
                 Shop now
                </a>
               </div>
              </div>
              <div class="food_blk moreinfo_blk">
               <a aria-label="Chardonnay from the Golden State" href="https://www.lcbo.com/en/products/wine/white-wine#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_varietal_name=%5BChardonnay%5D&amp;f:@lcbo_region_name=%5BCalifornia%5D" target="_self">
                <img alt="Chardonnay from the Golden State" aria-hidden="true" class="vintage" src="https://aem.lcbo.com/content/dam/lcbo/common/l2-pages/2023/p08/categories/Cali_Chardonnays_Eng_P8.jpg"/>
               </a>
               <div class="food_tileblk">
                <h3 class="panel-title">
                 Chardonnay from the Golden State
                </h3>
                <a aria-label="Shop now on Chardonnay from the Golden State" href="https://www.lcbo.com/en/products/wine/white-wine#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_varietal_name=%5BChardonnay%5D&amp;f:@lcbo_region_name=%5BCalifornia%5D" target="_self">
                 Shop now
                </a>
               </div>
              </div>
              <div class="food_blk moreinfo_blk">
               <a aria-label="Highly Rated White Wines" href="https://www.lcbo.com/en/products/wine/white-wine?icid=ib_top-rated_p7_white-wine_en#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@ec_rating=%5B5..5inc%5D" target="_self">
                <img alt="Highly Rated White Wines" aria-hidden="true" class="vintage" src="https://aem.lcbo.com/content/dam/lcbo/common/l2-pages/2023/p08/categories/L2_WHITE_4ColR1_IB3_EN_P8.jpg"/>
               </a>
               <div class="food_tileblk">
                <h3 class="panel-title">
                 Highly Rated White Wines
                </h3>
                <a aria-label="Shop now on Highly Rated White Wines" href="https://www.lcbo.com/en/products/wine/white-wine?icid=ib_top-rated_p7_white-wine_en#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@ec_rating=%5B5..5inc%5D" target="_self">
                 Shop now
                </a>
               </div>
              </div>
              <div class="food_blk moreinfo_blk">
               <a aria-label="On Sale" href="https://www.lcbo.com/en/products/wine/white-wine?icid=ib_savings-on-wines_p7_white-wine_en#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_current_offer=%5BAeroplan%20Offers,On%20Sale%5D" target="_self">
                <img alt="On Sale" aria-hidden="true" class="vintage" src="https://aem.lcbo.com/content/dam/lcbo/common/l2-pages/2023/p08/categories/L2_WHITE_4ColR1_IB4_EN_P8.jpg"/>
               </a>
               <div class="food_tileblk">
                <h3 class="panel-title">
                 On Sale
                </h3>
                <a aria-label="Shop now on On Sale" href="https://www.lcbo.com/en/products/wine/white-wine?icid=ib_savings-on-wines_p7_white-wine_en#t=clp-products-wine-white_wine&amp;sort=relevancy&amp;layout=card&amp;f:@lcbo_current_offer=%5BAeroplan%20Offers,On%20Sale%5D" target="_self">
                 Shop now
                </a>
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="columns">
     <div class="column main">
      <input name="form_key" type="hidden" value="ty5KBgILj3BKm9n3"/>
      <div data-bind="scope:'authenticationPopup', style: {display: 'none'}" id="authenticationPopup">
       <script>
        window.authenticationPopup = {"autocomplete":"off","customerRegisterUrl":"https:\/\/www.lcbo.com\/en\/customer\/account\/create\/","customerForgotPasswordUrl":"https:\/\/www.lcbo.com\/en\/customer\/account\/forgotpassword\/","baseUrl":"https:\/\/www.lcbo.com\/en\/","customerLoginUrl":"https:\/\/www.lcbo.com\/en\/customer\/ajax\/login\/"}
       </script>
       <!-- ko template: getTemplate() -->
       <!-- /ko -->
       <script type="text/x-magento-init">
        {
            "#authenticationPopup": {
                "Magento_Ui/js/core/app": {"components":{"authenticationPopup":{"component":"Magento_Customer\/js\/view\/authentication-popup","children":{"messages":{"component":"Magento_Ui\/js\/view\/messages","displayArea":"messages"},"captcha":{"component":"Magento_Captcha\/js\/view\/checkout\/loginCaptcha","displayArea":"additional-login-form-fields","formId":"user_login","configSource":"checkout"},"recaptcha":{"component":"Magento_ReCaptchaFrontendUi\/js\/reCaptcha","displayArea":"additional-login-form-fields","reCaptchaId":"recaptcha-popup-login","settings":{"rendering":{"sitekey":"6Lewr6wfAAAAAGnMGxRyD2K6Js0o317SU5IJbTm8","badge":"bottomleft","size":"invisible","theme":"light","hl":""},"invisible":true}}}}}}            },
            "*": {
                "Magento_Ui/js/block-loader": "https\u003A\u002F\u002Fwww.lcbo.com\u002Fstatic\u002Fversion1706846107\u002Ffrontend\u002FLcbo\u002Fdefault\u002Fen_CA\u002Fimages\u002Floader\u002D1.gif"
                 }
        }
       </script>
      </div>
      <script type="text/x-magento-init">
       {
        "*": {
            "Magento_Customer/js/section-config": {
                "sections": {"stores\/store\/switch":["*"],"stores\/store\/switchrequest":["*"],"directory\/currency\/switch":["*"],"*":["messages"],"customer\/account\/logout":["*","recently_viewed_product","recently_compared_product","persistent"],"customer\/account\/loginpost":["*","launch"],"customer\/account\/createpost":["*","launch"],"customer\/account\/editpost":["*"],"customer\/ajax\/login":["checkout-data","cart","captcha","launch"],"catalog\/product_compare\/add":["compare-products"],"catalog\/product_compare\/remove":["compare-products"],"catalog\/product_compare\/clear":["compare-products"],"sales\/guest\/reorder":["cart","amasty-storepickup-data","amasty-selected-pickup-info"],"sales\/order\/reorder":["cart","amasty-storepickup-data","amasty-selected-pickup-info"],"checkout\/cart\/add":["cart","directory-data","launch","amasty-storepickup-data","amasty-selected-pickup-info","checkout-data"],"checkout\/cart\/delete":["cart","launch","amasty-storepickup-data","amasty-selected-pickup-info"],"checkout\/cart\/updatepost":["cart","launch","amasty-storepickup-data"],"checkout\/cart\/updateitemoptions":["cart","launch","amasty-storepickup-data"],"checkout\/cart\/couponpost":["cart","launch"],"checkout\/cart\/estimatepost":["cart","launch","amasty-storepickup-data"],"checkout\/cart\/estimateupdatepost":["cart","launch","amasty-storepickup-data"],"checkout\/onepage\/saveorder":["cart","checkout-data","last-ordered-items","launch","amasty-storepickup-data","amasty-selected-pickup-info"],"checkout\/sidebar\/removeitem":["cart","launch","amasty-storepickup-data"],"checkout\/sidebar\/updateitemqty":["cart","launch","amasty-storepickup-data"],"rest\/*\/v1\/carts\/*\/payment-information":["cart","last-ordered-items","captcha","instant-purchase"],"rest\/*\/v1\/guest-carts\/*\/payment-information":["cart","captcha"],"rest\/*\/v1\/guest-carts\/*\/selected-payment-method":["cart","checkout-data"],"rest\/*\/v1\/carts\/*\/selected-payment-method":["cart","checkout-data","instant-purchase"],"wishlist\/index\/add":["wishlist"],"wishlist\/index\/remove":["wishlist","launch"],"wishlist\/index\/updateitemoptions":["wishlist"],"wishlist\/index\/update":["wishlist"],"wishlist\/index\/cart":["wishlist","cart"],"wishlist\/index\/fromcart":["wishlist","cart","launch"],"wishlist\/index\/allcart":["wishlist","cart"],"wishlist\/shared\/allcart":["wishlist","cart"],"wishlist\/shared\/cart":["cart"],"giftregistry\/index\/cart":["cart"],"giftregistry\/view\/addtocart":["cart"],"customer_order\/cart\/updatefaileditemoptions":["cart"],"checkout\/cart\/updatefaileditemoptions":["cart"],"customer_order\/cart\/advancedadd":["cart"],"checkout\/cart\/advancedadd":["cart"],"checkout\/cart\/removeallfailed":["cart"],"checkout\/cart\/removefailed":["cart"],"customer_order\/cart\/addfaileditems":["cart"],"checkout\/cart\/addfaileditems":["cart"],"customer_order\/sku\/uploadfile":["cart"],"multishipping\/checkout\/overviewpost":["cart","amasty-storepickup-data","amasty-selected-pickup-info"],"customer\/address\/*":["instant-purchase"],"customer\/account\/*":["instant-purchase"],"vault\/cards\/deleteaction":["instant-purchase"],"wishlist\/index\/copyitem":["wishlist"],"wishlist\/index\/copyitems":["wishlist"],"wishlist\/index\/deletewishlist":["wishlist","multiplewishlist"],"wishlist\/index\/createwishlist":["multiplewishlist"],"wishlist\/index\/editwishlist":["multiplewishlist"],"wishlist\/index\/moveitem":["wishlist"],"wishlist\/index\/moveitems":["wishlist"],"wishlist\/search\/addtocart":["cart","wishlist"],"paypal\/express\/placeorder":["cart","checkout-data","amasty-storepickup-data","amasty-selected-pickup-info"],"paypal\/payflowexpress\/placeorder":["cart","checkout-data","amasty-storepickup-data","amasty-selected-pickup-info"],"paypal\/express\/onauthorization":["cart","checkout-data","amasty-storepickup-data","amasty-selected-pickup-info"],"persistent\/index\/unsetcookie":["persistent"],"review\/product\/post":["review"],"amasty_cart\/cart\/add":["amasty-storepickup-data","amasty-selected-pickup-info"],"braintree\/paypal\/placeorder":["amasty-storepickup-data","amasty-selected-pickup-info","cart","checkout-data"],"authorizenet\/directpost_payment\/place":["amasty-storepickup-data","amasty-selected-pickup-info"],"donation\/cart\/add":["cart","checkout-data"],"telus\/account\/subscriptionnewsletter":["launch"],"customer\/account\/forgotpasswordpost":["launch"],"customer\/account\/resetpasswordpost":["launch"],"rest\/v2\/wishlist\/ajax-wishlist-api":["wishlist","messages"],"donation\/cart\/addtodonation":["cart","checkout-data"],"braintree\/googlepay\/placeorder":["cart","checkout-data"],"sso\/saml2\/login":["*"],"sso\/saml2\/acs":["*"]},
                "clientSideSections": ["checkout-data","cart-data","amasty-selected-pickup-info"],
                "baseUrls": ["https:\/\/www.lcbo.com\/en\/"],
                "sectionNames": ["messages","customer","compare-products","last-ordered-items","cart","directory-data","captcha","wishlist","instant-purchase","loggedAsCustomer","multiplewishlist","persistent","review","launch","amasty-storepickup-data","lcbo_recentorder_section","recently_viewed_product","recently_compared_product","product_data_storage","paypal-billing-agreement"]            }
        }
    }
      </script>
      <script type="text/x-magento-init">
       {
        "*": {
            "Magento_Customer/js/customer-data": {
                "sectionLoadUrl": "https\u003A\u002F\u002Fwww.lcbo.com\u002Fen\u002Fcustomer\u002Fsection\u002Fload\u002F",
                "expirableSectionLifetime": 60,
                "expirableSectionNames": ["cart","persistent","amasty-storepickup-data"],
                "cookieLifeTime": "86400",
                "updateSessionUrl": "https\u003A\u002F\u002Fwww.lcbo.com\u002Fen\u002Fcustomer\u002Faccount\u002FupdateSession\u002F"
            }
        }
    }
      </script>
      <script type="text/x-magento-init">
       {
        "*": {
            "Magento_Customer/js/invalidation-processor": {
                "invalidationRules": {
                    "website-rule": {
                        "Magento_Customer/js/invalidation-rules/website-rule": {
                            "scopeConfig": {
                                "websiteId": "1"
                            }
                        }
                    }
                }
            }
        }
    }
      </script>
      <script type="text/x-magento-init">
       {
        "body": {
            "pageCache": {"url":"https:\/\/www.lcbo.com\/en\/page_cache\/block\/render\/id\/123\/","handles":["default","catalog_category_view","catalog_category_view_type_layered","catalog_category_view_type_layered_without_children","catalog_category_view_displaymode_products","catalog_category_view_id_123"],"originalRequest":{"route":"catalog","controller":"category","action":"view","uri":"\/en\/products\/wine\/white-wine"},"versionCookieName":"private_content_version"}        }
    }
      </script>
      <script type="text/x-magento-init">
       {
    "*": {
        "Magento_Banner/js/model/banner":
            {"sectionLoadUrl":"https:\/\/www.lcbo.com\/en\/banner\/ajax\/load\/","cacheTtl":30000}        }
}
      </script>
      <script type="text/javascript">
       document.referer_url = 'https://www.lcbo.com/en/customer/account/login/';
      </script>
      <script type="text/x-magento-init">
       {
        "*": {
            "Magento_Ui/js/core/app": {
                "components": {
                    "ajaxwishlist": {
                        "component": "addAjaxWishlist"
                    }
                }
            },
             "wishlistAction": {}
        }


    }
      </script>
      <script>
       window.dataLayer = window.dataLayer || [];
      </script>
      <script>
       function getLanguage() {
        return window.location.href.toLowerCase().includes('/fr/') ? "fr" : "en";
    }
    obj = JSON.parse(window.localStorage.getItem("lcbo-locator-storage"));
    const storeId = obj["store-identifier"]["storeIdentifier"];
    const searchHub = "Web_Listing_EN";
    var productsTab = "Products";
	var recipesTab = "Recipes";
	var articlesTab = "Content";
	var fragmentDomainUrl = "https://aem.lcbo.com/";
    var customerGroupId = "0";
    var coveoWebsite = "lcbo";
    var coveoSiteName = "LCBO";
    var stage = searchHub.substring(7);
    const searchHubPrefix = 'Web_Listing_';
    if (searchHub.indexOf(searchHubPrefix) >= 0) {
        stage = searchHub.replace(searchHubPrefix, '');
    }
    var suffix = stage.substring(2);

    var exp1 = "@source=='Products"  + stage + "' AND @enabled == 'true'";

	document.addEventListener('DOMContentLoaded', function() {
		Coveo.SearchEndpoint.configureCloudV2Endpoint(
			"lcboproductionx2kwygnc",
			"xx883b5583-07fb-416b-874b-77cce565d927"
		);
        const searchInterface = document.getElementById("search-interface");
        Coveo.$$(searchInterface).on('buildingQuery', function(e, args) {
            args.queryBuilder.advancedExpression.addFieldExpression('@ec_visibility', '==',['2','4']);
            args.queryBuilder.advancedExpression.addFieldExpression('@cp_browsing_category_deny', '<>',[customerGroupId]);
        });
        
        try{
            var availableRequestModifier = function(req) {
                var checked = Coveo.state(Coveo.$$(document).find("#search-interface"), "f:@stores_stock");
		var storeIdStr=storeId;
                if(storeId && typeof storeId == 'number'){
                    storeIdStr = storeId.toString();
                }
		if (checked.length > 0 && checked[0] === "true") {
                    req.requestData.dictionaryFieldContext = {
                        "stores_stock": storeIdStr,
                        "stores_inventory": storeIdStr,
                        "stores_stock_combined": storeIdStr,
                        "stores_low_stock_combined": storeIdStr
                    };
                } else {
                    req.requestData.dictionaryFieldContext = {
                        "stores_stock": "",
                        "stores_inventory": storeIdStr,
                        "stores_stock_combined": storeIdStr,
                        "stores_low_stock_combined": storeIdStr
                    };
                }
                return req;
            };
            Coveo.SearchEndpoint.endpoints['default'].setRequestModifier(availableRequestModifier);
        } catch(e){
            console.log('setRequestModifier for in-stock toggle ',e)
        }
        

		const searchBoxRoot = document.getElementById("searchbox");
        var myranges=[{start:'1',end:'1.9',endInclusive:true},{start:'2',end:'2.9',endInclusive:true},
        {start:'3',end:'3.9',endInclusive:true},{start:'4',end:'4.9',endInclusive:true},{start:'5',end:'5',endInclusive:true}]
		
		titles = document.getElementsByClassName("items")[0];
		arr = new Array();
		i = 0;
		for(i=1; i<titles.getElementsByTagName("a").length; i++){
		    if(titles.getElementsByTagName("a")[i].innerText.includes(" ")){
		        var words = titles.getElementsByTagName("a")[i].innerText.split(" ");
		        y = 0;
		        chain = "";
		        for(y = 0; y < words.length; y++){
                    if(words[y] != ''){
		                chain = chain + words[y][0].toUpperCase() + words[y].slice(1) + " ";
                    }
		        }
		        chain = chain.slice(0, -1);
		        arr.push(chain);
		    }else{
		        var b = titles.getElementsByTagName("a")[i].innerText;
		        b = b[0].toUpperCase() + b.slice(1);
		        arr.push(b);
		    }
        }

        if(titles.lastElementChild.innerText.includes(" ")){
            var words2 = titles.lastElementChild.innerText.split(" ");
		        z = 0;
		        chain2 = "";
		        for(z = 0; z < words2.length; z++){
                    if(words2[z] != ''){
		                chain2 = chain2 + words2[z][0].toUpperCase() + words2[z].slice(1) + " ";
                    }
		        }
		        chain2 = chain2.slice(0, -1);
		        arr.push(chain2);
        }else{
            var c = titles.lastElementChild.innerText;
		    c = c[0].toUpperCase() + c.slice(1);
		    arr.push(c);
        }
        
        Coveo.$$(root).on("queryError", function(e, args) {
            jQuery('.loader').hide();
            
            if (jQuery('div.coveo-error-report-container').is(':visible')) {
                jQuery('div.coveo-error-report-container').hide();
            }
        });

        Coveo.$$(root).on("querySuccess", function(e, args) {
            jQuery('.loader').hide();
            translateLabels();
            wineNoteFacets();
            resultscount();
        });
        Coveo.$$(root).on("changeAnalyticsCustomData", (e, args) => {
            args.metaObject.context_website = coveoWebsite;
            args.metaObject.context_langage = getLanguage();
            args.metaObject.website = coveoWebsite;
            args.metaObject.siteName = coveoSiteName;
            if (args.type === "ClickEvent") {
                args.metaObject.context_name = args.resultData.raw.ec_name || "";
                args.metaObject.context_price = `${args.resultData.raw.ec_price}`;
                args.metaObject.context_brand = args.resultData.raw.ec_brand || "";
                args.metaObject.name = args.metaObject.context_name;
                args.metaObject.price = args.metaObject.context_price;
                args.metaObject.brand = args.metaObject.context_brand;
                if (args.resultData.raw.ec_category) {
                    args.metaObject.context_category = args.resultData.raw.ec_category
                        .map(category => category.replaceAll('Products|', ''))
                        .filter(category => !!category && category !== 'Products')
                        .map(category => category.replaceAll('|', '/').trim())
                        .join('|');
                    args.metaObject.category = args.metaObject.context_category;
                }
            }
        });
		Coveo.init(document.getElementById("search-interface"), {
            fileSizeFacetRange: { ranges: myranges },
			FacetValueSuggestions: {
				templateHelper: (row, omnibox) => {
					return `<strong>${row.value}</strong> - (${row.numberOfResults} results)`;
				}
			},
            ecpriceSlider: {
                valueCaption: function (values) {
                    currentUrl = window.location.href;
                    if (currentUrl.includes('/fr/')) {
                        return [Math.trunc(values[0]) +' $'+ ' - ' + Math.round(values[1])+' $'].join(' ')
                    }else{
                        return ['$'+ Math.trunc(values[0]) + ' - ' + '$'+ Math.round(values[1])].join(' ')
                    }
                }
            },
            /*externalComponents: [
				searchBoxRoot
            ],*/
			Analytics: {
				searchHub: searchHub
			},
            productsTab:{
                expression: exp1
            },
			Categoryfacet:{
			    basePath: arr
			}
		});
	})

	    currentUrl = window.location.href;
        if (currentUrl.includes('/fr/')) {
            String["locale"] = "fr";
            String["defaultLocale"] = "fr";
            Globalize.culture("fr");

            String.toLocaleString({
                "fr": {
                    "ShowingResultsOf": "{2} Résultat(s)",
                    "ShowingResultsOfWithQuery": "Affichage des résultats pour: {3}",
                    "Products": "Produits",
                    "Recipes" : "Recettes",
                    "Content": "Contenu",
                    "ClearAllFilters": "Effacer tous les filtres",
                    "Available at Your Store now": "Disponible maintenant à votre succursale",
                    "Category": "Catégorie",
                    "Current Offers": "Offres actuelles",
                    "Price": "Prix",
                    "Brand": "Marque",
                    "Rating": "Note",
                    "Product Size": "Format",
                    "Country": "Pays",
                    "Product Collection": "Collection",
                    "Alcohol By Volume": "Degré d’alcool",
                    "Sugar Content": "Teneur en sucre",
                    "Sweetness": "Douceur",
                    "Body": "Corps",
                    "Flavour Intensity": "Intensité",
                    "Acidity": "Acidité",
                    "Tannins": "Tanins",
                    "Region": "Région",
                    "Varietal": "Cépage",
                    "Show Only VQA Wines": "Afficher seulement les vins VQA",
                    "Recipe Type": "Type de recette",
                    "Issue": "Numéro",
                    "Main ingredient": "Ingrédient principal",
                    "Course": "Service",
                    "On Sale": "En solde",
                    "Clearance": "Liquidation",
                    "Online Exclusive": "En ligne seulement",
                    "Boxing Day Only": "Lendemain de Noël seulement",
                    "Boxing Weeklong Offer": "Solde de la semaine d’Après-Noël",
                    "Vintages": "VINTAGES",
                    "New Arrival": "Nouveauté",
                    "Best Seller": "Meilleure vente",
                    "Whisky Shop Collection": "Boutique de whisky",
                    "Tequila Shop":"Collection tequila",
                    "Featured": "En vedette",
                    "Price (Low-High)": "Prix (Croissant)",
                    "Price (High-Low)": "Prix (Décroissant)",
                    "Best Sellers": "Meilleures ventes",
                    "New Arrivals": "Nouvelles arrivées",
                "Top Rated": "Les mieux notés",
                "Aeroplan" : "Aéroplan",
                "On Sale + Bonus Points" : "Soldé + Points-boni",
                "Aeroplan Offers" : "Offres Aéroplan"
                }
            });
        } else {
            String["locale"] = "en";
            String["defaultLocale"] = "en";
            Globalize.culture("en");

            String.toLocaleString({
                "en": {
                    "ShowingResultsOf": "{2} Result(s)",
                    "ShowingResultsOfWithQuery": "Showing results for: {3}"
                }
            });
        }

		document.addEventListener('readystatechange', event => {
		if (event.target.readyState === 'complete') {
            translateLabels();
            try{
                changeRatingStar()
            }
            catch(e){
              console.log(e);
            }
            try{
                wineNoteFacets();
            }
            catch(e){
                console.log(e);
            }
            try{
                sortAccordionProductMobile()
            }
            catch(e){
                console.log(e);
            }
            defaultLayoutSelector()

            document.getElementsByClassName('CoveoResultLayoutSelector')[0].addEventListener('click' , function() {
                setTimeout(function() {addImageAltText();},1000)
            });
            vqaSizetext();
            checkboxRole();
            StockToggleFn();
            removeLoadMore();
            addImageAltText();
            removeBlankFromFacet();
            facetAccordBtn();
            scaleBtnfocus();
            sliderCaptionTab();
            priceFacetLabel();
            wineNotesHeadingDup();
            addLabeltoAddToCartBtn();
            noDataSliderFacetHide();
            wineNoteFacetWhenNoData();
            onLoadBadgeTitleUpdate();
            correctAvailableStoreName();
            InstockFacetFn()
            setTimeout(() => {
                checkRatingCount();
            }, 5000);
            }
		});

	function toggle(divId) {
		var element = document.getElementById(divId);
		if (element.style.display === "none") {
			element.style.display = "block";
		} else {
			element.style.display = "none";
		}
	}
function defaultLayoutSelector(){
    try {
        document.getElementsByClassName('CoveoResultLayout')[0].lastChild.classList.add('coveo-selected')
    }
    catch (e){
        console.log(e)
    }
}
      </script>
      <script>
       require(["jquery"], function($) {
		$(document).ready(function() {
            $('.facet_sliderDiv input').keypress(function (e) {
                var currentfacetSign = $(this).parents('.facet_sliderDiv').find('.CoveoFacetSliderDynamicRange').attr('data-display-as-value-unit-sign');
                var regex;
                if(currentfacetSign == '%'){
                    regex = new RegExp("^[0-9-.]+$");
                    if(e.keyCode === 46 && $(this).val().split('.').length >1 ){
                        return false;
                    }
                }
                else{
                    regex = new RegExp("^[0-9-]+$");
                }
                var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
                if (regex.test(str)) {
                    return true;
                }

                e.preventDefault();
                return false;
            });
            const closeFilters = (evt) => {
                $(evt.target).parents('.coveo-facet-column').hide();
                $('.page-products.coveosearchinterface').css('overflow','auto');
                $('.coveo-dropdown-background').removeClass('coveo-dropdown-background-active');
                $('.coveo-facet-dropdown-header').focus();
            }
            setTimeout(function(){
            let coveoSliderContainerList = document.getElementsByClassName('coveo-slider-container');
            for(let i = 0; i < coveoSliderContainerList.length; i++){
            document.getElementsByClassName('coveo-slider-container')[i].setAttribute('aria-hidden','true');
            }
            },50000);
            setTimeout(function(){
            let PriceEle =  document.getElementsByClassName('price-per-case-bottle');
            for(let i = 0; i < PriceEle.length; i++){
                if(PriceEle[i].innerText != ''){
                    document.getElementsByClassName('price-per-case-bottle')[i].children[0].setAttribute('aria-hidden','true');
                    let ele = PriceEle[i].innerText;
                    let ele1 = ele.replace('/bottle',' per bottle');
                    let a = document.createElement("span");
                    jQuery(a).addClass("sr-only").html(ele1);
                    jQuery('.price-per-case-bottle')[i].append(a);
                 }
            }
            },30000);
            function priceFieldValue() {
                var timeoutvalue = $(window).width() > 767 ? 30000 : 4000;
                setTimeout(function(){
                    $('.coveo-card-layout.CoveoResult').each(function() {
                        if(!$(this).hasClass('counted-card')) {
                            $(this).addClass('counted-card');
                            var $priceWrappers = $(this).find('.CoveoFieldValue').filter(function(element) {return $(this).data('helper') && $(this).data('helper') === 'priceRound'});
                            var hasSpecialPrice = $priceWrappers.length > 1;
                            if(!hasSpecialPrice) {
                                var $priceElement = $($priceWrappers[0]).find('span');
                                $priceElement.attr('aria-hidden','true');
                                var $newSpan = $('<span />');
                                $newSpan.text('Price ' + $priceElement.text()).addClass('sr-only');
                                $priceElement.parent().append($newSpan);
                            } else {
                                $priceWrappers.each(function(index) {
                                    var $priceElement = $(this).find('span');
                                    $priceElement.attr('aria-hidden','true');
                                    var LabelText = "";
                                        if(index === 0) {
                                            LabelText = "Sale Price ";
                                        }else {
                                            LabelText = "Price Was ";
                                        }
                                    var $newSpan = $('<span />');
                                    $newSpan.text(LabelText + $priceElement.text()).addClass('sr-only');
                                    $priceElement.parent().append($newSpan);
                                });
                            }
                        }
                    });
                },timeoutvalue);
        }
            $(document).on('click', '#loadMore', function(){
                setTimeout(function(){
                    priceFieldValue();
              },3500);
            });
            setTimeout(function(){
                    priceFieldValue();
              },3500)
            $(document).on('click', '.coveo-dynamic-facet-show-more', function(){
                setTimeout(function(){
                checkboxRole()
              },2000);

            });
			$(document).on('click', '.coveo-facet-header', function() {
                $(this).toggleClass('active');
				$(this).parent(".CoveoFacetSlider").find(".coveo-slider-container").toggle();
				$(this).parent(".CoveoDynamicFacetRange").find(".coveo-facet-values").toggle();
                
                $('.coveo-range-button').each(function(){
                    var range_val = $(this).css('left');
                    $(this).parents('.coveo-slider-container').find('.coveo-active').css('width',range_val);
                });
			})
            $('.wineNotesHeading').on('click', function(e) {
                e.stopImmediatePropagation();
				$(this).toggleClass('active');
				$(this).parent(".wineNotesMain").find(".wineNotesInner").toggle();
            });
            $('.coveo-sort-section.Products-sort .optionList .option').last().on('keydown', function(e) {
                var keyCode = e.keyCode || e.which;
                if (keyCode == 9) {
                    $('.sort_btn').click();
                }
            });
            
            var ResultQuery = document.getElementsByClassName('coveo-results-column')[0].children[0]
            ResultQuery.prepend(document.getElementsByClassName('CoveoQuerySummary')[0]);
			if ($(window).width() <= 768) {
                
                var Instock_facet = document.getElementsByClassName('coveo-facet-column')[0];
                Instock_facet.insertBefore(document.getElementById('Stockfacet'), Instock_facet.getElementsByClassName("CoveoBreadcrumb")[0].nextSibling);
                $(document).on('click', 'a.coveo-facet-dropdown-header.coveo-dropdown-header.coveo-accessible-button', function(event) {
                    $(this).addClass('coveo-accessible-button-pressed coveo-dropdown-header-active');
                    $('.coveo-facet-column').addClass('coveo-facet-dropdown-content coveo-dropdown-content').css({"display": "block", "position": "fixed"});
                    event.preventDefault();
                });
				$(document).on('click', '.applied_filter', function(evt) {
					closeFilters(evt);
				});

                
                var sortByMobile = document.getElementsByClassName('coveo-facet-column')[0];
                sortByMobile.insertBefore(document.getElementById('sortMobileProducts'), sortByMobile.getElementsByClassName('inStock_toggle')[0].nextSibling);
                const interactiveElms = sortByMobile.querySelectorAll('[tabIndex], button:not([disabled]), input[type="checkbox"]:not([disabled])');
                const firstInteractiveElm = interactiveElms[0];
                const lastInteractiveElm = interactiveElms[interactiveElms.length - 1];
                const KEYCODE_TAB = 9;
                const KEYCODE_ESCAPE = 0;
                const KEYCODE_ENTER = 13

                $(document).on('click', '.coveo-facet-dropdown-header', function(evt) {
                    $('.page-products.coveosearchinterface').css('overflow','hidden');
                    firstInteractiveElm.focus();
				});

                $(document).on('keyup', '.coveo-facet-dropdown-header', function(evt) {
                    evt.stopPropagation();
                    evt.preventDefault()
                    if(evt.key === 'Enter' && evt.keyCode === KEYCODE_ENTER) {
                        $('.page-products.coveosearchinterface').css('overflow','hidden');
                        firstInteractiveElm.focus();
                    }
				});

                sortByMobile.addEventListener('keydown', (evt) => {
                    if(evt.key === "Tab" && evt.keyCode === KEYCODE_TAB) {
                        if(evt.shiftKey) {
                            if(document.activeElement === firstInteractiveElm) {
                                lastInteractiveElm.focus();
                                evt.preventDefault();
                            }
                        } else {
                            if(document.activeElement === lastInteractiveElm) {
                                firstInteractiveElm.focus();
                                evt.preventDefault();
                            }
                        }
                    }

                    if(evt.key === 'Enter' && evt.keyCode === KEYCODE_ENTER) {
                        closeFilters(evt);
                    }
                })
			}
			var closesearch = $('.coveo-combobox-input').find('input');
			$(document).on('keyup', closesearch, function(e) {
				var searchInpval = $(event.target).val().length;
				var iDiv = "<span class='searchinput-clear'></span>";
				if(searchInpval > 0 ) {
					$(event.target).parent().find('.searchinput-clear').removeClass('hidesearchclear');
					$(event.target).parent().find('.coveo-combobox-input-icon-svg').hide();
					if($(event.target).parent().find('.searchinput-clear').length == 0){
						$(event.target).parent('.coveo-combobox-input').append(iDiv);
						$('.searchinput-clear').removeClass('clearInpVal');
					}
				}else{
					$(event.target).parent().find('.coveo-combobox-input-icon-svg').show();
					$(event.target).parent('.coveo-combobox-input').find('.searchinput-clear').remove();
				}
			});
			$(document).on('click', '.searchinput-clear', function() {
				$(event.target).parent('.coveo-combobox-input').find('input').empty();
				$(event.target).addClass('hidesearchclear');
			});
            $('.vqa_toggle').hide();
            $('.VQA_header').click(function(e){
                $(this).toggleClass('active');
                $(this).parents('.VQA').find('.CoveoDynamicFacet').toggle();
            });
            $(document).on('click', '.coveo-result-layout-selector', function() {
                setTimeout(() => {
                    saleClearPrice();
                },1000);
            });
            $(document).on('click', '.CoveoFacetSliderDynamicRange .coveo-facet-header', function() {
                if($(this).hasClass('active')){
                    $(this).parents('.facet_sliderDiv').find('form').css('display','flex');
                    $(this).parents('.facet_sliderDiv').find('.apply_sliderBtn').show();
                    var titleData = $(this).parents('.facet_sliderDiv').find('.CoveoFacetSliderDynamicRange').attr('data-title')
                    $(this).find("button").attr('aria-label','collapsed '+titleData);
                }else{
                    $(this).parents('.facet_sliderDiv').find('form').css('display','none');
                    $(this).parents('.facet_sliderDiv').find('.apply_sliderBtn').hide();
                    var titleData = $(this).parents('.facet_sliderDiv').find('.CoveoFacetSliderDynamicRange').attr('data-title')
                    $(this).find("button").attr('aria-label','Expand '+titleData);
                }
            });
        });
	});
      </script>
      <script>
       function expandApplyFn(){
            jQuery('.facet_sliderDiv .CoveoFacetSliderDynamicRange').each(function(){
                var facetHeaderVar = jQuery(this).find('.coveo-facet-header');
                if(jQuery(facetHeaderVar).hasClass('active')){
                    jQuery(this).parents('.facet_sliderDiv').find('.apply_sliderBtn').show();
                    jQuery(this).parents('.facet_sliderDiv').find('form').css('display','flex');
                    jQuery(this).parents('.facet_sliderDiv').find('.minimum ').removeClass('error_slider');
                    jQuery(this).parents('.facet_sliderDiv').find('.maximum ').removeClass('error_slider');
                    jQuery(this).parents('.facet_sliderDiv').find('.apply_sliderBtn ').prop('disabled', false);
                }else{
                    jQuery(this).parents('.facet_sliderDiv').find('.apply_sliderBtn').hide();
                    jQuery(this).parents('.facet_sliderDiv').find('form').css('display','none');

                }
            })
        }
    function loadslidersign(){
        var resultListElement = document.querySelectorAll('.facet_sliderDiv .CoveoFacetSliderDynamicRange');
          for (k = 0; k < resultListElement.length; k++) {
            var facetSliderSign = resultListElement[k].querySelector('.CoveoFacetSlider');
            if(facetSliderSign != null){
                var resultListInstance = Coveo.get(facetSliderSign);
                var selectedValues = resultListInstance.getSelectedValues();
                var resultsign = resultListElement[k].getAttribute('data-display-as-value-unit-sign');
                jQuery('.coveo-facet-header').each((ind, item)=>{
                    if(!jQuery(item).find('button').length){
                        var resultTitle = resultListElement[k].getAttribute('data-title');
                        var div1 = document.createElement('button');
                        div1.setAttribute('aria-label', 'Expand '+resultTitle);
                        item.appendChild(div1);
                    }
                })
                if(resultsign == '$'){
                    currentUrl = window.location.href;
                    if (currentUrl.includes('/fr/')) {
                        resultListElement[k].closest('.facet_sliderDiv').querySelector('.min').value = Math.trunc(selectedValues[0] ) + resultsign;
                        resultListElement[k].closest('.facet_sliderDiv').querySelector('.max').value = Math.round(selectedValues[1] ) + resultsign;
                    }else{
                        resultListElement[k].closest('.facet_sliderDiv').querySelector('.min').value = resultsign + Math.trunc(selectedValues[0] );
                        resultListElement[k].closest('.facet_sliderDiv').querySelector('.max').value = resultsign + Math.round(selectedValues[1] );
                    }
                }else if(resultsign == 'mL'){
                    resultListElement[k].closest('.facet_sliderDiv').querySelector('.min').value =  Math.round(selectedValues[0] ) + resultsign;
                    resultListElement[k].closest('.facet_sliderDiv').querySelector('.max').value =  Math.round(selectedValues[1] ) + resultsign;
                }else if(resultsign == '%'){
                    resultListElement[k].closest('.facet_sliderDiv').querySelector('.min').value = (Math.round(selectedValues[0] * 10) / 10).toFixed(1)  + resultsign;
                    resultListElement[k].closest('.facet_sliderDiv').querySelector('.max').value = (Math.round(selectedValues[1] * 10) / 10).toFixed(1) + resultsign;
                }else if(resultsign == 'g/L'){
                    resultListElement[k].closest('.facet_sliderDiv').querySelector('.min').value = Math.round(selectedValues[0] ) + resultsign;
                    resultListElement[k].closest('.facet_sliderDiv').querySelector('.max').value = Math.round(selectedValues[1] ) + resultsign;
                }
            }
        }
    }
    function noDataSliderFacetHide(){
        try{
            var facetEmptySLider = document.querySelectorAll('.facet_sliderDiv');
            for(i=0;i<facetEmptySLider.length;i++){
                if(facetEmptySLider[i].querySelector(".coveo-slider-container")!= null){
                    facetEmptySLider[i].style.display = "block";
                }else{
                    facetEmptySLider[i].style.display = "none";
                }
            }
        }catch(e){
            console.log('StockToggleFn ',e);
        }
    }
    function StockToggleFn(){
        try{
            var stockLength = jQuery('.inStock_toggle .coveo-dynamic-facet-values').find('li[data-value="true"]').length;
            var ResultDataLen = document.getElementsByClassName('coveo-product-items').length;
            if(stockLength > 0 && ResultDataLen > 0){
                jQuery('.inStock_toggle').css('display','flex')
            }else{
                jQuery('.inStock_toggle').css('display','none')
            }
            var VQAFacetLength = jQuery('.VQA .coveo-dynamic-facet-values').find('li[data-value="true"]').length
            if(VQAFacetLength > 0){
                jQuery('.VQA').css('display','block')
            }else{
                jQuery('.VQA').css('display','none')
            }
        }catch(e){
            console.log('StockToggleFn ',e)
        }
    }
    function vqaSizetext() {
        try{
        var vqaSizeData = document.getElementsByClassName("coveo-dynamic-facet-breadcrumb");
        var m;
        for (m = 0; m < vqaSizeData.length; m++) {
            var innerText1 = vqaSizeData[m].querySelector('.coveo-dynamic-facet-breadcrumb-title').innerText;
            if (innerText1.match("Show Only VQA Wines:")) {
                var VQAbreadcrumbVal = vqaSizeData[m].closest('.coveo-dynamic-facet-breadcrumb').querySelector('.coveo-dynamic-facet-breadcrumb-value');
                    if(VQAbreadcrumbVal.firstChild.textContent == 'true'){
                    VQAbreadcrumbVal.childNodes[0].textContent = 'VQA';
                }
            } else if(innerText1.match("Available at Your Store now:")) {
                var VQAbreadcrumbVal = vqaSizeData[m].closest('.coveo-dynamic-facet-breadcrumb').querySelector('.coveo-dynamic-facet-breadcrumb-value');
                    if(VQAbreadcrumbVal.firstChild.textContent == 'true'){
                    VQAbreadcrumbVal.childNodes[0].textContent = 'Available';
                }
            } else if(innerText1.match('Afficher seulement les vins VQA:')){
                var VQAbreadcrumbVal = vqaSizeData[m].closest('.coveo-dynamic-facet-breadcrumb').querySelector('.coveo-dynamic-facet-breadcrumb-value');
                    if(VQAbreadcrumbVal.firstChild.textContent == 'true'){
                    VQAbreadcrumbVal.childNodes[0].textContent = 'VQA';
                }
            }else if(innerText1.match('Disponible maintenant à votre succursale:')){
                var VQAbreadcrumbVal = vqaSizeData[m].closest('.coveo-dynamic-facet-breadcrumb').querySelector('.coveo-dynamic-facet-breadcrumb-value');
                    if(VQAbreadcrumbVal.firstChild.textContent == 'true'){
                    VQAbreadcrumbVal.childNodes[0].textContent = 'Disponible';
                }
            }
        }
        }catch(e){
            console.log('vqaSizetext ',e)
        }
    }
    function applidFilterResultsCount() {
        try{
            var applidefilterCount = document.querySelectorAll('.coveo-breadcrumb-items > .coveo-facet-slider-breadcrumb').length;
            var applidefilterFacetCount = document.querySelectorAll('.coveo-dynamic-facet-breadcrumb > .coveo-dynamic-facet-breadcrumb-value-list-item').length;
            var totalCount = applidefilterCount + applidefilterFacetCount;
            document.querySelector('.applied_filter > .mobile_resultconut').innerHTML = ' ('+totalCount+')';
        }catch(e){
            console.log('applidFilterResultsCount ',e)
        }
    }
    
    function sortNoResultsFn(){
        try{
            if(document.getElementsByClassName('CoveoResultList')[0].CoveoResultList.queryController.lastQueryResults.totalCount == 0){
                document.getElementsByClassName('Products-sort')[0].style.display ="none"
            }
            else{
                document.getElementsByClassName('Products-sort')[0].style.display ="flex"
            }
        }catch(e){
            console.log('sortNoResultsFn ',e)
        }
    }
    function saleClearPrice(){
    
    var saleprice_val = document.querySelectorAll(".basePrice > .sale-price");
        for (var i=0;i<saleprice_val.length;i++  ) {
            const subMenu =saleprice_val[i].nextElementSibling;
            subMenu.children[0].className += ' saleclearence_price';
        }
    }
    function resultscount(){
        try{
            var productsCount = document.getElementById('productsTab').getElementsByTagName('span')[0].innerText;
            currentUrl = window.location.href;
            if (currentUrl.includes('/fr/')) {
                document.getElementById('productsTab').getElementsByTagName('span')[0].innerText = productsCount + " résultats";
            }
            else{
                document.getElementById('productsTab').getElementsByTagName('span')[0].innerText = productsCount + " Results";
            }
        }catch(e){
            console.log('resultscount ',e)
        }
    }
    function filterMobile(){
        try{
            var filter_facet = document.getElementsByClassName('instock_section')[0];
            filter_facet.insertBefore(document.querySelector('.coveo-facet-dropdown-header.coveo-dropdown-header.coveo-accessible-button'), filter_facet.getElementsByClassName("instock_section")[0]);
        }catch(e){
            console.log('filter ',e)
        }

    }
      </script>
      <script>
       function badging (currentOffer,program,bestSeller, newA, flag){
        var currentStoreUrl = window.location.href;
        let badgepriroty = new Set();
        let cOffer = currentOffer.toLowerCase().split(',');
        let programData = program.toLowerCase().split(',');
        let bSeller = bestSeller;
        cOffer.forEach((cOffer) => {badgepriroty.add(cOffer)})
        programData.forEach((programData) => {badgepriroty.add(programData)})
        let retrunValue = null;
        if (badgepriroty.has("Boxing Day Only") || badgepriroty.has("Lendemain de Noël seulement")) {
            return 'Boxing Day Only';
        }
        if (badgepriroty.has("Boxing Weeklong Offer") || badgepriroty.has("Solde de la semaine d’Après-Noël")) {
            return 'Boxing Weeklong Offer';
        }
        if(badgepriroty.has('vintages')){
           retrunValue = "vintages";
           return 'Vintages';
        }
        if(badgepriroty.has('en ligne seulement') && currentStoreUrl.includes('/fr/')){
            retrunValue = "en ligne seulement";
            return 'En ligne seulement';
        }
        if(badgepriroty.has('online exclusive')){
            retrunValue = "online Exclusive";
           return 'Online Exclusive';
        }
        if((parseInt(bSeller) <=            100) && currentStoreUrl.includes('/fr/')){
            retrunValue = 'Meilleure vente';
            return 'Meilleure vente';
	}
        if(parseInt(bSeller) <=            100){
            retrunValue = "best seller";
            return 'Best Seller';
        }
        if((newA === "true") && currentStoreUrl.includes('/fr/')){
            retrunValue = "Nouveauté";
            return 'Nouveauté';
        }
        if(newA === "true"){
            retrunValue = "New Arrival";
            return 'New Arrival';
        }
        if((badgepriroty.has('aeroplan offers') && flag==true) && badgepriroty.has('on sale')){
            retrunValue = "On Sale + Bonus Points";
            return 'On Sale + Bonus Points';
        }
        if((badgepriroty.has('offres aéroplan') && flag==true) && badgepriroty.has('en solde')){
            retrunValue = "Soldé + Points-boni";
            return 'Soldé + Points-boni';
        }
        if(badgepriroty.has('on sale')){
            retrunValue = "On Sale";
            return 'On Sale';
        }
        if(badgepriroty.has('en solde')){
            retrunValue = "En solde";
            return 'En solde';
        }
        if(badgepriroty.has('aeroplan offers') && flag==true){
            retrunValue = "Aeroplan";
            return 'Aeroplan';
        }
        if(badgepriroty.has('offres aéroplan') && flag==true){
            retrunValue = "Aéroplan";
            return 'Aéroplan';
        }
        if(badgepriroty.has('liquidation')){
            retrunValue = "Liquidation";
            return 'Liquidation';
        }
        if(badgepriroty.has('clearance')){
            retrunValue = "Clearance";
           return 'Clearance';
        }
        if(badgepriroty.has('collection destination')){
            retrunValue = "Collection Destination";
            return 'Collection Destination';
        }
        if(badgepriroty.has('destination collection')){
            retrunValue = "Destination Collection";
           return 'Destination Collection';
        }
		if(badgepriroty.has('whisky shop collection')){
            retrunValue = "Whisky Shop Collection";
           return 'Whisky Shop Collection';
        }

    }
    function checkboxRole(){
        try{
            let checkBoxList = document.getElementsByClassName('coveo-checkbox-button');
            for(let i = 0; i < checkBoxList.length; i++){
                let checkboxStatus =  document.getElementsByClassName('coveo-checkbox-button')[i].getAttribute('aria-pressed');
                if(checkboxStatus=="true"){
                    checkboxStatus="true"
                }
                else{
                    checkboxStatus="false"
                }
                document.getElementsByClassName('coveo-checkbox-button')[i].setAttribute("aria-checked", `${checkboxStatus}`);
                document.getElementsByClassName('coveo-checkbox-button')[i].setAttribute("role", "button");
            }
        }catch(e){
            console.log("checkbox Role",e);
        }
    }
    function addImageAltText(){
        try{
            let coveoProductItemList = document.getElementsByClassName('coveo-product-items');
            for(let i = 0; i < coveoProductItemList.length; i++){
            let productName =  document.getElementsByClassName('coveo-product-items')[i].lastElementChild.querySelector('.product-item-link span').innerText;
            document.getElementsByClassName('coveo-product-items')[i].querySelector('.product-image-wrapper img').setAttribute("aria-label", `${productName}`);
            document.getElementsByClassName('coveo-product-items')[i].querySelector('.product-image-wrapper img').setAttribute("alt", `${productName}`);
            document.getElementsByClassName('coveo-product-items')[i].querySelector('.product-image-wrapper img').setAttribute("tabindex", "-1");
            }
        }
        catch(e){
            console.log('add Image Alt Text',e)
        }
    }
    function removeBlankFromFacet(){
        let plusMinusBtn = document.getElementsByClassName('coveo-dynamic-facet-header-expand');
        for(let i = 0; i < plusMinusBtn.length; i++){
            document.getElementsByClassName('coveo-dynamic-facet-header-expand')[i].closest('div').setAttribute('tabindex','0')
            document.getElementsByClassName('coveo-dynamic-facet-header-expand')[i].closest('div').setAttribute('aria-hidden','false')
            document.getElementsByClassName('coveo-dynamic-facet-header-expand')[i].closest('div').firstChild.setAttribute('aria-hidden','false')
            document.getElementsByClassName('coveo-dynamic-facet-header-expand')[i].firstChild.setAttribute('tabindex','-1')
            document.getElementsByClassName('coveo-dynamic-facet-header-expand')[i].firstChild.setAttribute('aria-hidden','true')

        }
    }
    function InstockFacetFn(){
        try{
            jQuery('.instock_section .coveo-dynamic-facet-values .coveo-checkbox-label').attr({ 'tabindex': '0' });
            jQuery('.vqa_toggle .coveo-dynamic-facet-values .coveo-checkbox-label').attr({ 'tabindex': '0' });
        } catch(e){
            console.log('add Image Alt Text',e)
        }
    }
    function facetAccordBtn(){
        try{
            let togglebtn = document.getElementsByClassName('coveo-dynamic-facet-header-btn');
            for(let i = 0; i < togglebtn.length; i++){
                document.getElementsByClassName('coveo-dynamic-facet-header-btn')[i].removeAttribute('title');
            }
        }catch(e){
            console.log("facet Accordian Btn",e);
        }

    }
    function scaleBtnfocus(){
        try{
            let coveoSliderBtnList = document.getElementsByClassName('coveo-slider-button');
            for(let i = 0; i < coveoSliderBtnList.length; i++){
                document.getElementsByClassName('coveo-slider-button')[i].setAttribute("tabindex", '0');
                document.getElementsByClassName('coveo-slider-button')[i].setAttribute("aria-label", 'range button');
            }
        }catch(e){
            console.log("scale Btn focus",e);
        }

    }
    function sliderCaptionTab(){
        let sliderCationList = document.getElementsByClassName('coveo-slider-caption');
        for(let i = 0 ; i<sliderCationList.length; i++){
            document.getElementsByClassName('coveo-slider-caption')[i].setAttribute("tabindex", '0');
        }
    }
    function priceFacetLabel(){
        try{
            let priceFacetList =  document.getElementsByClassName('CoveoFacetSlider');
           for(let i = 0; i < priceFacetList.length; i++){
                let dataTitle = document.getElementsByClassName('CoveoFacetSlider')[i].getAttribute('data-title')
                if(dataTitle === 'Price'){
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.minimum').querySelector('input').setAttribute('aria-label','Minimum price field')
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.maximum').querySelector('input').setAttribute('aria-label','Maximum price field')
                }
                if(dataTitle === 'Product Size'){
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.minimum').querySelector('input').setAttribute('aria-label','Minimum product size field')
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.maximum').querySelector('input').setAttribute('aria-label','Maximum product size field')
                }
                if(dataTitle === "Alcohol By Volume"){
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.minimum').querySelector('input').setAttribute('aria-label','Minimum  Alcohol By Volume (ABV) field')
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.maximum').querySelector('input').setAttribute('aria-label','Maximum  Alcohol By Volume (ABV) field')
                }
                if(dataTitle === 'Sugar Content'){
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.minimum').querySelector('input').setAttribute('aria-label','Minimum  Sugar Content field')
                    document.getElementsByClassName('CoveoFacetSlider')[i].children[1].querySelector('.maximum').querySelector('input').setAttribute('aria-label','Maximum  Sugar Content field')
                }
            }
        }catch(e){
            console.log("price Facet Label");
        }
    }
    function updateWishlistLink() {
        var $ = jQuery;
        setTimeout(() => {
            var $WishlistproductsOnPage = $('.coveo-product-items');
            $WishlistproductsOnPage.each(function(index, product) {
                const prodIndex = index;
                const $favproductitemname = $(product).find('.product-item-name a');
                const $favproductLinkbutton = $(product).find('.addToWishlist');
                var wishlistBtnIds = [];
                if($favproductitemname.length > 0) {
                    $favproductitemname.each((index, wishlistname) => {
                        $(wishlistname).attr('id', 'favitem_'+prodIndex+'_'+index);
                        wishlistBtnIds.push('favitem_'+ prodIndex +'_' + index);
                    });
                }
                $favproductLinkbutton.attr('aria-describedby', wishlistBtnIds.join(" "));
            })
        }, 15000);
    }
    function wineNotesHeadingDup(){
        try {
            let wineNotesFacet = document.getElementsByClassName('wineNotesMain');
            for(let i = 0; i < wineNotesFacet.length; i++){
                document.getElementsByClassName('wineNotesMain')[i].setAttribute("tabindex", '0');
                document.getElementsByClassName('wineNotesMain')[i].setAttribute("aria-label", 'Wine Taste Profile facet');
                document.getElementsByClassName('wineNotesMain')[i].firstElementChild.setAttribute("aria-hidden", 'true');
            }
        } catch (error) {
            console.log("wineNotesHeadingDup error");
        }
    }
    function addLabeltoAddToCartBtn(){
        try {
            let addToCartBtn = document.getElementsByClassName('tocart');
            for(let i = 0; i < addToCartBtn.length; i++){
                let labelText =  document.getElementsByClassName('tocart')[i].parentElement.parentElement.parentElement.querySelector('.product-item-link').textContent
                document.getElementsByClassName('tocart')[i].setAttribute("aria-label", 'add to cart '+labelText);
            }
        }catch (error) {
            console.log("addLabeltoAddToCartBtn error");
        }
    }
    function updateFilterFacets() {
        var $ = jQuery;
        if($(window).width() > 767) {
            setTimeout(() => {
                $('[data-head="filterFacet"]').attr('tabindex','0').attr('role','button').attr('aria-expanded', 'false');
                $('[data-head="filterFacet"]').each(function() {
                    $(this).on('click', function() {
                        var $this = $(this);
                        setTimeout(() => {
                            if($this.attr('aria-expanded') === 'true') {
                                $this.attr('aria-expanded','false');
                            } else {
                                $this.attr('aria-expanded','true');
                            }
                        }, 300);
                    });
                    if(($(this).hasClass('CoveoDynamicFacet') && !$(this).hasClass('coveo-dynamic-facet-collapsed'))
                        || $(this).find('form').is(':visible') || $(this).find('.VQA_header.active').length || $(this).find('.wineNotesHeading.active').length
                        || $(this).hasClass('CoveoDynamicHierarchicalFacet') && !$(this).hasClass('coveo-dynamic-hierarchical-facet-collapsed')) {
                        $(this).attr('aria-expanded', 'true');
                    }
                });
                $('.wineNotesMain').on('click', function() {
                    $(this).find('.wineNotesHeading').click();
                });
                $('.CoveoFacetSliderDynamicRange').removeAttr('tabindex');
                $('.coveo-dynamic-facet-header-expand, .coveo-dynamic-facet-header-collapse').attr('tabindex','-1').attr('aria-hidden','true');
                $('.coveo-dynamic-facet-header-expand, .coveo-dynamic-facet-header-collapse').parent().attr('tabindex','-1').attr('aria-hidden','true');
                $('.coveo-facet-column .coveo-facet-header button').attr('tabindex','-1').attr('aria-hidden','true');
            }, 3000);
        }
    }
    function removeButtonFocus() {
        var $ = jQuery;
        if($(window).width() > 767) {
            setTimeout(function() {
                $('.CoveoFacetSliderDynamicRange').removeAttr('tabindex');
                $('.coveo-dynamic-facet-header-expand, .coveo-dynamic-facet-header-collapse').attr('tabindex','-1').attr('aria-hidden','true');
                $('.coveo-dynamic-facet-header-expand, .coveo-dynamic-facet-header-collapse').parent().attr('tabindex','-1').attr('aria-hidden','true');
                $('.coveo-facet-column .coveo-facet-header button').attr('tabindex','-1').attr('aria-hidden','true');
            }, 10000);
        }
    }
    function onLoadBadgeTitleUpdate() {
        var $ = jQuery;
        var titleInterval = setInterval(function() {
            if($('.coveo-card-layout.CoveoResult').length && $('.coveo-card-layout.CoveoResult .CoveoResultLink').length) {
                addBadgetoProductTitle();
                clearInterval(titleInterval);
                titleInterval = null;
            }
        }, 100);
        setTimeout(function() {
            if(titleInterval) {
                clearInterval(titleInterval);
            }
        }, 20000);
    }
    function correctAvailableStoreName() {
        /*
         * ERPA-18464 In Lcbo_StorePickupWithLocator module, in case that js/stores.js::processAdditionalUpdate()
         * or stores.js::attachStoreNameToStoreFacet() is executed before Coveo elements are completely loaded, double
         * check the store name when Coveo elements are all ready on PLP page.
         */
        let $ = jQuery;
        let stockFacetElement = $("#Stockfacet").find('.coveo-dynamic-facet-header-title').find("span");

        if (stockFacetElement.length) {    
            if (
                stockFacetElement.find('a#storeLocatorPageUrl > b').length &&
                (stockFacetElement.find('a#storeLocatorPageUrl > b')[0].innerText.toUpperCase() === localStorage.storeName.toUpperCase())
            ) {
                
                return;
            }

            if (localStorage.storeName) {
                
                let availableAtStoreLabel = (window.location.href.includes("/fr/")) ? "Disponible maintenant à" : "Available now at";
                let storeName = ($(window).width() < 768 && localStorage.storeName.length > 29) ? localStorage.storeName.slice(0, 29) + "..." : localStorage.storeName;
                let storeNameLink = "<span class='tmpStoreName'>" +
                    "<a onclick='javascript: location.href=findAnotherStoreWithRedirect()' id='storeLocatorPageUrl'>" +
                    "<b>" + storeName + "</b>" +
                    "</a></span>";
                let space = ($(window).width() < 768) ? "<br>" : " ";
                let populateStoreName = availableAtStoreLabel + space + storeNameLink;

                
                stockFacetElement.html(populateStoreName);
                $("#Stockfacet").attr("data-title", populateStoreName);
            } else {
                
                
            }
        }
    }
    function addBadgetoProductTitle(){
        try{
            let productTitle = document.querySelectorAll('.product-item-link');
            for(let i =0; i < productTitle.length; i++){
                let badgeText = productTitle[i].closest('.coveo-product-items').querySelector('.CoveoTemplateLoader').textContent;
                var productTitleText= productTitle[i].textContent;
                if (badgeText != ''){
                    productTitle[i].closest('.coveo-product-info').querySelector('.CoveoResultLink').setAttribute('aria-label', productTitleText +' '+ badgeText)
                }
            }
        }catch(error){
            console.log('addBadgetoProductTitle error');
        }
    }
      </script>
      <script>
       window.onload = function() {
        updateWishlistLink();
    appliedFilterLen()
    vqaSizetext()
    applidFilterResultsCount()
    saleClearPrice()

    filterMobile();
    sortNoResultsFn();
    resultscount();
    checkboxRole();
    addImageAltText();
    removeBlankFromFacet();
    facetAccordBtn();
    scaleBtnfocus();
    sliderCaptionTab();
        updateFilterFacets();
    priceFacetLabel();
    wineNotesHeadingDup();
    addLabeltoAddToCartBtn();
    setTimeout(function() {
        loadslidersign();
        noDataSliderFacetHide();
            wineNoteFacetWhenNoData();
    }, 400);

    var root = document.querySelector("#html-body");
    Coveo.$$(root).on("deferredQuerySuccess", function(e, args) {
        sortHandlerProducts()
        changeRatingStar()
        vqaSizetext()
        applidFilterResultsCount()
            removeButtonFocus();
        saleClearPrice()
        appliedFilterLen()
        StockToggleFn()
        removeLoadMore()
        wineNoteFacets()
        changeText()
        translateLabels()
        removeUnitPrices()
        filterMobile();
        sortNoResultsFn();
        resultscount();
        checkboxRole();
        addImageAltText();
        removeBlankFromFacet();
        facetAccordBtn();
        scaleBtnfocus();
        sliderCaptionTab();
        priceFacetLabel();
        wineNotesHeadingDup();
        addLabeltoAddToCartBtn();
            addBadgetoProductTitle();
            InstockFacetFn()
        setTimeout(function() {
            loadslidersign();
            expandFilter();
            noDataSliderFacetHide();
                wineNoteFacetWhenNoData();
            }, 400);
            expandApplyFn();
            setTimeout(() => {
                checkRatingCount();
            }, 5000);
    });
}
      </script>
      <script>
       Coveo.TemplateHelpers.registerTemplateHelper("imageError", function(image_error) {
    var errorProductImageUrl = fragmentDomainUrl + "content/dam/lcbo/products/default.jpg";
    return `<img src="${image_error}">`
})
Coveo.TemplateHelpers.registerTemplateHelper("recipeimageurl", function(recipe_image_url) {
    var errorRecipeImageUrl = fragmentDomainUrl + "content/dam/lcbo/recipe_notfound.jpg.thumb.319.319.png";
    return `<img src="${recipe_image_url}.thumb.319.319.png">`
})
      </script>
      <script>
       Coveo.TemplateHelpers.registerTemplateHelper("shortDescription", function(description) {
        description = description.substring(0, description.indexOf('.') + 1)
        return description.substring(description.lastIndexOf(';')+1,description.length);
    })


    Coveo.TemplateHelpers.registerTemplateHelper("priceRound", function(price) {
        currentUrl = window.location.href;
        num = parseFloat(price).toFixed(2);

            if (currentUrl.includes('/fr/')) {
                if(num.indexOf('.') != -1) {
                    num1 = num.replace(".",",")
                    return (num1 + ' $');
                }
                return (num + ' $');
            }
            else{
                return ('$' + num);
            }
    })

    Coveo.TemplateHelpers.registerTemplateHelper("volumeDisplay", function(volume) {
        Coveo.TemplateHelpers.registerTemplateHelper("volumeBottle", function(bottle) {
            currentUrl = window.location.href;
            if (currentUrl.includes('/fr/')) {
                return (bottle + ' de '+volume + ' ml');
            }
            else{
                return (volume + ' ml '+bottle);
            }
        })
        return volume;
    })

    Coveo.TemplateHelpers.registerTemplateHelper("loyaltyPoints", function(loyalty_points) {
        currentUrl = window.location.href;
        if (loyalty_points > 0) {
            if (currentUrl.includes('/fr/')) {
                return (loyalty_points + ' points-boni');
            } else {
                return (loyalty_points + ' bonus points');
            }
        } else {
            return '';
        }
    })


    Coveo.TemplateHelpers.registerTemplateHelper("stockThreshold", function(stock) {
        currentUrl = window.location.href;
        if (stock == "inStock") {
            document.getElementById('Stockfacet').style.display = "flex";
            if (currentUrl.includes('/fr/')) {
                return `<span class="in-stock">Disponible</span>`
            } else {
                return `<span class="in-stock">Available</span>`
                }
            }

        else if (stock == "lowStock") {
            if (currentUrl.includes('/fr/')) {
                return `<span class="low-stock">Quantités limitées</span>`
            } else {
                return `<span class="low-stock">Limited Availability</span>`
                }
            }
        else if (stock == "outOfStock") {
            if (currentUrl.includes('/fr/')) {
                return `<span class="out-of-stock">Vérifiez la disponibilité</span>`
            } else {
                return `<span class="out-of-stock">Check Availability</span>`
                }
            }
    })

    Coveo.TemplateHelpers.registerTemplateHelper("hideButton",function(is_buyable) {
            if (is_buyable == "true") {
                currentUrl = window.location.href;
                if (currentUrl.includes('/fr/')) {
                    return `<span>Ajouter au panier</span>`
                } else {
                    return `<span>Add to Cart</span>`
                }
            } else {
                this.element.style.display='none';
            }
    })


    Coveo.TemplateHelpers.registerTemplateHelper("newDataHelper", function(rating) {
            let roundedRatingVal = Math.floor(rating);
            let star = prodRating(roundedRatingVal);
            let test = star.outerHTML;
            return test;
    })
    Coveo.TemplateHelpers.registerTemplateHelper("reviewNumber", function(noOfReviews) {
        return ("("+noOfReviews+")");
        })

    Coveo.TemplateHelpers.registerTemplateHelper("wishlistIcon", function(sku) {
        if(wishlisted){
            if(wishlisted[sku] != undefined){
                this.element.parentElement.parentElement.getElementsByClassName('addToWishlist')[0].classList.add('addedToWishlist')
                return sku;
            }
        }
        return sku;
    })
      </script>
      <script>
       Coveo.TemplateHelpers.registerTemplateHelper("reviewLink", function(link) {
        currentUrl = window.location.href;
        if (currentUrl.includes('/fr/')) {
            return `Ajouter un Commentaire`
        } else {
            return `Add a Review`
        }
    })
      </script>
      <script>
       Coveo.TemplateHelpers.registerTemplateHelper("savings1", function(regPrice) {
        Coveo.TemplateHelpers.registerTemplateHelper("savings2", function(promoPrice){
            var num1 = parseFloat(regPrice);
            var num2 = parseFloat(promoPrice);
            currentUrl = window.location.href;
            if (currentUrl.includes('/fr/')) {
                if(num1 > num2){
                    var num3 = num1 - num2;
                    var savings = num3.toFixed(2);
                    if(savings.indexOf('.') != -1) {
                        savings1 = savings.replace(".",",")
                        return `Rabais de ${savings1} $`;
                    }
                    return `Rabais de ${savings} $`;
                }else{
                    return `Rabais de 0$`;
                }
            } else {
                if(num1 > num2){
                    var num3 = num1 - num2;
                    var savings = num3.toFixed(2);
                    return `Save $${savings}`;
                }else{
                    return `Save $0`;
                }
            }
        })
    })
      </script>
      <script>
       const root = document.querySelector('#html-body');
    Coveo.$$(root).on("doneBuildingQuery", (e, args) => {
        saleClearPrice();

        
        var facet = Coveo.get(document.querySelector('#Categoryfacet'));
        if (facet) {
            var basePath = facet.options.basePath;
            if (basePath) {
                args.queryBuilder.advancedExpression.addFieldExpression(facet.options.field, '==', [basePath.join('|')]);
            }
        }
    });
      </script>
      <div class="CoveoSearchInterface" data-enable-history="true" data-responsive-small-breakpoint="10" data-results-per-page="48" id="search-interface">
       <div class="CoveoTriggers">
       </div>
       <div class="coveo-main-section">
        <p id="getbaseUrl" style="display: none">
         https://www.lcbo.com/en/
        </p>
        <div class="CoveoAnalytics" data-auto-push-to-gtm-data-layer="true">
        </div>
        <div class="CoveoQuerySummary">
        </div>
        <div class="CoveoDidYouMean">
        </div>
        <div class="coveo-facet-column">
         <p aria-label="Close applied filters" class="applied_filter" role="button" tabindex="0">
          Applied Filters
          <span class="mobile_resultconut">
          </span>
         </p>
         <div class="CoveoBreadcrumb">
         </div>
         <div class="CoveoDynamicHierarchicalFacet" data-collapsed-by-default="false" data-enable-scroll-to-top="false" data-field="@ec_category" data-head="filterFacet" data-tab="clp-products-wine-white_wine" data-title="Category" id="Categoryfacet">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@lcbo_varietal_name" data-head="filterFacet" data-number-of-values="5" data-sort-criteria="occurrences" data-tab="clp-products-wine-white_wine" data-title="Varietal" id="Varietalfacet" tabindex="0">
         </div>
         <div class="wineNotesMain" data-head="filterFacet" data-tab="clp-products-wine-white_wine">
          <div class="wineNotesHeading" id="wineNotesHeading">
           Wine Taste Profile
          </div>
          <div class="wineNotesInner">
           <div class="CoveoFacetSliderDynamicRange" data-enable-scroll-to-top="false" data-end="5" data-field="@lcbo_bintag_wine_sweetness" data-id="lcbo_bintag_wine_sweetness" data-range-slider="true" data-rounded="0" data-start="1" data-steps="50" data-tab="clp-products-wine-white_wine" data-title="Sweetness">
           </div>
           <div class="CoveoFacetSliderDynamicRange" data-enable-scroll-to-top="false" data-end="5" data-field="@lcbo_bintag_wine_body" data-id="lcbo_bintag_wine_body" data-range-slider="true" data-rounded="0" data-start="1" data-steps="50" data-tab="clp-products-wine-white_wine" data-title="Body">
           </div>
           <div class="CoveoFacetSliderDynamicRange" data-enable-scroll-to-top="false" data-end="5" data-field="@lcbo_bintag_wine_flavor_intensity" data-id="lcbo_bintag_wine_flavor_intensity" data-range-slider="true" data-rounded="0" data-start="1" data-steps="50" data-tab="clp-products-wine-white_wine" data-title="Flavour Intensity">
           </div>
           <div class="CoveoFacetSliderDynamicRange" data-enable-scroll-to-top="false" data-end="5" data-field="@lcbo_bintag_wine_acidity" data-id="lcbo_bintag_wine_acidity" data-range-slider="true" data-rounded="0" data-start="1" data-steps="50" data-tab="clp-products-wine-white_wine" data-title="Acidity">
           </div>
           <div class="CoveoFacetSliderDynamicRange" data-enable-scroll-to-top="false" data-end="5" data-field="@lcbo_bintag_wine_tannins" data-id="lcbo_bintag_wine_tannins" data-range-slider="true" data-rounded="0" data-start="1" data-steps="50" data-tab="clp-products-wine-white_wine" data-title="Tannins">
           </div>
          </div>
         </div>
         <div class="VQA" data-head="filterFacet" data-tab="clp-products-wine-white_wine">
          <div class="VQA_header">
           VQA
          </div>
          <div class="CoveoDynamicFacet vqa_toggle" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@lcbo_vqa_code" data-tab="clp-products-wine-white_wine" data-title="Show Only VQA Wines" id="VQAfacet" style="display:block;" tabindex="0">
          </div>
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@country_of_manufacture" data-head="filterFacet" data-number-of-values="5" data-sort-criteria="occurrences" data-tab="clp-products-wine-white_wine" data-title="Country" tabindex="0">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@lcbo_region_name" data-head="filterFacet" data-number-of-values="5" data-sort-criteria="occurrences" data-tab="clp-products-wine-white_wine" data-title="Region" id="RegionFacet" tabindex="0">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@lcbo_program" data-head="filterFacet" data-number-of-values="5" data-sort-criteria="occurrences" data-tab="clp-products-wine-white_wine" data-title="Product Collection" id="ProductFacet" tabindex="0">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@lcbo_current_offer" data-head="filterFacet" data-sort-criteria="occurrences" data-tab="clp-products-wine-white_wine" data-title="Current Offers" id="CurrentFacet" tabindex="0">
         </div>
         <div class="facet_sliderDiv" data-head="filterFacet" data-tab="clp-products-wine-white_wine">
          <div class="CoveoFacetSliderDynamicRange" data-display-as-value-unit-sign="$" data-enable-scroll-to-top="false" data-field="@ec_price" data-id="ec_price" data-range-slider="true" data-rounded="2" data-steps="20" data-tab="clp-products-wine-white_wine" data-title="Price" id="ecpriceSlider" tabindex="0">
          </div>
          <form>
           <div class="minimum">
            <label for="min">
             Minimum
            </label>
            <input class="min" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
           <div class="maximum">
            <label for="max">
             Maximum
            </label>
            <input class="max" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
          </form>
          <button class="apply_sliderBtn" onclick="buttonClickFN(this)">
           Apply
          </button>
         </div>
         <div class="facet_sliderDiv" data-head="filterFacet" data-tab="clp-products-wine-white_wine">
          <div class="CoveoFacetSliderDynamicRange" data-display-as-value-unit-sign="mL" data-enable-scroll-to-top="false" data-field="@lcbo_total_volume" data-id="lcbo_total_volume" data-range-slider="true" data-rounded="0" data-steps="50" data-tab="clp-products-wine-white_wine" data-title="Product Size" tabindex="0">
          </div>
          <form>
           <div class="minimum">
            <label for="min">
             Minimum
            </label>
            <input class="min" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
           <div class="maximum">
            <label for="max">
             Maximum
            </label>
            <input class="max" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
          </form>
          <button class="apply_sliderBtn" onclick="buttonClickFN(this)">
           Apply
          </button>
         </div>
         <div class="facet_sliderDiv" data-head="filterFacet" data-tab="clp-products-wine-white_wine">
          <div class="CoveoFacetSliderDynamicRange" data-display-as-value-unit-sign="%" data-enable-scroll-to-top="false" data-field="@lcbo_alcohol_percent" data-id="lcbo_alcohol_percent" data-range-slider="true" data-rounded="1" data-steps="50" data-title="Alcohol By Volume" tabindex="0">
          </div>
          <form>
           <div class="minimum">
            <label for="min">
             Minimum
            </label>
            <input class="min" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
           <div class="maximum">
            <label for="max">
             Maximum
            </label>
            <input class="max" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
          </form>
          <button class="apply_sliderBtn" onclick="buttonClickFN(this)">
           Apply
          </button>
         </div>
         <div class="facet_sliderDiv" data-head="filterFacet" data-tab="clp-products-wine-white_wine">
          <div class="CoveoFacetSliderDynamicRange" data-display-as-value-unit-sign="g/L" data-enable-scroll-to-top="false" data-field="@lcbo_sugar_gm_per_ltr" data-id="lcbo_sugar_gm_per_ltr" data-range-slider="true" data-rounded="0" data-steps="50" data-tab="clp-products-wine-white_wine" data-title="Sugar Content" tabindex="0">
          </div>
          <form>
           <div class="minimum">
            <label for="min">
             Minimum
            </label>
            <input class="min" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
           <div class="maximum">
            <label for="max">
             Maximum
            </label>
            <input class="max" name="max" onkeyup="displayErrormsg(this)" type="text"/>
            <br/>
            <br/>
           </div>
          </form>
          <button class="apply_sliderBtn" onclick="buttonClickFN(this)">
           Apply
          </button>
         </div>
         <div class="CoveoDynamicFacetRange" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@ec_rating" data-sort-order="descending" data-tab="clp-products-wine-white_wine" data-title="Rating" id="fileSizeFacetRange" tabindex="0">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@recipe_type" data-sort-criteria="occurrences" data-tab="Recipes" data-title="Recipe Type">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@course" data-sort-criteria="occurrences" data-tab="Recipes" data-title="Course">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@main_ingredient" data-sort-criteria="occurrences" data-tab="Recipes" data-title="Main Ingredient">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@category" data-sort-criteria="occurrences" data-tab="Recipes" data-title="Category" id="CategoryfacetRecipes">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@recipe_issue" data-sort-criteria="alphaascending" data-tab="Recipes" data-title="Issue">
         </div>
         <div class="CoveoDynamicFacet" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@recipe_year" data-sort-criteria="alphaascending" data-tab="Recipes" data-title="Year">
         </div>
        </div>
        <div class="coveo-results-column">
         <div class="coveo-results-tab-wrapper PLP-wrapper">
          <div class="coveo-tab-section" style="display:none;">
           <div class="CoveoTab" data-caption="Products" data-id="clp-products-wine-white_wine" data-layout="card">
           </div>
           <div class="CoveoTab" data-caption="Recipes" data-id="Recipes" data-layout="card">
           </div>
           <div class="CoveoTab" data-caption="Content" data-id="Content" data-layout="list">
           </div>
          </div>
          <div class="CoveoShareQuery">
          </div>
          <div class="CoveoExportToExcel">
          </div>
          <div class="CoveoPreferencesPanel">
           <div class="CoveoResultsPreferences">
           </div>
           <div class="CoveoResultsFiltersPreferences">
           </div>
          </div>
          <div class="coveo-results-header">
           <div class="coveo-result-layout-section">
            <span class="CoveoResultLayout">
            </span>
           </div>
          </div>
         </div>
         <div class="instock_section PLP_wrapper_instock">
          <div class="CoveoDynamicFacet inStock_toggle" data-collapsed-by-default="true" data-enable-scroll-to-top="false" data-field="@stores_stock" data-tab="clp-products-wine-white_wine" data-title="Available at &lt;span class='tmpStoreName'&gt;Your Store&lt;/span&gt; now" id="Stockfacet" style="display:none">
          </div>
          <!-- sort section -->
          <div class="coveo-sort-section Products-sort">
           <span class="coveo-sort-heading">
            Sort by:
           </span>
           <div class="select-box">
            <div class="options-container">
             <button aria-expanded="false" class="sort_btn" id="btn" onclick="showDropdownProducts(this);">
             </button>
             <div class="optionList">
              <div class="option" id="defaultSort" onclick="toggleClassDropdown(this);" role="presentation">
               <span class="CoveoSort" data-caption="Featured" data-sort-criteria="relevancy">
               </span>
              </div>
              <div class="option active" onclick="toggleClassDropdown(this);" role="presentation">
               <span class="CoveoSort" data-caption="Price (Low-High)" data-sort-criteria="@ec_final_price ascending">
               </span>
              </div>
              <div class="option active" onclick="toggleClassDropdown(this);" role="presentation">
               <span class="CoveoSort" data-caption="Price (High-Low)" data-sort-criteria="@ec_final_price descending">
               </span>
              </div>
              <div class="option active" onclick="toggleClassDropdown(this);" role="presentation">
               <span class="CoveoSort" data-caption="Best Sellers" data-sort-criteria="@sell_rank_monthly ascending">
               </span>
              </div>
              <div class="option active" onclick="toggleClassDropdown(this);" role="presentation">
               <span class="CoveoSort" data-caption="New Arrivals" data-sort-criteria="@created_at descending">
               </span>
              </div>
              <div class="option active" onclick="toggleClassDropdown(this);" role="presentation">
               <span class="CoveoSort" data-caption="Top Rated" data-sort-criteria="@ec_rating descending">
               </span>
              </div>
             </div>
            </div>
           </div>
          </div>
          <!----sort section mobile---->
          <div class="coveo-sort-section-mobile Products-sort-mobile" id="sortMobileProducts" tabindex="0">
           <div class="coveo-sort-heading">
            Sort by
           </div>
           <div class="select-box-mobile">
            <div class="options-container-mb">
             <div class="optionListMobile">
              <span class="CoveoSort" data-caption="Featured" data-sort-criteria="relevancy">
              </span>
              <span class="CoveoSort" data-caption="Price (Low-High)" data-sort-criteria="@ec_final_price ascending">
              </span>
              <span class="CoveoSort" data-caption="Price (High-Low)" data-sort-criteria="@ec_final_price descending">
              </span>
              <span class="CoveoSort" data-caption="Best Sellers" data-sort-criteria="@sell_rank_monthly ascending">
              </span>
              <span class="CoveoSort" data-caption="New Arrivals" data-sort-criteria="@created_at descending">
              </span>
              <span class="CoveoSort" data-caption="Top Rated" data-sort-criteria="@ec_rating descending">
              </span>
             </div>
            </div>
           </div>
          </div>
         </div>
         <div class="CoveoHiddenQuery">
         </div>
         <div class="CoveoErrorReport">
         </div>
         <script class="result-template" id="productBadgeTemplate" type="text/underscore">
          <% if (raw.product_badge_text != undefined) { %>
                <span style="<%= (raw.product_badge_style) %>" title="<%= (raw.product_badge_text.toLocaleString()) %>"><%= (raw.product_badge_text.toLocaleString()) %></span>
            <% } %>
         </script>
         <!-- List view for Products/Recipes/Content -->
         <div class="CoveoResultList" data-auto-select-fields-to-include="false" data-enable-infinite-scroll="false" data-enable-scroll-to-top="false" data-layout="list" data-wait-animation="fade">
          <script class="result-template" data-field-objecttype="Product" id="productList" type="text/html">
           <div class="coveo-product-items">
                    <div class="coveo-product-badging">
                        <span class="CoveoFieldValue" data-field="@sell_rank_monthly" style="display:none"></span>
                        <span class="CoveoFieldValue" data-field="@lcbo_current_offer" style="display:none"></span>
                        <div class='CoveoTemplateLoader' data-template-id='productBadgeTemplate'></div></div>
                    <a class="CoveoResultLink" tabindex="-1">
                            <div class="coveo-product-image" tabindex="-1" aria-hidden="true">
                            <span class="product-image-wrapper">
                                <div class='CoveoImageFieldValue' data-field='@ec_thumbnails' data-helper="imageError"
                                    data-html-value="true"></div></span></div></a>
                    <div class="coveo-product-info">
                        <div class="coveo-result-row product-item-name">
                            <a class="CoveoResultLink">
                                <div class="CoveoFieldValue product-item-link" data-field="@ec_name" data-helper="caseName"></div></a>
                            <button type="submit" class="addToWishlist" onclick="callAddToWishlist(this);" aria-label="Add to favorites"></button></div>
                        <div class="coveo-result-row product-item-volume">
                            <span class="CoveoFieldValue product-volume-unit" data-field="@lcbo_unit_volume" data-helper="volumeDisplay" style="display:none"></span>
                            <span class="CoveoFieldValue product-volume-unit" data-field="@lcbo_selling_package_name" data-helper="volumeBottle"></span></div>
                        <div class="coveo-result-row product-item-rating">
                            <div class="CoveoFieldValue product-rating" data-field="@ec_rating" data-helper="newDataHelper" data-html-value="true"></div>
                            <div class="CoveoFieldValue noOfReviews" data-field="@avg_reviews" data-helper="reviewNumber"></div>
                            <a class="CoveoResultLink addReview" data-href-template='${clickUri}#review_section'>
                                <div class="CoveoFieldValue" data-field="@clickableuri" data-helper="reviewLink" data-html-value="true"></div></a></div>
                        <div class="coveo-result-row product-item-desc">
                            <div class="CoveoFieldValue" data-field="@lcbo_tastingnotes"></div></div>
                        <div class="coveo-result-row product-item-price">
                            <div class="basePrice">
                                <span class="CoveoFieldValue" data-field="@lcbo_bottles_per_case" data-helper="bottlesPerCase" style="display:none"></span>
                                <div class="CoveoFieldValue sale-price" data-field="@ec_promo_price" aria-label="Sale Price" data-helper="priceRound"></div>
                                <div style="display:flex;">
                                    <div class="CoveoFieldValue" data-field="@ec_price" data-helper="priceRound"></div>
                                    <div class="CoveoFieldValue" data-field="@ec_price" data-helper="savings1" style="display:none"></div>

                                    <div class="CoveoFieldValue savings" data-field="@ec_promo_price" data-helper="savings2"></div></div></div>
                            <div class="unitPrice">
                                <span class="CoveoFieldValue price-per-case-bottle" data-field="@lcbo_unit_price"></span></div></div>


                            <div class="coveo-result-row loyalty-points">
                                <span class="CoveoFieldValue loyalty_points" data-field="@loyalty_points" data-helper="loyaltyPoints"></span></div>

                        <div class="coveo-result-row product-button-wrapper">
                            <div class="coveo-result-row stock-threshold">
                                <div class="CoveoFieldValue" data-field="@stock_indicator" data-helper="stockThreshold" data-html-value="true"></div></div>
                            <div id="skuDiv" class="CoveoFieldValue" data-field="@ec_skus" data-helper="wishlistIcon" style="display: none"></div>
                            <p id="baseUrl" style="display: none">https://www.lcbo.com/en/</p>

                            <div class="product-add-to-cart">
                            <button class="CoveoFieldValue action tocart primary" type="submit" class="action tocart primary"
                                            onclick="callAddToCart(this, false);" data-field="@is_buyable" data-condition-field-not-stock_indicator="outOfStock"
                                            data-helper="hideButton" data-html-value="true"></button></div></div></div></div>
          </script>
          <script class="result-template" data-field-recipe_issue="" id="recipeList" type="text/html">
           <div class="RecipeSearchResults coveo-product-items">
                    <a class="CoveoResultLink">
                            <div class="coveo-product-image" tabindex="-1" aria-hidden="true">
                            <span class="product-image-wrapper">
                                <div class='CoveoImageFieldValue' data-field='@image_thumbnail' data-helper="recipeimageurl"
                                     data-html-value="true"></div></span></div></a>
                    <div class="coveo-recipe-info">
                        <div class="coveo-result-row coveo-recipe-type">
                            <div class="CoveoFieldValue recipe-type" data-field="@recipe_type"></div></div>
                        <div class="coveo-result-row coveo-recipe-issue-date">
                            <div class="CoveoFieldValue recipe-issue-month" data-field="@recipe_issue"></div>
                            <div class="CoveoFieldValue recipe-issue-year" data-field="@recipe_year">&nbsp</div></div>
                        <div class="coveo-result-row recipe-item-name">
                            <a class="CoveoResultLink">
                                <div class="CoveoFieldValue recipe-item-link" data-field="@title"></div></a></div>
                        <div class="coveo-result-row recipe-item-desc">
                            <div class="CoveoFieldValue" data-field="@description" data-helper="shortDescription"></div></div>
                        <div class="coveo-result-row see-recipe">
                            <a class="CoveoResultLink recipe-details">See Recipe</a></div></div></div>
          </script>
          <script class="result-template" id="contentList" type="text/html">
           <div class="ContentSearchResults coveo-product-items">
                    <div class="coveo-result-row content-title">
                        <div class="CoveoFieldValue" data-field="@title"></div></div>
                    <div class="coveo-result-row content-description">
                        <div class="CoveoFieldValue" data-field="@description"></div></div>
                    <a class="CoveoResultLink content-readMore">Read More</a>
          </script>
         </div>
         <!-- Card view for Products/Recipes/Content -->
         <div class="CoveoResultList" data-auto-select-fields-to-include="false" data-enable-infinite-scroll="false" data-enable-scroll-to-top="false" data-layout="card" data-wait-animation="fade">
          <script class="result-template" data-field-objecttype="Product" id="productCard" type="text/html">
           <div class="coveo-product-items">
                    <div class="coveo-product-badging">
                        <span class="CoveoFieldValue" data-field="@sell_rank_monthly" style="display:none"></span>
                        <span class="CoveoFieldValue" data-field="@lcbo_current_offer" style="display:none"></span>
                        <div class='CoveoTemplateLoader' data-template-id='productBadgeTemplate'></div></div>
                    <a class="CoveoResultLink" tabindex="-1">
                            <div class="coveo-product-image" tabindex="-1" aria-hidden="true">
                            <span class="product-image-wrapper">
                                <div class='CoveoImageFieldValue' data-field='@ec_thumbnails' data-helper="imageError"
                                    data-html-value="true"></div></span></div></a>
                    <div class="coveo-product-info">
                        <div class="coveo-result-row product-item-name">
                                <a class="CoveoResultLink" tabindex="0">
                                <div class="CoveoFieldValue product-item-link" data-field="@ec_name" data-helper="caseName"></div></a>
                            <button type="submit" class="addToWishlist" onclick="callAddToWishlist(this);" aria-label="Add to favorites"></button></div>
                        <div class="coveo-result-row product-item-volume">
                            <span class="CoveoFieldValue product-volume-unit" data-field="@lcbo_unit_volume" data-helper="volumeDisplay" style="display:none"></span>
                            <span class="CoveoFieldValue product-volume-unit" data-field="@lcbo_selling_package_name" data-helper="volumeBottle"></span></div>
                        <a class="CoveoResultLink" data-href-template='${clickUri}#review_section'>
                            <div class="coveo-result-row product-item-rating">
                                    <div class="CoveoFieldValue product-rating" data-field="@ec_rating" data-helper="newDataHelper" data-html-value="true">
                                    <span class="sr-only">
                                        <span class="rating"></span>
                                        <span class="review"></span></span></div>
                                    <div class="CoveoFieldValue noOfReviews" data-field="@avg_reviews" data-helper="reviewNumber"></div></div></a>
                        <div class="coveo-result-row product-item-desc">
                            <div class="CoveoFieldValue" data-field="@lcbo_tastingnotes"></div></div>
                        <div class="coveo-result-row product-item-price">
                            <div class="basePrice">
                                <span class="CoveoFieldValue" data-field="@lcbo_bottles_per_case" data-helper="bottlesPerCase" style="display:none"></span>
                                <div class="CoveoFieldValue sale-price" data-field="@ec_promo_price" aria-label="Sale Price" data-helper="priceRound"></div>
                                <div style="display:flex;">
                                    <div class="CoveoFieldValue" data-field="@ec_price" data-helper="priceRound"></div>
                                    <div class="CoveoFieldValue" data-field="@ec_price" data-helper="savings1" style="display:none"></div>
                                    <div class="CoveoFieldValue savings" data-field="@ec_promo_price" data-helper="savings2"></div></div></div>
                            <div class="unitPrice">
                                <span class="CoveoFieldValue price-per-case-bottle" data-field="@lcbo_unit_price"></span></div></div>
                            <div class="coveo-result-row loyalty-points">
                                <span class="CoveoFieldValue loyalty_points" data-field="@loyalty_points" data-helper="loyaltyPoints"></span></div>
                        <div class="coveo-result-row product-button-wrapper">
                            <div class="coveo-result-row stock-threshold">
                                <div class="CoveoFieldValue" data-field="@stock_indicator" data-helper="stockThreshold" data-html-value="true"></div></div>
                            <div id="skuDiv" class="CoveoFieldValue" data-field="@ec_skus" data-helper="wishlistIcon" style="display: none"></div>
                            <p id="baseUrl" style="display: none">https://www.lcbo.com/en/</p>
                            <div class="product-add-to-cart">
                                <button class="CoveoFieldValue action tocart primary" type="submit"
                                            onclick="callAddToCart(this, false);" data-field="@is_buyable" data-condition-field-not-stock_indicator="outOfStock"
                                            data-helper="hideButton" data-html-value="true"></button></div></div></div></div>
          </script>
          <script class="result-template" data-enable-scroll-to-top="false" data-field-recipe_issue="" id="recipeCard" type="text/html">
           <div class="RecipeSearchResults coveo-product-items">
                    <a class="CoveoResultLink">
                            <div class="coveo-product-image" tabindex="-1" aria-hidden="true">
                            <span class="product-image-wrapper">
                                <div class='CoveoImageFieldValue' data-field='@image_thumbnail' data-helper="recipeimageurl"
                                     data-html-value="true"></div></span></div></a>
                    <div class="coveo-recipe-info">
                        <div class="coveo-result-row coveo-recipe-type">
                            <div class="CoveoFieldValue recipe-type" data-field="@recipe_type"></div></div>
                        <div class="coveo-result-row coveo-recipe-issue-date">
                            <div class="CoveoFieldValue recipe-issue-month" data-field="@recipe_issue"></div>
                            <div class="CoveoFieldValue recipe-issue-year" data-field="@recipe_year">&nbsp</div></div>
                        <div class="coveo-result-row recipe-item-name">
                            <a class="CoveoResultLink">
                                <div class="CoveoFieldValue recipe-item-link" data-field="@title"></div></a></div>
                        <div class="coveo-result-row see-recipe">
                            <a class="CoveoResultLink recipe-details">See Recipe</a></div></div></div>
          </script>
          <script class="result-template" id="contentCard" type="text/html">
           <div class="ContentSearchResults coveo-product-items">
                    <div class="coveo-result-row content-title">
                        <div class="CoveoFieldValue" data-field="@title"></div></div>
                    <div class="coveo-result-row content-description">
                        <div class="CoveoFieldValue" data-field="@description"></div></div>
                    <a class="CoveoResultLink content-readMore">Read More</a>
          </script>
         </div>
         <button id="loadMore" onclick="loadMore()">
          Load More
         </button>
        </div>
       </div>
      </div>
      <script type="text/javascript">
       require(['jquery'], function($) {
        $(document).ready(function() {
            const setStyles = function(element) {
                const h3Element = $(element).find('h3');
                if (h3Element.length) {
                    h3Element.each(function() {
                        this.style.setProperty("display", "inline", "important");
                     this.style.setProperty("font-family",
                         "Lato,Helvetica Neue,Helvetica,Arial,sans-serif", "important");
                    });
                }
            };

            
            $('[aria-label="Rating"]').each(function() {
                setStyles(this);
            });

            
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    $(mutation.addedNodes).each(function() {
                        if (this.nodeType === 1 && ($(this).is('[aria-label="Rating"]') ||
                            $(this).is('[aria-label="Note"]'))) {
                            
                            setStyles(this);
                        }
                    });
                });
            });
            observer.observe(document.body, { childList: true, subtree: true });
        });
    });
      </script>
      <script type="text/javascript">
       var newParentWrapper = null;
    function callAddToCart(event) {
        jQuery('html, body').animate({ scrollTop: 0 }, '2000');
        console.log('call add to cart');
        console.log(event);
        var parentWrapper = jQuery(event).parent();
        console.log(jQuery(event));
        console.log(parentWrapper);
        newParentWrapper = parentWrapper;
        if (parentWrapper) {
            var stloc = getStore();
            console.log('stloc' + stloc);
            var keyVar = document.getElementsByName('form_key')[0].value;
            console.log('keyVar' + keyVar);
            let valnew = newParentWrapper[0].parentElement;
            var sku = valnew.getElementsByTagName('p')[0].previousElementSibling.innerText;;
            var baseurl = valnew.getElementsByTagName('p')[0].innerText;
            console.log(sku);
            console.log(baseurl);
            if (sku) {
                var customurl = baseurl + "checkout/cart/add";
                console.log(customurl);
                jQuery.ajax({
                    url: customurl,
                    type: 'POST',
                    dataType: 'json',
                    data: {
                        sku: sku,
                        form_key: keyVar,
                        stloc_identifier: stloc
                    },
                    complete: function(response) {
                        console.log(response);
                    },
                    error: function(xhr, status, errorThrown) {
                        console.log('Error happens. Try again.');
                    }
                });
            }
        }

        function getStore() {
            return JSON.parse(window.localStorage.getItem('lcbo-locator-storage'))["store-identifier"]["storeIdentifier"];
        }
    }
      </script>
      <script type="text/javascript">
       const addEventName = "add-to-favorite"
    const removeEventName = "remove-from-favorite"

    function pushToAdobeDataLayer(eventName, sku) {
        window.adobeDataLayer.push({
            "event": eventName,
            "eventInfo": {
                "favoriteProduct": sku
            }
        })
    }

    function adobeCleanWishlistEvents() {
        /**
         * If the outdated wishlist events are not cleared, the new events will keep appending
         * to the existing array of adobeDatalayer
         * */
        for (var i = 0, length = window.adobeDataLayer.length; i <= length / 2; i++) {
            
            var idx = length - i - 1;
            if (window.adobeDataLayer[idx] && (
                window.adobeDataLayer[idx]["event"] === removeEventName ||
                window.adobeDataLayer[idx]["event"] === addEventName
            )) {
                window.adobeDataLayer.splice(idx, 1)
            }
        }
    }

    var newParentWrapper = null;
    function callAddToWishlist(event) {
        var parentWrapper = jQuery(event).parent();
        newParentWrapper = parentWrapper;
        if (parentWrapper) {
            let valnew = newParentWrapper[0].parentElement;
            var sku = valnew.getElementsByTagName('p')[0].previousElementSibling.innerText;
            var baseUrl = valnew.getElementsByTagName('p')[0].innerText;
            var baseUrl1 = document.querySelector('#getbaseUrl').innerText;
            
            if(event.classList.contains('addedToWishlist'))
            {
                var customUrl = baseUrl1 + "rest/V2/wishlist/ajax-wishlist-api/?productId=";
                let item_id = wishlisted[sku]['item_id'];
                customUrl += item_id ;
                jQuery.ajax({
                    url: customUrl,
                    type: 'POST',
                    dataType: 'json',
                    complete: function(response) {
                        delete wishlisted[sku];
                        event.classList.remove('addedToWishlist');

                        
                        adobeCleanWishlistEvents()
                        pushToAdobeDataLayer(removeEventName, sku)
                    }
                });
            }
            
            else
            {
                if (sku) {
                    var customUrl = baseUrl + "coveo/wishlist/index";
                    jQuery.ajax({
                        url: customUrl,
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            sku: sku
                        },
                        complete: function(response) {
                            if(response.responseJSON.productExists == false) {
                                console.log("The product does not exist");
                            }
                            if(response.responseJSON.notLoggedIn) {
                                window.location.href = baseUrl + "customer/account/login/?" +
                                    "referer=" + 'aHR0cHM6Ly93d3cubGNiby5jb20vZW4vcHJvZHVjdHMvd2luZS93aGl0ZS13aW5l' +
                                    "&is_favourite=1&product_id=" + response.responseJSON.productId;
                                event.classList.add('addedToWishlist');
                            }
                            if(response.responseJSON.notLoggedIn == false){
                                    async function wishlist()
                                    {
                                        var testUrl = baseUrl + 'coveo/wishlist/wishlist';
                                        const response = await fetch(testUrl, {
                                                method: 'GET',
                                                dataType: 'json',
                                                headers: {
                                                'Content-Type': 'application/json'
                                                }
                                            });
                                            const myJson3 = await response.json();
                                            return myJson3.items;
                                    }
                                    wishlist().then((data) => {
                                        wishlisted = data;
                                    })
                                    event.classList.add('addedToWishlist');
                                }

                            
                            adobeCleanWishlistEvents()
                            pushToAdobeDataLayer(addEventName, sku)
                        },
                        error: function(xhr, status, errorThrown) {
                            console.log('Something went wrong. Try again.');
                        }
                    });
                }
            }
        }
    }
      </script>
      <script>
       function addClassReceipe(){
        if (document.getElementsByClassName('CoveoTab')[1].classList.contains('coveo-selected')){
            document.getElementsByClassName('coveo-result-list-container')[1].classList.add('recipeContainer')
            document.getElementsByClassName('coveo-result-list-container')[0].classList.add('recipeContainer')
        }else{
            document.getElementsByClassName('coveo-result-list-container')[0].classList.remove('recipeContainer')
            document.getElementsByClassName('coveo-result-list-container')[1].classList.remove('recipeContainer')
        }
    }

    function addClassContent(){
        if (document.getElementsByClassName('CoveoTab')[2].classList.contains('coveo-selected')){
            document.getElementsByClassName('coveo-card-layout-container')[0].classList.add('contentWrapper')
            document.getElementsByClassName('coveo-result-list-container')[0].classList.add('contentWrapper')
        }else{
            document.getElementsByClassName('coveo-result-list-container')[0].classList.remove('contentWrapper')
            document.getElementsByClassName('coveo-card-layout-container')[0].classList.remove('contentWrapper')
        }
    }

    function removeContentGrid(){
        if (document.getElementsByClassName('CoveoTab')[2].classList.contains('coveo-selected')){
            document.getElementsByClassName('coveo-result-layout-section')[0].style.display = 'none';
        }
        else{
            document.getElementsByClassName('coveo-result-layout-section')[0].style.display = 'block';
        }
    }

    function sortHandlerProducts(){
        var arr = document.getElementsByClassName('Products-sort');
        var option = arr[0].querySelectorAll('.options-container .option');
        if(document.querySelector('.options-container').firstElementChild.classList.contains('dropdownBtnActive')){
            document.querySelector('.dropdownBtnActive').classList.remove('dropdownBtnActive');
        }
        jQuery('.option .CoveoSort span').attr('tabindex','0');
        jQuery('.option .coveo-selected span').removeAttr('tabindex');
        for(let i = 0; i < option.length; i++){
            if(option[i].children[0].classList.contains('coveo-selected')){
                option[i].classList.remove('active');
                jQuery(document.querySelector('.options-container').firstElementChild).attr('aria-expanded','false');
                jQuery('#btn').attr('aria-label', 'sort by '+ jQuery(option[i].children[0]).find('span').html() +' dropdown');
            }
            else{
                option[i].classList.add('active');
            }
        }
    }

    function toggleClassDropdown(event){
        if(document.querySelector('.options-container').firstElementChild.classList.contains('dropdownBtnActive')){
            document.querySelector('.dropdownBtnActive').classList.remove('dropdownBtnActive');
        }
        let clkElem = event;
        let parent = clkElem.parentNode;
        let optionArr = parent.parentNode.getElementsByClassName('.option');
        for(let i=0;i<optionArr.length;i++){
            optionArr[i].classList.add('active');
        }

        clkElem.classList.remove('active');
    }
    function showDropdownProducts(e){
        let clkElem = e;
        let attribute = clkElem.getAttribute('aria-expanded');
        if(attribute === 'false'){
            clkElem.setAttribute('aria-expanded', 'true');
        }else{
            clkElem.setAttribute('aria-expanded', 'false');
        }
        let parent = clkElem.parentNode.getElementsByTagName('div');
        clkElem.classList.toggle('dropdownBtnActive')
        var arr = document.getElementsByClassName('Products-sort');
        var option = arr[0].querySelectorAll('.options-container .option');
        var li = arr[0].querySelector('.optionList');
        var selected = arr[0].querySelector('.CoveoSort.coveo-selected').parentElement;
        jQuery(option).find('.CoveoSort').removeAttr('role');
        jQuery(arr).find('.optionList').attr('role','radiogroup');
        li.insertBefore(selected, option[0]);
        if(clkElem.classList.contains('dropdownBtnActive')){
            for(let i=1;i<parent.length;i++){
                parent[i].classList.remove('active');
            }
            li.insertBefore(selected, option[0]);
        }else{
            for(let i=1;i<parent.length;i++){
                parent[i].classList.add('active');
                selected.classList.remove('active');
            }
            li.insertBefore(selected, option[0]);
        }
    }

    function sortAccordionProductMobile(){
        var heading = document.querySelectorAll('.coveo-sort-section-mobile.Products-sort-mobile .coveo-sort-heading')
        var selectBox = document.querySelectorAll('.coveo-sort-section-mobile.Products-sort-mobile .select-box-mobile')
        heading[0].addEventListener("click", () => {
            heading[0].classList.toggle('active');
            selectBox[0].classList.toggle('selectbox-active');
        })
    }

    let pathStar = "https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/star.svg"
    let pathStarLight = "https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/star-light.svg"
    function create(){
    var imgStar = document.createElement('img')
        imgStar.classList.add('dark')
        imgStar.classList.add("star")
    imgStar.src=pathStar
    imgStar.style.marginTop="3px"
        imgStar.setAttribute('tabindex', '-1')
        imgStar.setAttribute('aria-hidden', 'true')
    return imgStar
    }
    function createLight(){
        var imgLight = document.createElement('img')
        imgLight.src=pathStarLight
        imgLight.style.marginTop="3px"
        imgLight.setAttribute('aria-hidden', 'true')
        return imgLight
    }
    function changeRatingStar(){
        try {
            let length  = document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label').length;
            var currentUrl1 = window.location.href;
            for(var i=0; i <length; i++){
                let value = document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].innerText;
                var splitVal
                if (currentUrl1.includes('/fr/')) {
                    splitVal = value.split('à');
                    if(splitVal[1].includes(',')){
                        splitVal[1] = splitVal[1].replace(',','.')
                        value = Math.floor(splitVal[splitVal.length - 1]);
                    }
                    else{
                        value = Math.floor(splitVal[splitVal.length - 1]);
                    }
                }else{
                    splitVal = value.split('to');
                    value = Math.floor(splitVal[splitVal.length - 1]);
                }
                switch(value){
                    case 5:
                        document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].innerText=''
                        for(let j =0; j<5;j++){
                            document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(create())
                        }
                        break;
                    case 4:
                        document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].innerText=''
                        for(let j =0; j<4;j++){
                            document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(create())
                        }
                        document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(createLight())
                        break;
                    case 3:
                        document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].innerText=''
                            for(let j =0; j<3;j++){
                                document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(create())
                        } for(let j =0; j<2;j++){
                            document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(createLight())
                        }
                        break;
                    case 2:
                        document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].innerText=''
                            for(let j =0; j<2;j++){
                                document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(create())
                            }
                            for(let j =0; j<3;j++){
                                document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(createLight())
                                }
                            break;
                    case 1:
                        document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].innerText=''
                            for(let j =0; j<1;j++){
                                document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(create())
                            }
                            for(let j =0; j<4;j++){
                                document.querySelectorAll('#fileSizeFacetRange .coveo-checkbox-span-label')[i].appendChild(createLight())
                                }
                            break;
                }
            }
        } catch (error) {
            console.log('error in changeRtaingStar',error)
        }
    }

    function appliedFilterLen() {
        if (jQuery(window).width() < 768) {
            let breadCrumblength  = document.getElementsByClassName('coveo-breadcrumb-item').length;
            if(breadCrumblength > 0) {
                document.querySelector('.applied_filter').style.display = 'block';
            } else{
                document.querySelector('.applied_filter').style.display = 'none';
            }
        }
    }
    var root7 = document.querySelector("#html-body");
    Coveo.$$(root7).on("preprocessResults", function(e, args) {
    args.results.results.forEach(function(result) {
        let allkeys=Object.keys(result.raw);
        currentUrl = window.location.href;
        
        try {
                let caseName = result.raw.ec_name
                let noOfBottles = result.raw.lcbo_bottles_per_case
                let prod_qty = result.raw.min_cart_qty
                let sellingPackageName = result.raw.lcbo_selling_package_name

                if(prod_qty > 1) {
                    result.raw["ec_price"] = (result.raw.ec_price * noOfBottles)
                    let price = result.raw.ec_price
                    let isPricePresent = allkeys.find((ele)=> ele=="ec_promo_price")
                    if(isPricePresent){
                        result.raw["ec_promo_price"] = (result.raw.ec_promo_price * noOfBottles)
                    }
                    
                    let unitPrice = parseFloat(price/noOfBottles).toFixed(2);
                    if (currentUrl.includes('/fr/')){
                        if(unitPrice.indexOf('.') != -1) {
                            unitPrice1 = unitPrice.replace(".",",")
                            result.raw["lcbo_unit_price"] =  unitPrice1 +' $'+'/bouteille';
                        }
                        else{
                            result.raw["lcbo_unit_price"] = unitPrice +' $'+'/'+ sellingPackageName;
                        }
                    }
                    else{
                        result.raw["lcbo_unit_price"] = '$'+ unitPrice +'/'+ sellingPackageName;
                    }
                }
            } catch (error) {
                console.log('error in pre processing case product price issue')
            }

         
         try {
             let isBuyable = allkeys.find((ele)=> ele=="is_buyable");
             if (result.raw.out_of_stock == "true") {
                 result.raw.default_stock = "false";
             }
             if (isBuyable != undefined && result.raw.is_buyable == "false"){
                 result.raw["stock_indicator"] = "outOfStock";
             }else {
                 let isStockPresent = allkeys.find((ele) => ele == "stores_stock_combined")
                 if (isStockPresent != undefined) {
                     if (result.raw.stores_stock_combined != null) {
                         if (result.raw.stores_stock_combined == "true") {
                             if (result.raw.stores_low_stock_combined == "true") {
                                 result.raw["stock_indicator"] = "lowStock";
                             } else {
                                 result.raw["stock_indicator"] = "inStock";
                             }
                         }
                         if (result.raw.stores_stock_combined == "false") {
                             result.raw["stock_indicator"] = "outOfStock";
                         }
                     } else {
                         if (result.raw.default_stock == "true") {
                             if (result.raw.default_low_stock == "true") {
                                 result.raw["stock_indicator"] = "lowStock";
                             } else {
                                 result.raw["stock_indicator"] = "inStock";
                             }
                         }
                         if (result.raw.default_stock == "false") {
                             result.raw["stock_indicator"] = "outOfStock";
                         }
                     }
                 } else {
                     if (result.raw.default_stock == "true") {
                         if (result.raw.default_low_stock == "true") {
                             result.raw["stock_indicator"] = "lowStock";
                         } else {
                             result.raw["stock_indicator"] = "inStock";
                         }
                     }
                     if (result.raw.default_stock == "false") {
                         result.raw["stock_indicator"] = "outOfStock";
                     }
                 }
             }
            } catch (error) {
                console.log('error in stock threshold indicator')
            }

            if(result.raw.cp_display_product_prices_deny.includes(customerGroupId)){
                result.raw.ec_price = null;
                result.raw.ec_promo_price = null;
                result.raw.lcbo_unit_price = null;
            }

            if(result.raw.cp_add_to_cart_deny.includes(customerGroupId)){
                result.raw.is_buyable = false;
            }

        let bs = result.raw.sell_rank_monthly
        let co = result.raw.lcbo_current_offer
        let prog = result.raw.lcbo_program
            let newA = result.raw.is_new
            let flag = false
            let loyaltyStartDate = '';
            if(result.raw.loyalty_startdate) {
                loyaltyStartDate = result.raw.loyalty_startdate
                loyaltyStartDate = loyaltyStartDate.toString();
                loyaltyStartDate = loyaltyStartDate.slice(0, -3);
                loyaltyStartDate = parseInt(loyaltyStartDate);
            }
            let loyaltyEndDate = ''
            if(result.raw.loyalty_enddate) {
                loyaltyEndDate = result.raw.loyalty_enddate
                loyaltyEndDate = loyaltyEndDate.toString();
                loyaltyEndDate = loyaltyEndDate.slice(0, -3);
                loyaltyEndDate = parseInt(loyaltyEndDate);
            }
            let loyaltyPoints = ''
            if(result.raw.loyalty_points){
                loyaltyPoints = result.raw.loyalty_points
            }
            let loyaltyCurrentDate = '1708051389'
        if(co){
            co= co.join(',')
        }else co='co'
        if(prog){
            prog= prog.join(',')
        }else prog = 'prog'
        if(bs){
            bs = bs
        }else bs = '101'
            if (loyaltyPoints && loyaltyStartDate <= loyaltyCurrentDate && loyaltyEndDate >= loyaltyCurrentDate) {
                flag = true
            }else{
                result.raw.loyalty_points = ''
            }
            let myres = badging(co, prog, bs, newA, flag)
        result.raw.lcbo_program = myres
        result.raw.product_badge_text = myres;
        if (myres === "Boxing Day Only" || myres === "Boxing Weeklong Offer") {
            result.raw.product_badge_style = "font-style: normal; font-weight: bold; font-size: 12px; line-height: 14px; letter-spacing: 0.12px; color: #222222; background: #d1ffd1; border-radius: 4px; padding: 6px 10px; text-decoration: none; cursor: default;";
        }

    });
    });
    var root1 = document.querySelector("#html-body");
    var numberOfResultsToDisplay = "48";
    numberOfResultsToDisplay = parseInt(numberOfResultsToDisplay);
    root1.setAttribute("data-results-per-page",numberOfResultsToDisplay);
    Coveo.$$(root1).on("newQuery", function(e, args) {
    translateLabels();
    changeRatingStar();
    document.getElementById('loadMore').style.display='block'
    addClassReceipe();
    addClassContent();
    removeContentGrid();
    changeText();
    wineNoteFacets();
    saleClearPrice();
    sortNoResultsFn();
    });
    Coveo.$$(root).on("state:change:q", function(e, data) {

      });
      </script>
      <script>
       function changeText(){
        try{
            let text =  document.getElementsByClassName('magic-box-underlay')[0].nextSibling.value;
            document.getElementsByClassName('item search')[0].innerText = "Search Results: " + text;
        }catch(e){
            console.log('changetext',e)
        }
    }
    function prodRating(value){
        var element = document.createElement('span');
        if(value == 1){
            for(let j =0; j<1;j++){
                    element.appendChild(create());
                }
                for(let j =0; j<4;j++){
                    element.appendChild(createLight());
                }
        }else if(value == 2){
            for(let j =0; j<2;j++){
                    element.appendChild(create());
                }
                for(let j =0; j<3;j++){
                    element.appendChild(createLight());
                }
        }else if(value == 3){
            for(let j =0; j<3;j++){
                    element.appendChild(create());
                }
                for(let j =0; j<2;j++){
                    element.appendChild(createLight());
                }
        }else if(value == 4){
            for(let j =0; j<4;j++){
                    element.appendChild(create());
                }
                element.appendChild(createLight());
        }else if(value == 5){
            for(let j =0; j<5;j++){
                    element.appendChild(create());
                }
        }
        return element;
    }
    function checkRatingCount(){
        try {
            jQuery('#btn').attr('role','button');
            jQuery('.inStock_toggle .coveo-checkbox-button').attr({'aria-pressed':false,'role':'button'});
            jQuery('.product-item-rating').each((ind,item)=>{
                if(!jQuery(item).children().length){
                    jQuery(item).parents('.CoveoResultLink').attr('tabindex', -1);
                    jQuery(item).attr({'tabindex':-1,'aria-hidden':true});
                }
                else {
                    jQuery(item).find('.noOfReviews span').attr('aria-hidden',true);
                    let prod_name = jQuery(item).parents('.coveo-product-info').find('.product-item-link span').text();
                    let star_count = jQuery(item).find('.dark').length;
                    jQuery(item).find('.rating').text(prod_name + ' ' + star_count + ' stars');
                    jQuery(item).find('.review').text(jQuery(item).find('.noOfReviews span').text() + ' ratings');
                }
            })
        } catch (error) {
            console.log(error);
        }
    }
      </script>
      <script>
       function loadMore(){
        let currentList = document.getElementsByClassName('coveo-card-layout CoveoResult').length
        let value=document.getElementsByClassName('coveo-card-layout-icon')[0].parentElement.classList.contains('coveo-selected')
        {value?value = 1:value = 0}
        callToDisplay(value)
        setTimeout(function() {
            document.getElementsByClassName('coveo-card-layout CoveoResult')[currentList].getElementByClassname('.product-item-name').getElementByClassName('.CoveoResultLink').setAttribute('tabindex', 0);
            document.getElementsByClassName('coveo-card-layout CoveoResult')[currentList].getElementByClassname('.product-item-name').getElementByClassName('.CoveoResultLink').focus()
        },2500);
        setTimeout(function() {
            addBadgetoProductTitle();
        }, 1000);
        setTimeout(() => {
            checkRatingCount();
        }, 5000);
        updateWishlistLink();
    }
    async function callToDisplay(value){
        let currentList = document.getElementsByClassName('coveo-product-items').length
        var prevSelection = document.getElementsByClassName('coveo-product-items')[currentList-1].children
        jQuery(jQuery(prevSelection)[jQuery(prevSelection).length-1]).find('.tocart').focus();
        let lastToalCount = document.getElementsByClassName('CoveoResultList')[value].CoveoResultList.queryController.lastQueryResults.totalCount
        let num = null;
        var numberOfResultsToDisplay = "48";
        numberOfResultsToDisplay = parseInt(numberOfResultsToDisplay);
        lastToalCount-currentList<numberOfResultsToDisplay ? num = (lastToalCount-currentList):num = numberOfResultsToDisplay
        if(num!=0){
        result = await document.getElementsByClassName('CoveoResultList')[value].CoveoResultList.displayMoreResults(num)
        }
        let element=document.getElementById('loadMore')
        let loadmoreresults=document.getElementsByClassName('CoveoResultList')[value].CoveoResultList.reachedTheEndOfResults
        if(num==0 || num < numberOfResultsToDisplay ){
            loadmoreresults=true
            }
            loadmoreresults?element.style.display='none':element.style.display='block'

            setTimeout(()=>{translateLabels();saleClearPrice();removeUnitPrices();addImageAltText();},2000)
    }

    const NUM_OF_RESULTS_ON_INITIAL_LOAD = parseInt("48");
    function removeLoadMore(){
        try{
            let ele1=document.getElementsByClassName('coveo-product-items').length
            let ele2=document.getElementsByClassName('CoveoResultList')[1].CoveoResultList.queryController.lastQueryResults.totalCount

            
            
            let cond1 = ele1 == ele2;
            
            
            let cond2 = ele2 <= NUM_OF_RESULTS_ON_INITIAL_LOAD;

            if ( cond1 || cond2 ) {
                document.getElementById('loadMore').style.display='none';
            }
        }catch (e) {
            
        }
    }
      </script>
      <script>
       function wineNoteFacets(){
        try{
            var wineNoteInner = document.getElementsByClassName("wineNotesMain")[0].lastElementChild;
            var flag = false;
            for(let i=0;i<wineNoteInner.children.length;i++){
                if(wineNoteInner.children[i].querySelector(".coveo-slider-container") != null){
                    flag = true;
                    break;
                }
            }

            if (!flag) {
                document.getElementsByClassName("wineNotesMain")[0].style.display = "none";
            } else {
                document.getElementsByClassName("wineNotesMain")[0].style.display = "block";
            }

        } catch(e){

        }
    }
    function wineNoteFacetWhenNoData(){
        try{
            var winefacetEmptySLider = document.querySelectorAll('.wineNotesInner .CoveoFacetSliderDynamicRange');
            for(i=0;i<winefacetEmptySLider.length;i++){
                if(winefacetEmptySLider[i].querySelector(".coveo-slider-container")!= null){
                    winefacetEmptySLider[i].style.display = "block";
                }else{
                    winefacetEmptySLider[i].style.display = "none";
                }
            }
        }catch(e){
            console.log('wineNoteFacetWhenNoData ',e)
        }
    }
    function wineNoteFacetWhenNoData(){
        try{
            var winefacetEmptySLider = document.querySelectorAll('.wineNotesInner .CoveoFacetSliderDynamicRange');
            for(i=0;i<winefacetEmptySLider.length;i++){
                if(winefacetEmptySLider[i].querySelector(".coveo-slider-container")!= null){
                    winefacetEmptySLider[i].style.display = "block";
                }else{
                    winefacetEmptySLider[i].style.display = "none";
                }
            }
        }catch(e){
            console.log('wineNoteFacetWhenNoData ',e)
        }
    }
      </script>
      <script>
       function translateLabels() {
        try {
            currentUrl = window.location.href;
            if (currentUrl.includes('/fr/')) {
                document.getElementsByClassName('applied_filter')[0].innerText = "Filtres Appliqués";
                document.querySelectorAll(".apply_sliderBtn").forEach(function(el) {
                    el.innerText = "Appliquer";
                });
                document.getElementById('wineNotesHeading').innerText = 'Profil gustatif des vins';

                sortByArr = document.getElementsByClassName('coveo-sort-heading');
                for (i = 0; i < sortByArr.length; i++) {
                    sortByArr[i].innerText = "Trier par:";
                }

                document.getElementById('loadMore').innerText = "En voir plus";
            }
        } catch (error) {
            console.log('error in transateLabels');
        }
    }
      </script>
      <script>
       function removeUnitPrices(){
        var url = window.location.href;
        if (url.includes("lcbo_current_offer=[Clearance]") || url.includes("lcbo_current_offer=[On%20Sale]") ||
        url.includes("lcbo_current_offer=[Clearance,On%20Sale]")) {
            var productResults = document.getElementsByClassName('coveo-product-items');
            var i = 0;
            for (i = 0; i < productResults.length; i++){
                if (productResults[i].getElementsByClassName('product-item-link')[0].innerText.includes('Case')) {
                    productResults[i].getElementsByClassName('unitPrice')[0].style.display = "none";
                }
            }
        }
    }
      </script>
      <script>
       function removeStockToggle() {
        try{
            var productResults = document.getElementsByClassName('coveo-product-items');
            var i = 0;
            var flag = false;
            for (i = 0; i < productResults.length; i++) {
                if (productResults[i].getElementsByClassName('in-stock').length != 0) {
                    flag = true;
                    break;
                }
            }

            if (!flag) {
                document.getElementById('Stockfacet').style.display = "none";
            } else {
                document.getElementById('Stockfacet').style.display = "flex";
            }
        }catch(e){
            console.log('remove stock toggle',e)
        }

    }
      </script>
      <script>
       var wishlisted = null;
    async function wishlist()
    {   var baseUrl = document.querySelector('#getbaseUrl').innerText;
            var testUrl = baseUrl + 'coveo/wishlist/wishlist';
            const response = await fetch(testUrl, {
                method: 'GET',
                dataType: 'json',
                headers: {
                'Content-Type': 'application/json'
                }
            });
            const myJson3 = await response.json();
            return myJson3.items;
    }
    wishlist().then((data) => {
        wishlisted = data;
    })
      </script>
      <script>
       function buttonClickFN(ele){
    var currentAttrSlider = ele.closest('.facet_sliderDiv').querySelector(".CoveoFacetSliderDynamicRange").getAttribute('data-display-as-value-unit-sign');
    if(currentAttrSlider == '$'){
        minslider(event);
    }else if(currentAttrSlider == 'mL'){
        minslider(event);
    }else if(currentAttrSlider == 'g/L'){
        minslider(event);
    }else if(currentAttrSlider == '%'){
        minslider(event);
    }
}
function displayErrormsg(event){
        var input1 = event.closest('.facet_sliderDiv').querySelector(".min");
        var input2 = event.closest('.facet_sliderDiv').querySelector(".max");
    var facetSlider = event.closest('.facet_sliderDiv').querySelector(".CoveoFacetSliderDynamicRange > .CoveoFacetSlider");
    var facetSign = facetSlider.closest('.CoveoFacetSliderDynamicRange').getAttribute("data-display-as-value-unit-sign");
    let facetSliderComponent = Coveo.get(facetSlider);
    if(facetSign == '$'){
        var signInpCharVal = input1.value.charAt(0);
        var signInpsliceVsl = input1.value.slice(1).toFixed(2);
        var signInp2Charval = input2.value.charAt(0);
        var signInp2sliceVal = input2.value.slice(1).toFixed(2);
    }else if(facetSign == 'mL'){
        var signInpCharVal = input1.value.slice(-2);
        var signInpsliceVsl = input1.value.slice(0,-2);
        var signInp2Charval = input2.value.slice(-2);
        var signInp2sliceVal = input2.value.slice(0,-2);
    }else if(facetSign == 'g/L'){
        var signInpCharVal = input1.value.slice(-3);
        var signInpsliceVsl = input1.value.slice(0,-3);
        var signInp2Charval = input2.value.slice(-3);
        var signInp2sliceVal = input2.value.slice(0,-3);
    }else if(facetSign == '%'){
        var signInpCharVal = input1.value.slice(-3);
        var signInpsliceVsl = input1.value.slice(0,-1);
        var signInp2Charval = input2.value.slice(-1);
        var signInp2sliceVal = input2.value.slice(0,-1);
    }
        if(signInpCharVal === facetSign){
            if(signInpsliceVsl.length > 0){
                var signInpsliceVsl = parseInt(signInpsliceVsl);
            }
        }else{

            if(input1.value.includes(facetSign)){
                signInpsliceVsl  = input1.value.replace(facetSign,'')
                if((facetSign == '%') && (signInpsliceVsl % 1 != 0)){
                    signInpsliceVsl  = signInpsliceVsl;
                }else{
                    signInpsliceVsl  = parseInt(signInpsliceVsl);
                }
            }else{
                if((facetSign == '%') && (signInpsliceVsl % 1 != 0)){
                    signInpsliceVsl  = input1.value;
                }else{
                    signInpsliceVsl = parseInt(input1.value);
                }
            }
        }
        if(signInp2Charval === facetSign){
            if(signInpsliceVsl.length > 0){
                var signInp2sliceVal = parseInt(signInp2sliceVal);

            }
        }else{
            if(input2.value.includes(facetSign)){
                signInp2sliceVal  = input2.value.replace(facetSign,'');
                if((facetSign == '%') && (signInp2sliceVal % 1 != 0)){
                    signInp2sliceVal  = signInp2sliceVal;
                }else{
                    signInp2sliceVal  = parseInt(signInp2sliceVal);
                }
            }else{
                if((facetSign == '%') && (signInp2sliceVal % 1 != 0)){
                    signInp2sliceVal  = input2.value;
                }else{
                    signInp2sliceVal = parseInt(input2.value);
                }
            }
        }
        if((signInpsliceVsl > facetSliderComponent.initialEndOfSlider) || (signInp2sliceVal < facetSliderComponent.initialStartOfSlider)||
        (signInpsliceVsl < facetSliderComponent.initialStartOfSlider) || (signInp2sliceVal > facetSliderComponent.initialEndOfSlider)){
            event.parentElement.classList.add('error_slider');
            event.closest('.facet_sliderDiv').querySelector('.apply_sliderBtn').disabled = true;
        }else{
            event.parentElement.classList.remove('error_slider');
            event.closest('.facet_sliderDiv').querySelector('.apply_sliderBtn').disabled = false;
        }
}
var facetSliderSignExp;
function minslider(event){
        var input1 = event.target.closest('.facet_sliderDiv').querySelector(".min");
        var input2 = event.target.closest('.facet_sliderDiv').querySelector(".max");
    var facetSlider = event.target.closest('.facet_sliderDiv').querySelector(".CoveoFacetSliderDynamicRange > .CoveoFacetSlider");
    var facetSign = facetSlider.closest('.CoveoFacetSliderDynamicRange').getAttribute("data-display-as-value-unit-sign");
    let facetSliderComponent = Coveo.get(facetSlider);
    event.preventDefault();
    if((input1.value !='' && input1.value != undefined && input2.value !='' && input2.value != undefined)) {
        if(facetSign == '$'){
            var signInpCharVal = input1.value.charAt(0);
            var signInpsliceVsl = input1.value.slice(1);
            var signInp2Charval = input2.value.charAt(0);
            var signInp2sliceVal = input2.value.slice(1);
        }else if(facetSign == 'mL'){
            var signInpCharVal = input1.value.slice(-2);
            var signInpsliceVsl = input1.value.slice(0,-2);
            var signInp2Charval = input2.value.slice(-2);
            var signInp2sliceVal = input2.value.slice(0,-2);
        }else if(facetSign == 'g/L'){
            var signInpCharVal = input1.value.slice(-3);
            var signInpsliceVsl = input1.value.slice(0,-3);
            var signInp2Charval = input2.value.slice(-3);
            var signInp2sliceVal = input2.value.slice(0,-3);
        }else if(facetSign == '%'){
            var signInpCharVal = input1.value.slice(-3);
            var signInpsliceVsl = input1.value.slice(0,-1);
            var signInp2Charval = input2.value.slice(-1);
            var signInp2sliceVal = input2.value.slice(0,-1);
        }
        if(signInpCharVal === facetSign){
            var num1 = parseInt(signInpsliceVsl);
        }else{
                var currentSign = input1.closest('.facet_sliderDiv').querySelector(".CoveoFacetSliderDynamicRange").getAttribute("data-display-as-value-unit-sign");
            if(input1.value.includes(facetSign)){
                    num1  = input1.value.replace(facetSign,'')
                    if((currentSign == '%') && (num1 % 1 != 0)){
                        num1  = num1;
                    }else{
                        num1  = parseInt(input1.value);
                    }
                }else{

                    if((currentSign == '%') && (num1 % 1 != 0)){
                        num1  = input1.value;
                    }else{
                        num1 = parseInt(input1.value);
                    }
                }
            }
        num1 = num1 < facetSliderComponent.initialStartOfSlider ? facetSliderComponent.initialStartOfSlider:num1;
        num1 = num1 > facetSliderComponent.initialEndOfSlider ? facetSliderComponent.initialStartOfSlider:num1;

        if(signInp2Charval === facetSign){
                var num2 = signInp2sliceVal;
                if((facetSign == '%') && (num2 % 1 != 0)){
                    num2  = num2;
                }else{
                    num2  = parseInt(num2);
                }
            }else{
            if(input2.value.includes(facetSign)){
                    num2  = input2.value.replace(facetSign,'');
                    if((facetSign == '%') && (num2 % 1 != 0)){
                        num2  = num2;
                    }else{
                        num2  = parseInt(input2.value);
                    }
                }else{
                    if((facetSign == '%') && (num2 % 1 != 0)){
                        num2  = input2.value;
                    }else{
                        num2 = parseInt(input2.value);
                    }
                }
            }
        num2 = num2 > facetSliderComponent.initialEndOfSlider ? facetSliderComponent.initialEndOfSlider:num2;
        num2 = num2 < facetSliderComponent.initialStartOfSlider ? facetSliderComponent.initialEndOfSlider:num2;
            if(parseInt(num1) > parseInt(num2)){
            facetSliderComponent.setSelectedValues([num2, num1]);
            facetSliderComponent['updateQueryState']();
            facetSliderComponent.usageAnalytics.logSearchEvent(Coveo.analyticsActionCauseList.facetRangeSlider, {
                facetId: facetSliderComponent.options.id,
                facetField: facetSliderComponent.options.field.toString(),
                facetRangeStart:  num1,
                facetRangeEnd: num2
            });
            facetSliderComponent.queryController.executeQuery();
        }else{
            input1.parentElement.classList.remove('error_slider');
            input2.parentElement.classList.remove('error_slider');
                facetSliderComponent.setSelectedValues([num1, num2]);
            facetSliderComponent['updateQueryState']();
            facetSliderComponent.usageAnalytics.logSearchEvent(Coveo.analyticsActionCauseList.facetRangeSlider, {
                    facetId: facetSliderComponent.options.id,
                    facetField: facetSliderComponent.options.field.toString(),
                    facetRangeStart:  num1,
                    facetRangeEnd: num2
                });
            facetSliderComponent.queryController.executeQuery();


        }
        facetSliderSignExp = event.target;
    }else{
        loadslidersign()
    }
}

function expandFilter(){
    try{
        facetSliderSignExp = facetSliderSignExp.closest('.facet_sliderDiv').querySelector('.coveo-slider-container');
        if (facetSliderSignExp.style.display == "block"){
        }
        else{
            facetSliderSignExp.closest('.facet_sliderDiv').querySelector('.coveo-facet-header').click();
        }
    }catch(e){
        console.log('facetSliderSignExp',e)
    }
}
      </script>
      <script type="text/x-magento-init">
       {
        "body": {
            "requireCookie": {"noCookieUrl":"https:\/\/www.lcbo.com\/en\/cookie\/index\/noCookies\/","triggers":[".action.towishlist"],"isRedirectCmsPage":true}        }
    }
      </script>
     </div>
    </div>
    <div data-bind="scope:'product_recommendations_below-main-content'">
     <!-- ko template: getTemplate() -->
     <!-- /ko -->
    </div>
    <script type="text/x-magento-init">
     {
            "*": {
                "Magento_Ui/js/core/app": {
                    "components": {
                        "product_recommendations_below-main-content": {
                            "component": "Magento_ProductRecommendationsLayout/js/layoutRenderer",
                            "pagePlacement": "below-main-content",
                            "placeholderUrl": "https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/Magento_Catalog/images/product/placeholder/image.jpg",
                            "priceFormat": {"pattern":"$%s","precision":2,"requiredPrecision":2,"decimalSymbol":".","groupSymbol":",","groupLength":3,"integerRequired":false},
                            "currencyConfiguration": {"currency":"CAD","rate":1},
                            "isAlternateEnvironmentEnabled": false                        }
                    }
                }
            }
        }
    </script>
   </main>
   <footer class="page-footer">
    <div class="footer content">
    </div>
    <div class="lcbo-footer-block-container">
     <div data-appearance="default" data-content-type="html" data-decoded="true" data-element="main">
      <div class="custom-footer">
       <div class="information accordion_footer">
        <p class="hideInMobile">
         Information
        </p>
        <button aria-controls="footer-accordion-1" aria-expanded="false" class="footer-accordion-heading">
         Information
        </button>
        <ul aria-hidden="false" class="footer-accordion-content" id="footer-accordion-1">
         <li>
          <a href="https://hellolcbo.com/">
           Customer Service
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/en/stores/">
           Find a Store
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/en/events">
           Events
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/about.html">
           About LCBO
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/en/aeroplan">
           Aeroplan
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/about/media-centre.html">
           Media Centre
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/careers.html">
           Careers
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/about/aboutourbusiness/importing.html">
           Importing Products
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/glossary.html">
           Glossary
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/pages/app.html">
           Mobile App
          </a>
         </li>
        </ul>
       </div>
       <div class="online-orders accordion_footer">
        <p class="hideInMobile">
         Online Orders
        </p>
        <button aria-controls="footer-accordion-2" aria-expanded="false" class="footer-accordion-heading">
         Online Orders
        </button>
        <ul aria-hidden="false" class="footer-accordion-content" id="footer-accordion-2">
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/faq.html">
           Online Order FAQ
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/homepage/choose-your-most-convenient-delivery-option.html">
           Delivery Options
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/faq.html#return-policy">
           Returns
          </a>
         </li>
        </ul>
       </div>
       <div class="online-policies accordion_footer">
        <p class="hideInMobile">
         Policies
        </p>
        <button aria-controls="footer-accordion-3" aria-expanded="false" class="footer-accordion-heading">
         Policies
        </button>
        <ul aria-hidden="false" class="footer-accordion-content" id="footer-accordion-3">
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/terms-and-conditions.html">
           Terms &amp; Conditions
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/privacy.html">
           Privacy
          </a>
         </li>
         <li>
          <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/accessibility.html">
           Accessibility
          </a>
         </li>
        </ul>
       </div>
       <div class="doing-business-with-lcbo accordion_footer">
        <p class="hideInMobile">
         Information for Businesses
        </p>
        <button aria-controls="footer-accordion-4" aria-expanded="false" class="footer-accordion-heading">
         Information for Businesses
        </button>
        <ul aria-hidden="false" class="footer-accordion-content" id="footer-accordion-4">
         <li>
          <a href="https://www.doingbusinesswithlcbo.com/content/dbwl/en/basepage/home.html">
           Doing Business with LCBO
          </a>
         </li>
         <li>
          <a href="https://www.doingbusinesswithlcbo.com/content/dbwl/en/basepage/home/retail/LCBOProcurementServices.html">
           Procurement Services
          </a>
         </li>
         <li>
          <a href="https://www.doingbusinesswithlcbo.com/content/dbwl/en/basepage/home/Wholesale/Specialty-services.html">
           Specialty Services
          </a>
         </li>
        </ul>
       </div>
       <div class="newsletter-subscribe">
        <div class="newsletter">
         <style>
          .privacy_2div .new_tab_icon { filter: invert(1); }
         </style>
         <div id="formNewsletterFooter" style="display:block">
          <p>
           Sign up for Emails
          </p>
          <div class="block newsletter">
           <div class="title">
            <strong>
             Newsletter
            </strong>
           </div>
           <div class="content">
            <div>
             <p class="news_span_txt" id="signup-for-emails">
              Be the first to know about sales, exclusive offers, new releases, and more!
             </p>
            </div>
            <form action="https://www.lcbo.com/en/telus/account/subscriptionNewsletter/" class="form subscribe" data-mage-init='{"validation": {"errorClass": "mage-error"}}' id="newsletter-validate-detail" method="post" novalidate="">
             <div class="requiredCopy">
              <span>
               All fields below are required.
              </span>
             </div>
             <div class="field newsletter">
              <div class="news_main">
               <span class="sr-only">
                Sign Up for Our Newsletter:
               </span>
               <label class="label" for="newsletter">
                <span>
                 Email Address
                </span>
               </label>
               <input aria-describedby="signup-for-emails" aria-required="true" data-mage-init='{"mage/trim-input":{}}' data-validate="{required:true, 'validate-email':true}" id="newsletter" name="email" type="email"/>
               <div class="control age_margn">
                <div class="age_confirm">
                 <label class="agelabel_txt">
                  <span aria-hidden="true" class="age_older_span" tabindex="-1">
                   I'm 19 or older
                  </span>
                  <input aria-label="I'm 19 or older" aria-required="true" data-msg-required="You have to be at least 19 to sign up for emails." data-validate="{required:true}" id="confirmation_age" name="confirmation_age" tabindex="0" type="checkbox" value="1"/>
                  <span class="w3docs">
                  </span>
                 </label>
                </div>
               </div>
               <div class="control priv_margn">
                <div class="privacy_checkbox">
                 <label class="privacy_label_foot">
                  <span aria-hidden="true" class="span_privacy" tabindex="-1">
                   I agree to receive emails from the LCBO
                  </span>
                  <input aria-label="I agree to receive emails from the LCBO" aria-required="true" data-msg-required="You must agree to receive emails from the LCBO." data-validate="{required:true}" id="privacy" name="privacy" tabindex="0" type="checkbox"/>
                  <span class="w3docs">
                  </span>
                 </label>
                </div>
               </div>
              </div>
              <div class="footer_privacy_notice" id="disclaimer_data">
               <p aria-label="Privacy Notice">
                Privacy Notice
               </p>
               <div class="disclaimer_data_lcb">
                The personal information related to an LCBO Email subscription, including information collected through the use of cookies and similar tracking technologies that can sometimes be considered personal information, is collected under the authority of the
                <i>
                 Liquor Control Board of Ontario Act, 2019, SO 2019, c 15, Sch 21, Section 3
                </i>
                and in compliance with the
                <i>
                 Freedom of Information and Protection of Privacy Act
                </i>
                and will be used for the purpose of providing you with communications and offers from the LCBO. If you provide your Aeroplan member number we also will use LCBO purchases made using this number to customize the communications and offers you receive. If you have questions regarding the collection and use of your personal information please contact LCBO’s Freedom of Information and Privacy Office: 100 Queens Quay East, 9th Floor, Toronto, ON, M5E 0C7,
                <a href="mailto:foi.privacy@lcbo.com" style="padding-right: 0px;">
                 foi.privacy@lcbo.com
                </a>
                , or 416-864-2462. You may also visit the LCBO
                <a href="https://www.lcbo.com/content/lcbo/en/corporate-pages/privacy.html" style="padding-right: 0px;" target="_blank">
                 Privacy Policy
                 <img alt="Opens in a new tab" class="new_tab_icon" style="height:12px;"/>
                </a>
                for further details.
                <br/>
                <br/>
                <i>
                 ®Aeroplan is a registered trademark of Aeroplan Inc., used under license.
                </i>
               </div>
               <p class="foot_more">
                <a aria-label="Read More about Privacy Notice" href="javascript:void(0);" role="button">
                 Read More
                </a>
               </p>
               <p class="foot_less">
                <a aria-label="Read Less about Privacy Notice" href="javascript:void(0);" role="button">
                 Read Less
                </a>
               </p>
              </div>
             </div>
             <div class="actions">
              <button class="action subscribe primary subsc_btn" type="submit">
               <span>
                Sign Up
               </span>
              </button>
             </div>
            </form>
           </div>
          </div>
         </div>
         <script>
          require(['jquery'],function($){
        $(document).ready(function(){
            $(".new_tab_icon").attr("src","https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/external-link.png");

            var isLoggedIn = jQuery('.authorization-link > a').attr('href').indexOf('/login')<0;
            if(isLoggedIn){
                $('#formNewsletterFooter').hide();
            }else{
                $('#formNewsletterFooter').show();
            }
        });

        $(document).on('click','.action.subscribe.primary.subsc_btn',function() {
            $(this).parents('.form.subscribe')
            .find('.coveosearchinterface .custom-footer .age_confirm .agelabel_txt input.mage-error + span.w3docs')
            .addClass("error_border");
            setTimeout(function() {
                var err = $('<div />');
                err.html("All\u0020fields\u0020below\u0020are\u0020required.");
                if($('.form.subscribe').find('input').hasClass('mage-error')) {
                    $('.news_main').prepend(err);
                    err.attr("generated","true").attr("class","error_text mage-error").attr("role","alert").css("margin-bottom","8px");
                } else {
                    $('.error_text').remove();
                }
            }, 100);
        });
    });
         </script>
         <script type="text/x-magento-init">
          {
        "*": {
            "Magento_Customer/js/block-submit-on-send": {
                "formId": "newsletter-validate-detail"
            }
        }
    }
         </script>
        </div>
       </div>
       <div class="social-share">
        <span class="facebook">
         <a href="https://www.facebook.com/LCBO/" rel="noopener noreferrer" target="_blank">
          <img alt="LCBO Facebook Page" src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/facebook.svg"/>
         </a>
        </span>
        <span class="twitter">
         <a href="https://twitter.com/LCBO" rel="noopener noreferrer" target="_blank">
          <img alt="LCBO Twitter Page" src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/twitter.svg"/>
         </a>
        </span>
        <span class="instagram">
         <a href="https://www.instagram.com/lcbo/" rel="noopener noreferrer" target="_blank">
          <img alt="LCBO Instagram Page" src="https://www.lcbo.com/static/version1706846107/frontend/Lcbo/default/en_CA/images/icons/instagram.svg"/>
         </a>
        </span>
       </div>
      </div>
     </div>
    </div>
   </footer>
   <script type="text/x-magento-init">
    {
            "*": {
                "Magento_Ui/js/core/app": {
                    "components": {
                        "storage-manager": {
                            "component": "Magento_Catalog/js/storage-manager",
                            "appendTo": "",
                            "storagesConfiguration" : {"recently_viewed_product":{"requestConfig":{"syncUrl":"https:\/\/www.lcbo.com\/en\/catalog\/product\/frontend_action_synchronize\/"},"lifetime":"1000","allowToSendRequest":null},"recently_compared_product":{"requestConfig":{"syncUrl":"https:\/\/www.lcbo.com\/en\/catalog\/product\/frontend_action_synchronize\/"},"lifetime":"1000","allowToSendRequest":null},"product_data_storage":{"updateRequestConfig":{"url":"https:\/\/www.lcbo.com\/en\/rest\/en\/V1\/products-render-info"},"requestConfig":{"syncUrl":"https:\/\/www.lcbo.com\/en\/catalog\/product\/frontend_action_synchronize\/"},"allowToSendRequest":null}}                        }
                    }
                }
            }
        }
   </script>
   <script type="text/x-magento-init">
    {
    "*": {
        "Adobe_Launch/js/view/launch": {
            "datalayerName": "adobeDataLayer"
        }
    }
}
   </script>
   <script type="text/x-magento-init">
    {
        "*": {
            "Adobe_Launch/js/view/datalayer": {
                "datalayerName": "adobeDataLayer",
                "datalayer": ["{\"event\":\"Page Loaded\",\"page\":{\"pageType\":\"catalog_category_view\",\"pageName\":\"White Wine | LCBO\",\"breadcrumbs\":[\"Home\",\"Products\",\"Wine\",\"White Wine\"]}}","{\"event\":\"Listing Viewed\",\"listing\":{\"listingResults\":{\"resultsShown\":43392,\"resultsCount\":43392},\"listingParams\":{\"sorts\":{\"sortOrder\":\"asc\",\"sortKey\":\"position\"}}}}"]            }
        }
    }
   </script>
   <style>
    .stt-button,
    .stt-icon,
    .stt-image {
        width: 50px;
        height: 50px;
    }
    .stt-button {
        right: 40px ; bottom: 89px;
    }

    .stt-text {
        background-color: transparent;
        color: #ff9500;
        font-size: 40px;
    }

    .stt-button:hover .stt-text {
        background-color: #ffaa00;
        color: #004aeb;
    }

    .stt-button:hover .stt-icon {
        background-color: #ffaa00;
        color: #004aeb
    }

    .stt-icon {
        background-color: transparent;
        font-size: 50px;
        color: #ff9500;
    }

    .stt-button.animate__animated.animate__fadeOutUp {
z-index: -1;
}
.stt-button { right:37px;bottom:10px;z-index:99999999;}
.stt-image {width:56px;height:56px;bottom:50%;}
.stt-image:hover {opacity:1}



@media all and (max-width: 768px) {
.catalog-product-view #scroll-to-top {display:none}

.stt-button {
right: 16px;
bottom: 10px;
}
}
   </style>
   <div class="stt-button animate__animated" id="scroll-to-top">
    <img alt="Scroll To Top" class="stt-image" src="https://www.lcbo.com/media/scroll_to_top/image/default/btp.png" tabindex="0"/>
   </div>
   <script type="text/javascript">
    require(['jquery'], function ($) {
        function buttonStatus() {
            height = $(document).scrollTop();
            distanceByPercent = $(document).height() * 0.4;
            distance = 100;
            switch (2) {
                case 1:
                    distance = 0;
                    break;
                case 2:
                    distance = distanceByPercent
                    if (0.4 > 0.5) {
                        distance = distance -  $(window).height();
                    };
                    break;
                    
                default: distance = 100;
                    break;
            }

            if (height >= distance) {
                $("#scroll-to-top").attr('class' , 'stt-button animate__animated animate__bounce');
                $('#scroll-to-top').css('visibility', 'visible');
            } else {
                $("#scroll-to-top").attr('class' , 'stt-button animate__animated animate__fadeOutUp');
                if ("animate__fadeOutUp" == "animate__none") {
                    $('#scroll-to-top').css('visibility', 'hidden');
                }
            }
            
            if (0 == 1) {
                if ($(window).width() >= 720) {
                    $('#scroll-to-top').css('visibility', 'visible');
                } else {
                    $('#scroll-to-top').css('visibility', 'hidden');
                }
            }
        }

        $("#scroll-to-top").click(function (event) {
            $("html, body").stop().animate({
                scrollTop: 0
            }, "slow");
        });

        $(window).scroll(function () {
            buttonStatus();
        });

        $(document).ready(function () {
            buttonStatus();
        });
    })
   </script>
   <div class="overlay-focus-megamenu">
   </div>
   <script>
    window.screenM = '768';
    window.widthThreshold = '768';
    window.designSettingsEnabled = '0';
    window.menuFocusOverlay = '';

    require(['jquery', 'navigationJs' ],
        function   ($, navigationJs) {
            $(document).ready(function() {
                navigationJs.init();
                $(window).on('resize', function() {
                    navigationJs.init();
                });
            });
        });
   </script>
   <script>
    require(['magentoStorefrontEvents'], function (magentoStorefrontEvents) {
        if(!magentoStorefrontEvents) return;
        
        magentoStorefrontEvents.context.setPage({
            pageType: "Category"
        });
        magentoStorefrontEvents.context.setContext("pageExtended", {
            action: "category-view"
        });
        magentoStorefrontEvents.context.setCategory({"name":"White Wine","urlKey":"white-wine","urlPath":"products\/wine\/white-wine"});
    });
   </script>
   <small class="copyright">
    <span>
     You must be 19 years of age to purchase alcohol. Please note that we only deliver in Ontario.  © 2023 LCBO
    </span>
   </small>
  </div>
  <script type="text/javascript">
   window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"NRJS-8e25409fe505fc54578","applicationID":"972652360","transactionName":"NQFRZBNVCkQFVkxeXgxLclMVXQtZS1ZZQ1AOC1QfAlUQUgNaSk4eFA1WRw==","queueTime":0,"applicationTime":4578,"atts":"GUZSEltPGUo=","errorBeacon":"bam.nr-data.net","agent":""}
  </script>
 </body>
</html>
